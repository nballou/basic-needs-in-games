<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nick Ballou">
<meta name="author" content="Tamás Andrei Földes">
<meta name="author" content="Matti Vuorre">
<meta name="author" content="Thomas Hakman">
<meta name="author" content="Kristoffer Magnusson">
<meta name="author" content="Andrew K Przybylski">
<meta name="keywords" content="motivation, digital trace data, video games, self-determination theory, displacement, compensatory behaviour">

<title>All BANG, little buck: Need-related experiences are weak predictors of behaviour in the video game domain</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-707d8167ce6003fca903bfe2be84ab7f.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-4b69135e361b8f80d2fc3c550db0582b.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-2bbb2c8a00f8e0ab875a2746afe3389c.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-4b69135e361b8f80d2fc3c550db0582b.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">1</span> Introduction</a></li>
  <li><a href="#self-determination-theory" id="toc-self-determination-theory" class="nav-link" data-scroll-target="#self-determination-theory"><span class="header-section-number">2</span> Self-determination theory</a>
  <ul class="collapse">
  <li><a href="#the-basic-needs-in-games-bang-model" id="toc-the-basic-needs-in-games-bang-model" class="nav-link" data-scroll-target="#the-basic-needs-in-games-bang-model"><span class="header-section-number">2.1</span> The Basic Needs in Games (BANG) Model</a></li>
  </ul></li>
  <li><a href="#study-1" id="toc-study-1" class="nav-link" data-scroll-target="#study-1"><span class="header-section-number">3</span> Study 1</a>
  <ul class="collapse">
  <li><a href="#study-1-method" id="toc-study-1-method" class="nav-link" data-scroll-target="#study-1-method"><span class="header-section-number">3.1</span> Study 1 Method</a></li>
  <li><a href="#study-1-results-confirmatory" id="toc-study-1-results-confirmatory" class="nav-link" data-scroll-target="#study-1-results-confirmatory"><span class="header-section-number">3.2</span> Study 1 Results: Confirmatory</a></li>
  </ul></li>
  <li><a href="#study-2-exploratory-evidence-from-powerwash-simulator" id="toc-study-2-exploratory-evidence-from-powerwash-simulator" class="nav-link" data-scroll-target="#study-2-exploratory-evidence-from-powerwash-simulator"><span class="header-section-number">4</span> Study 2: Exploratory Evidence from PowerWash Simulator</a>
  <ul class="collapse">
  <li><a href="#study-2-method" id="toc-study-2-method" class="nav-link" data-scroll-target="#study-2-method"><span class="header-section-number">4.1</span> Study 2 Method</a></li>
  <li><a href="#study-2-results-exploratory" id="toc-study-2-results-exploratory" class="nav-link" data-scroll-target="#study-2-results-exploratory"><span class="header-section-number">4.2</span> Study 2 Results: Exploratory</a></li>
  </ul></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion"><span class="header-section-number">5</span> Discussion</a>
  <ul class="collapse">
  <li><a href="#alternative-behavioural-frameworks" id="toc-alternative-behavioural-frameworks" class="nav-link" data-scroll-target="#alternative-behavioural-frameworks"><span class="header-section-number">5.1</span> Alternative behavioural frameworks</a></li>
  <li><a href="#the-value-of-open-behavioral-data" id="toc-the-value-of-open-behavioral-data" class="nav-link" data-scroll-target="#the-value-of-open-behavioral-data"><span class="header-section-number">5.2</span> The value of open behavioral data</a></li>
  <li><a href="#implications-for-the-bang-model" id="toc-implications-for-the-bang-model" class="nav-link" data-scroll-target="#implications-for-the-bang-model"><span class="header-section-number">5.3</span> Implications for the BANG model</a></li>
  <li><a href="#limitations-and-future-directions" id="toc-limitations-and-future-directions" class="nav-link" data-scroll-target="#limitations-and-future-directions"><span class="header-section-number">5.4</span> Limitations and Future Directions</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="header-section-number">6</span> References</a></li>
  <li><a href="#appendix" id="toc-appendix" class="nav-link" data-scroll-target="#appendix"><span class="header-section-number">7</span> Appendix</a>
  <ul class="collapse">
  <li><a href="#full-model-outputs" id="toc-full-model-outputs" class="nav-link" data-scroll-target="#full-model-outputs"><span class="header-section-number">7.1</span> Full Model Outputs</a></li>
  <li><a href="#diagnostics" id="toc-diagnostics" class="nav-link" data-scroll-target="#diagnostics"><span class="header-section-number">7.2</span> Diagnostics</a></li>
  <li><a href="#sensitivity-analyses" id="toc-sensitivity-analyses" class="nav-link" data-scroll-target="#sensitivity-analyses"><span class="header-section-number">7.3</span> Sensitivity Analyses</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="index.pdf"><i class="bi bi-file-pdf"></i>Typst (preprint)</a></li><li><a href="index.docx"><i class="bi bi-file-word"></i>MS Word</a></li></ul></div><div class="quarto-other-links"><h2>Other Links</h2><ul><li><a href="https://osf.io/pb5nu"><i class="bi bi-file-pdf"></i>Stage 1 Registered Report</a></li></ul></div><div class="quarto-code-links"><h2>Code Links</h2><ul><li><a href="https://github.com/nballou/basic-needs-in-games/" target="_blank"><i class="bi bi-github"></i>GitHub Repo</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><p>All BANG, little buck: Need-related experiences are weak predictors of behaviour in the video game domain</p></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Authors</div>
  <div class="quarto-title-meta-heading">Affiliations</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Nick Ballou <a href="mailto:nick@nickballou.com" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0003-4126-0696" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            University of Oxford
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Tamás Andrei Földes <a href="mailto:tamas.foldes@oii.ox.ac.uk" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0002-0623-9149" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            University of Oxford
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Matti Vuorre <a href="mailto:mjvuorre@uvt.nl" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0001-5052-066X" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Tilburg University
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Thomas Hakman <a href="mailto:thomas.hakman@oii.ox.ac.uk" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0009-0009-8292-2482" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            University of Oxford
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Kristoffer Magnusson <a href="https://orcid.org/0000-0003-0713-0556" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Karolinska Institute
          </p>
        <p class="affiliation">
            University of Oxford
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Andrew K Przybylski <a href="mailto:andy.przybylski@oii.ox.ac.uk" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0001-5547-2185" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            University of Oxford
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Abstract</div>
    <p>Psychological theories of media use often assume that subjective motivation translates into observable behavior. Using video games as a test case, we examine this assumption by pairing repeated self-reports with objective play telemetry at scale. Across two open datasets comprising tens of thousands of hours of observed gaming behaviour, we test predictions derived from self-determination theory and the Basic Needs in Games (BANG) model, which posit that autonomy, competence, and relatedness experiences drive engagement. Study 1 (preregistered) analyzes 11k daily observations from 555 U.S. players with 30 days of multi-platform telemetry. Study 2 (exploratory) examines 102k sessions from 9k PowerWash Simulator players, linking in-game experience prompts to behavioral logs. In both studies, need satisfaction robustly predicted subjective states but showed weak or null associations with short-term gaming behavior, including subsequent play, session length, and return latency, across extensive preregistered and robustness analyses. These findings reveal a substantial motivation–behavior gap and suggest that SDT-based accounts may overestimate the role of need satisfaction in explaining when people play. Data and codebook are available under a CC0 license at https://zenodo.org/records/17609160.</p>
  </div>
</div>

<div>
  <div class="keywords">
    <div class="block-title">Keywords</div>
    <p>motivation, digital trace data, video games, self-determination theory, displacement, compensatory behaviour</p>
  </div>
</div>

</header>


<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Load required R packages)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glue)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glmmTMB)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lme4)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(marginaleffects)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mice)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(howManyImputations)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(future)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelsummary)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DHARMa)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(brms)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom.mixed)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tinytable)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(litedown)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggdist)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(splines)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Set random seed and global options)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">8675309</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>, <span class="at">timeout =</span> <span class="dv">600</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_update</span>(</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"black"</span>),</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel.border =</span> <span class="fu">element_rect</span>(</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">"black"</span>,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="cn">NA</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Define consistent color palette for all visualizations</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">game_ns =</span> <span class="st">"#4477AA"</span>, <span class="co"># Blue for game need satisfaction</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">global_ns =</span> <span class="st">"#66CCEE"</span>, <span class="co"># Cyan for global need satisfaction</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">global_nf =</span> <span class="st">"#EE6677"</span>, <span class="co"># Red for global need frustration</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">nintendo =</span> <span class="st">"#E60012"</span>, <span class="co"># Nintendo red</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">xbox =</span> <span class="st">"#107C10"</span>, <span class="co"># Xbox green</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">steam =</span> <span class="st">"#171A21"</span>, <span class="co"># Steam dark</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">within =</span> <span class="st">"#228833"</span>, <span class="co"># Green for within-person variance</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">between =</span> <span class="st">"#BBBBBB"</span> <span class="co"># Gray for between-person variance</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Define human-readable labels for snake_case column names</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Base variables</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_ns"</span> <span class="ot">=</span> <span class="st">"Game need satisfaction"</span>,</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_nf"</span> <span class="ot">=</span> <span class="st">"Game need frustration"</span>,</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_ns"</span> <span class="ot">=</span> <span class="st">"Global need satisfaction"</span>,</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_nf"</span> <span class="ot">=</span> <span class="st">"Global need frustration"</span>,</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>  <span class="st">"session_length"</span> <span class="ot">=</span> <span class="st">"Session length"</span>,</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>  <span class="st">"session_gap"</span> <span class="ot">=</span> <span class="st">"Time to next session"</span>,</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Within-person</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_ns_cw"</span> <span class="ot">=</span> <span class="st">"Game need satisfaction (within)"</span>,</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_nf_cw"</span> <span class="ot">=</span> <span class="st">"Game need frustration (within)"</span>,</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_ns_cw"</span> <span class="ot">=</span> <span class="st">"Global need satisfaction (within)"</span>,</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_nf_cw"</span> <span class="ot">=</span> <span class="st">"Global need frustration (within)"</span>,</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Between-person</span></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_ns_cb"</span> <span class="ot">=</span> <span class="st">"Game need satisfaction (between)"</span>,</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_nf_cb"</span> <span class="ot">=</span> <span class="st">"Game need frustration (between)"</span>,</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_ns_cb"</span> <span class="ot">=</span> <span class="st">"Global need satisfaction (between)"</span>,</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_nf_cb"</span> <span class="ot">=</span> <span class="st">"Global need frustration (between)"</span>,</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Within-person (alternate)</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_ns (within-person)"</span> <span class="ot">=</span> <span class="st">"Game need satisfaction (within-person)"</span>,</span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_ns (within-person)"</span> <span class="ot">=</span> <span class="st">"Global need satisfaction (within-person)"</span>,</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_nf (within-person)"</span> <span class="ot">=</span> <span class="st">"Global need frustration (within-person)"</span>,</span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Between-person (alternate)</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_ns (between-person)"</span> <span class="ot">=</span> <span class="st">"Game need satisfaction (between-person)"</span>,</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_ns (between-person)"</span> <span class="ot">=</span> <span class="st">"Global need satisfaction (between-person)"</span>,</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_nf (between-person)"</span> <span class="ot">=</span> <span class="st">"Global need frustration (between-person)"</span>,</span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Interaction</span></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_ns_cw:global_nf_cw"</span> <span class="ot">=</span> <span class="st">"Game need satisfaction × Global need frustration (within)"</span>,</span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Displacement</span></span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>  <span class="st">"displaced_core_domain"</span> <span class="ot">=</span> <span class="st">"Displaced core domain"</span>,</span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>  <span class="st">"displaced_core_domainTRUE"</span> <span class="ot">=</span> <span class="st">"Displaced core domain"</span>,</span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Variance components</span></span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Within-person"</span> <span class="ot">=</span> <span class="st">"Within-person"</span>,</span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Between-person"</span> <span class="ot">=</span> <span class="st">"Between-person"</span>,</span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Other</span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>  <span class="st">"(Intercept)"</span> <span class="ot">=</span> <span class="st">"Intercept"</span></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a><span class="co"># Load custom plotting functions</span></span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"R/plot_marginal_effects.R"</span>)</span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"R/helpers.R"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Download and load raw data from Zenodo)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Download data from Zenodo (one-time download, then cached locally)</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>zenodo_url <span class="ot">&lt;-</span> <span class="st">"https://zenodo.org/records/17609160/files/digital-wellbeing/open-play-v1.0.0.zip?download=1"</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>zip_path <span class="ot">&lt;-</span> <span class="st">"data/open-play-v1.0.0.zip"</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(zip_path)) {</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="fu">dirname</span>(zip_path), <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set longer timeout for large file (194MB) - default is 60 seconds</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">options</span>(<span class="at">timeout =</span> <span class="fu">max</span>(<span class="dv">600</span>, <span class="fu">getOption</span>(<span class="st">"timeout"</span>)))</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Downloading 194MB file from Zenodo (may take a few minutes)..."</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tryCatch</span>(</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">download.file</span>(zenodo_url, zip_path, <span class="at">mode =</span> <span class="st">"wb"</span>, <span class="at">method =</span> <span class="st">"libcurl"</span>)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="st">"Download complete!"</span>)</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="st">"Download failed. Please download manually from:"</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(zenodo_url)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"And save to: {normalizePath(zip_path, mustWork = FALSE)}"</span>))</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">stop</span>(e)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract zip if not already extracted</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>extract_dir <span class="ot">&lt;-</span> <span class="st">"data/open-play-v1.0.0"</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">dir.exists</span>(extract_dir)) {</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Extracting zip archive..."</span>)</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unzip</span>(zip_path, <span class="at">exdir =</span> <span class="st">"data"</span>)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename the extracted folder to a simpler name</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  extracted_folder <span class="ot">&lt;-</span> <span class="fu">list.dirs</span>(<span class="st">"data"</span>, <span class="at">recursive =</span> <span class="cn">FALSE</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  extracted_folder <span class="ot">&lt;-</span> extracted_folder[<span class="fu">grepl</span>(</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">"digital-wellbeing-open-play"</span>,</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    extracted_folder</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>  )]</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(extracted_folder) <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;&amp;</span> extracted_folder <span class="sc">!=</span> extract_dir) {</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">file.rename</span>(extracted_folder, extract_dir)</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Read files from extracted directory</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>intake <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">file.path</span>(extract_dir, <span class="st">"data/clean/survey_intake.csv.gz"</span>),</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">guess_max =</span> <span class="dv">10000</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>surveys <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">file.path</span>(</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>  extract_dir,</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>  <span class="st">"data/clean/survey_daily.csv.gz"</span></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>)) <span class="sc">|&gt;</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pid <span class="sc">%in%</span> intake<span class="sc">$</span>pid)</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>xbox <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">file.path</span>(extract_dir, <span class="st">"data/clean/xbox.csv.gz"</span>))</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>nintendo <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">file.path</span>(extract_dir, <span class="st">"data/clean/nintendo.csv.gz"</span>))</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>steam <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">file.path</span>(extract_dir, <span class="st">"data/clean/steam.csv.gz"</span>),</span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>  <span class="at">guess_max =</span> <span class="dv">10000</span></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a><span class="co"># Load helper functions</span></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="fu">file.path</span>(extract_dir, <span class="st">"R/helpers.R"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Process telemetry into hourly playtime with timezone adjustments)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># merge with the local time zone offsets from intake</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: We keep country and local_timezone for DST-aware conversion</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>tz_map <span class="ot">&lt;-</span> intake <span class="sc">|&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">pid =</span> <span class="fu">as.character</span>(pid),</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    country,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    local_timezone,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">.keep =</span> <span class="st">"none"</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(pid, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># aggregate data at each level of granularity (session, hourly, daily)</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 1) SESSION-LEVEL (Nintendo + Xbox) ------------------------------------</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>sessions_telemetry <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  xbox <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">platform =</span> <span class="st">"Xbox"</span>),</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  nintendo <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">platform =</span> <span class="st">"Nintendo"</span>)</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(tz_map, <span class="at">by =</span> <span class="st">"pid"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(local_timezone)) <span class="sc">|&gt;</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate DST-aware offset for each timestamp</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">offset_start =</span> <span class="fu">get_dst_offset</span>(session_start, country, local_timezone),</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">offset_end =</span> <span class="fu">get_dst_offset</span>(session_end, country, local_timezone),</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add offset to get local time values (keeping UTC label for compatibility)</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">start_local =</span> session_start <span class="sc">+</span> offset_start,</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">end_local =</span> session_end <span class="sc">+</span> offset_end,</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">duration_min =</span> <span class="fu">as.numeric</span>(<span class="fu">difftime</span>(</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>      session_end,</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>      session_start,</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">units =</span> <span class="st">"mins"</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(session_start),</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(session_end),</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    session_end <span class="sc">&gt;</span> session_start,</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    duration_min <span class="sc">&gt;=</span> <span class="dv">1</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 2) HOURLY (Nintendo + Xbox expanded) ----------------------------------</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a><span class="co"># expand sessions into local-hour bins, compute overlap minutes, and add UTC hour</span></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>hourly_from_sessions <span class="ot">&lt;-</span> sessions_telemetry <span class="sc">|&gt;</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(start_local), <span class="sc">!</span><span class="fu">is.na</span>(end_local)) <span class="sc">|&gt;</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">h0_local =</span> <span class="fu">floor_date</span>(start_local, <span class="st">"hour"</span>),</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">h1_local =</span> <span class="fu">floor_date</span>(end_local <span class="sc">-</span> <span class="fu">seconds</span>(<span class="dv">1</span>), <span class="st">"hour"</span>),</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_hours =</span> <span class="fu">as.integer</span>(<span class="fu">difftime</span>(h1_local, h0_local, <span class="at">units =</span> <span class="st">"hours"</span>)) <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(n_hours), n_hours <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">uncount</span>(n_hours, <span class="at">.remove =</span> <span class="cn">FALSE</span>, <span class="at">.id =</span> <span class="st">"k"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">hour_start_local =</span> h0_local <span class="sc">+</span> <span class="fu">hours</span>(k <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">minutes =</span> <span class="fu">pmax</span>(</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>      <span class="dv">0</span>,</span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.numeric</span>(<span class="fu">difftime</span>(</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pmin</span>(end_local, hour_start_local <span class="sc">+</span> <span class="fu">hours</span>(<span class="dv">1</span>)),</span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pmax</span>(start_local, hour_start_local),</span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>        <span class="at">units =</span> <span class="st">"mins"</span></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>      ))</span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert back to UTC (this preserves the instant, just changes label)</span></span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">hour_start_utc =</span> <span class="fu">with_tz</span>(hour_start_local, <span class="at">tzone =</span> <span class="st">"UTC"</span>)</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pid, platform, title_id, hour_start_local, hour_start_utc, minutes) <span class="sc">|&gt;</span></span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, platform, title_id, hour_start_local, hour_start_utc) <span class="sc">|&gt;</span></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">minutes =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>hourly_from_steam <span class="ot">&lt;-</span> steam <span class="sc">|&gt;</span></span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pid, title_id, datetime_hour_start, minutes) <span class="sc">|&gt;</span></span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pid =</span> <span class="fu">as.character</span>(pid)) <span class="sc">|&gt;</span></span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(tz_map, <span class="at">by =</span> <span class="st">"pid"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(local_timezone)) <span class="sc">|&gt;</span></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">platform =</span> <span class="st">"Steam"</span>,</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">hour_start_utc =</span> datetime_hour_start,</span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">offset =</span> <span class="fu">get_dst_offset</span>(datetime_hour_start, country, local_timezone),</span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Note: These are local time values with UTC labels due to R's POSIXct limitation</span></span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">hour_start_local =</span> datetime_hour_start <span class="sc">+</span> offset</span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pid, platform, title_id, hour_start_local, hour_start_utc, minutes) <span class="sc">|&gt;</span></span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, platform, title_id, hour_start_local, hour_start_utc) <span class="sc">|&gt;</span></span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">minutes =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a>hourly_telemetry <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(hourly_from_sessions, hourly_from_steam)</span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-86"><a href="#cb4-86" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 3) DAILY (Nintendo + Xbox + Steam; collapse hourly to days) -----------</span></span>
<span id="cb4-87"><a href="#cb4-87" aria-hidden="true" tabindex="-1"></a>daily_telemetry <span class="ot">&lt;-</span> hourly_telemetry <span class="sc">|&gt;</span></span>
<span id="cb4-88"><a href="#cb4-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-89"><a href="#cb4-89" aria-hidden="true" tabindex="-1"></a>    <span class="at">day_local =</span> <span class="fu">as.Date</span>(hour_start_local),</span>
<span id="cb4-90"><a href="#cb4-90" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb4-91"><a href="#cb4-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, platform, day_local) <span class="sc">|&gt;</span></span>
<span id="cb4-92"><a href="#cb4-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">minutes =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb4-93"><a href="#cb4-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-94"><a href="#cb4-94" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 4) weekly</span></span>
<span id="cb4-95"><a href="#cb4-95" aria-hidden="true" tabindex="-1"></a>weekly_telemetry <span class="ot">&lt;-</span> daily_telemetry <span class="sc">|&gt;</span></span>
<span id="cb4-96"><a href="#cb4-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-97"><a href="#cb4-97" aria-hidden="true" tabindex="-1"></a>    <span class="at">week =</span> <span class="fu">floor_date</span>(day_local, <span class="st">"week"</span>)</span>
<span id="cb4-98"><a href="#cb4-98" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb4-99"><a href="#cb4-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, platform, week) <span class="sc">|&gt;</span></span>
<span id="cb4-100"><a href="#cb4-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">minutes =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb4-101"><a href="#cb4-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-102"><a href="#cb4-102" aria-hidden="true" tabindex="-1"></a>telemetry_spans <span class="ot">&lt;-</span> daily_telemetry <span class="sc">|&gt;</span></span>
<span id="cb4-103"><a href="#cb4-103" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, platform) <span class="sc">|&gt;</span></span>
<span id="cb4-104"><a href="#cb4-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb4-105"><a href="#cb4-105" aria-hidden="true" tabindex="-1"></a>    <span class="at">telemetry_start =</span> <span class="fu">min</span>(day_local, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-106"><a href="#cb4-106" aria-hidden="true" tabindex="-1"></a>    <span class="at">telemetry_end =</span> <span class="fu">max</span>(day_local, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="fu">hours</span>(<span class="dv">1</span>), <span class="co"># end of last hour bin</span></span>
<span id="cb4-107"><a href="#cb4-107" aria-hidden="true" tabindex="-1"></a>    <span class="at">week =</span> <span class="fu">floor_date</span>(telemetry_end, <span class="st">"week"</span>),</span>
<span id="cb4-108"><a href="#cb4-108" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_weeks =</span> <span class="fu">as.integer</span>(<span class="fu">difftime</span>(</span>
<span id="cb4-109"><a href="#cb4-109" aria-hidden="true" tabindex="-1"></a>      telemetry_end,</span>
<span id="cb4-110"><a href="#cb4-110" aria-hidden="true" tabindex="-1"></a>      telemetry_start,</span>
<span id="cb4-111"><a href="#cb4-111" aria-hidden="true" tabindex="-1"></a>      <span class="at">units =</span> <span class="st">"weeks"</span></span>
<span id="cb4-112"><a href="#cb4-112" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb4-113"><a href="#cb4-113" aria-hidden="true" tabindex="-1"></a>      <span class="dv">1</span>,</span>
<span id="cb4-114"><a href="#cb4-114" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb4-115"><a href="#cb4-115" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Prepare survey data and calculate play windows)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Prepare data for imputation</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: We only impute individual items, not composites (to avoid collinearity)</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Composites will be calculated post-imputation</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>surveys <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>bpnsfs_failed_att_check) <span class="sc">|&gt;</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wave =</span> <span class="fu">as.factor</span>(wave))</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate play windows (both 24h and 12h for sensitivity analyses)</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>play_24h <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">survey_time =</span> <span class="fu">as.POSIXct</span>(date, <span class="at">tz =</span> <span class="st">"UTC"</span>),</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">window_end =</span> survey_time <span class="sc">+</span> <span class="fu">hours</span>(<span class="dv">24</span>)</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    hourly_telemetry <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, hour_start_utc, minutes),</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">join_by</span>(</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>      y<span class="sc">$</span>hour_start_utc <span class="sc">&gt;=</span> x<span class="sc">$</span>survey_time,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>      y<span class="sc">$</span>hour_start_utc <span class="sc">&lt;</span> x<span class="sc">$</span>window_end</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">play_minutes_24h =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> <span class="fu">c</span>(pid, survey_time)</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>play_12h <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">survey_time =</span> <span class="fu">as.POSIXct</span>(date, <span class="at">tz =</span> <span class="st">"UTC"</span>),</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">window_end =</span> survey_time <span class="sc">+</span> <span class="fu">hours</span>(<span class="dv">12</span>)</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    hourly_telemetry <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, hour_start_utc, minutes),</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">join_by</span>(</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>      y<span class="sc">$</span>hour_start_utc <span class="sc">&gt;=</span> x<span class="sc">$</span>survey_time,</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>      y<span class="sc">$</span>hour_start_utc <span class="sc">&lt;</span> x<span class="sc">$</span>window_end</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">play_minutes_12h =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> <span class="fu">c</span>(pid, survey_time)</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>play_6h <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">survey_time =</span> <span class="fu">as.POSIXct</span>(date, <span class="at">tz =</span> <span class="st">"UTC"</span>),</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">window_end =</span> survey_time <span class="sc">+</span> <span class="fu">hours</span>(<span class="dv">6</span>)</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>    hourly_telemetry <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, hour_start_utc, minutes),</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">join_by</span>(</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>      y<span class="sc">$</span>hour_start_utc <span class="sc">&gt;=</span> x<span class="sc">$</span>survey_time,</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>      y<span class="sc">$</span>hour_start_utc <span class="sc">&lt;</span> x<span class="sc">$</span>window_end</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">play_minutes_6h =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> <span class="fu">c</span>(pid, survey_time)</span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>play_24h_pre <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">survey_time =</span> <span class="fu">as.POSIXct</span>(date, <span class="at">tz =</span> <span class="st">"UTC"</span>),</span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">window_start =</span> survey_time <span class="sc">-</span> <span class="fu">hours</span>(<span class="dv">24</span>)</span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>    hourly_telemetry <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, hour_start_utc, minutes),</span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">join_by</span>(</span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a>      y<span class="sc">$</span>hour_start_utc <span class="sc">&gt;=</span> x<span class="sc">$</span>window_start,</span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>      y<span class="sc">$</span>hour_start_utc <span class="sc">&lt;</span> x<span class="sc">$</span>survey_time</span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">play_minutes_24h_pre =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> <span class="fu">c</span>(pid, survey_time)</span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare intake auxiliary variables</span></span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a>intake_aux <span class="ot">&lt;-</span> intake <span class="sc">|&gt;</span></span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">gender =</span> <span class="fu">ifelse</span>(gender <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Man"</span>, <span class="st">"Woman"</span>), gender, <span class="st">"Non-binary/other"</span>),</span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Extract numeric values from WEMWBS response strings</span></span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(wemwbs_1<span class="sc">:</span>wemwbs_7, <span class="sc">~</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(.x, <span class="st">"^</span><span class="sc">\\</span><span class="st">d+"</span>))),</span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a>    <span class="at">wemwbs =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(wemwbs_1<span class="sc">:</span>wemwbs_7), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb5-90"><a href="#cb5-90" aria-hidden="true" tabindex="-1"></a>    pid,</span>
<span id="cb5-91"><a href="#cb5-91" aria-hidden="true" tabindex="-1"></a>    age,</span>
<span id="cb5-92"><a href="#cb5-92" aria-hidden="true" tabindex="-1"></a>    gender,</span>
<span id="cb5-93"><a href="#cb5-93" aria-hidden="true" tabindex="-1"></a>    edu_level,</span>
<span id="cb5-94"><a href="#cb5-94" aria-hidden="true" tabindex="-1"></a>    employment,</span>
<span id="cb5-95"><a href="#cb5-95" aria-hidden="true" tabindex="-1"></a>    marital_status,</span>
<span id="cb5-96"><a href="#cb5-96" aria-hidden="true" tabindex="-1"></a>    <span class="at">life_sat_baseline =</span> life_sat,</span>
<span id="cb5-97"><a href="#cb5-97" aria-hidden="true" tabindex="-1"></a>    wemwbs,</span>
<span id="cb5-98"><a href="#cb5-98" aria-hidden="true" tabindex="-1"></a>    diaries_completed,</span>
<span id="cb5-99"><a href="#cb5-99" aria-hidden="true" tabindex="-1"></a>    self_reported_weekly_play</span>
<span id="cb5-100"><a href="#cb5-100" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-101"><a href="#cb5-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-102"><a href="#cb5-102" aria-hidden="true" tabindex="-1"></a><span class="co"># Load pre-classified activity categories</span></span>
<span id="cb5-103"><a href="#cb5-103" aria-hidden="true" tabindex="-1"></a>activity_categories <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/activity_categories.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-104"><a href="#cb5-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wave =</span> <span class="fu">as.factor</span>(wave))</span>
<span id="cb5-105"><a href="#cb5-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-106"><a href="#cb5-106" aria-hidden="true" tabindex="-1"></a>surveys <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb5-107"><a href="#cb5-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">survey_time =</span> <span class="fu">as.POSIXct</span>(date, <span class="at">tz =</span> <span class="st">"UTC"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-108"><a href="#cb5-108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(play_24h, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"survey_time"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-109"><a href="#cb5-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(play_12h, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"survey_time"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-110"><a href="#cb5-110" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(play_6h, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"survey_time"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-111"><a href="#cb5-111" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(play_24h_pre, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"survey_time"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-112"><a href="#cb5-112" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(intake_aux, <span class="at">by =</span> <span class="st">"pid"</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-113"><a href="#cb5-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(activity_categories, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"wave"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-114"><a href="#cb5-114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-115"><a href="#cb5-115" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Rename self-reported play to distinguish from telemetry</span></span>
<span id="cb5-116"><a href="#cb5-116" aria-hidden="true" tabindex="-1"></a>    <span class="at">self_reported_played_24h =</span> played24hr,</span>
<span id="cb5-117"><a href="#cb5-117" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Telemetry-based play (post-survey windows)</span></span>
<span id="cb5-118"><a href="#cb5-118" aria-hidden="true" tabindex="-1"></a>    <span class="at">telemetry_played_any_24h =</span> play_minutes_24h <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb5-119"><a href="#cb5-119" aria-hidden="true" tabindex="-1"></a>    <span class="at">telemetry_played_any_12h =</span> play_minutes_12h <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb5-120"><a href="#cb5-120" aria-hidden="true" tabindex="-1"></a>    <span class="at">telemetry_played_any_6h =</span> play_minutes_6h <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb5-121"><a href="#cb5-121" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Telemetry-based play (pre-survey window)</span></span>
<span id="cb5-122"><a href="#cb5-122" aria-hidden="true" tabindex="-1"></a>    <span class="at">telemetry_played_any_24h_pre =</span> play_minutes_24h_pre <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb5-123"><a href="#cb5-123" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb5-124"><a href="#cb5-124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb5-125"><a href="#cb5-125" aria-hidden="true" tabindex="-1"></a>    pid,</span>
<span id="cb5-126"><a href="#cb5-126" aria-hidden="true" tabindex="-1"></a>    wave,</span>
<span id="cb5-127"><a href="#cb5-127" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Auxiliary predictors (not imputed)</span></span>
<span id="cb5-128"><a href="#cb5-128" aria-hidden="true" tabindex="-1"></a>    date,</span>
<span id="cb5-129"><a href="#cb5-129" aria-hidden="true" tabindex="-1"></a>    age,</span>
<span id="cb5-130"><a href="#cb5-130" aria-hidden="true" tabindex="-1"></a>    gender,</span>
<span id="cb5-131"><a href="#cb5-131" aria-hidden="true" tabindex="-1"></a>    edu_level,</span>
<span id="cb5-132"><a href="#cb5-132" aria-hidden="true" tabindex="-1"></a>    employment,</span>
<span id="cb5-133"><a href="#cb5-133" aria-hidden="true" tabindex="-1"></a>    marital_status,</span>
<span id="cb5-134"><a href="#cb5-134" aria-hidden="true" tabindex="-1"></a>    life_sat_baseline,</span>
<span id="cb5-135"><a href="#cb5-135" aria-hidden="true" tabindex="-1"></a>    wemwbs,</span>
<span id="cb5-136"><a href="#cb5-136" aria-hidden="true" tabindex="-1"></a>    diaries_completed,</span>
<span id="cb5-137"><a href="#cb5-137" aria-hidden="true" tabindex="-1"></a>    self_reported_weekly_play,</span>
<span id="cb5-138"><a href="#cb5-138" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Self-reported play (used to control BANGS imputation)</span></span>
<span id="cb5-139"><a href="#cb5-139" aria-hidden="true" tabindex="-1"></a>    self_reported_played_24h,</span>
<span id="cb5-140"><a href="#cb5-140" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Variables to impute: individual items only (composites calculated post-imputation)</span></span>
<span id="cb5-141"><a href="#cb5-141" aria-hidden="true" tabindex="-1"></a>    bpnsfs_1,</span>
<span id="cb5-142"><a href="#cb5-142" aria-hidden="true" tabindex="-1"></a>    bpnsfs_2,</span>
<span id="cb5-143"><a href="#cb5-143" aria-hidden="true" tabindex="-1"></a>    bpnsfs_3,</span>
<span id="cb5-144"><a href="#cb5-144" aria-hidden="true" tabindex="-1"></a>    bpnsfs_4,</span>
<span id="cb5-145"><a href="#cb5-145" aria-hidden="true" tabindex="-1"></a>    bpnsfs_5,</span>
<span id="cb5-146"><a href="#cb5-146" aria-hidden="true" tabindex="-1"></a>    bpnsfs_6,</span>
<span id="cb5-147"><a href="#cb5-147" aria-hidden="true" tabindex="-1"></a>    bangs_1,</span>
<span id="cb5-148"><a href="#cb5-148" aria-hidden="true" tabindex="-1"></a>    bangs_2,</span>
<span id="cb5-149"><a href="#cb5-149" aria-hidden="true" tabindex="-1"></a>    bangs_3,</span>
<span id="cb5-150"><a href="#cb5-150" aria-hidden="true" tabindex="-1"></a>    bangs_4,</span>
<span id="cb5-151"><a href="#cb5-151" aria-hidden="true" tabindex="-1"></a>    bangs_5,</span>
<span id="cb5-152"><a href="#cb5-152" aria-hidden="true" tabindex="-1"></a>    bangs_6,</span>
<span id="cb5-153"><a href="#cb5-153" aria-hidden="true" tabindex="-1"></a>    displaced_core_domain,</span>
<span id="cb5-154"><a href="#cb5-154" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Telemetry (not imputed in mice, but needed for analysis)</span></span>
<span id="cb5-155"><a href="#cb5-155" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h,</span>
<span id="cb5-156"><a href="#cb5-156" aria-hidden="true" tabindex="-1"></a>    play_minutes_24h,</span>
<span id="cb5-157"><a href="#cb5-157" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_12h,</span>
<span id="cb5-158"><a href="#cb5-158" aria-hidden="true" tabindex="-1"></a>    play_minutes_12h,</span>
<span id="cb5-159"><a href="#cb5-159" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_6h,</span>
<span id="cb5-160"><a href="#cb5-160" aria-hidden="true" tabindex="-1"></a>    play_minutes_6h,</span>
<span id="cb5-161"><a href="#cb5-161" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h_pre,</span>
<span id="cb5-162"><a href="#cb5-162" aria-hidden="true" tabindex="-1"></a>    play_minutes_24h_pre</span>
<span id="cb5-163"><a href="#cb5-163" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center" data-freeze="false">
<details class="code-fold">
<summary>Show code (Run MICE imputation on analytical sample)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Multiple imputation in wide format</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Main analysis uses analytical sample only (≥15 waves, N~555)</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># - Higher quality data → stable FMI estimates</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># - Run determine_m_imputations.qmd to calculate required M</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co"># - Update M_IMPUTATIONS to recommended value</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analysis (full sample imputation) in separate chunk below</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Define minimum waves threshold for analytical sample</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>min_waves <span class="ot">&lt;-</span> <span class="dv">15</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>full_eligible_pids <span class="ot">&lt;-</span> <span class="fu">unique</span>(surveys<span class="sc">$</span>pid)</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Imputing analytical sample: {length(unique(surveys$pid[surveys$diaries_completed &gt;= min_waves]))}/{length(full_eligible_pids)} participants with ≥{min_waves} waves"</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Separate telemetry (no missing data) from survey variables (to be imputed)</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter to analytical sample here without overwriting surveys</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>telemetry_vars <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(diaries_completed <span class="sc">&gt;=</span> min_waves) <span class="sc">|&gt;</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>    pid,</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>    wave,</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>    date,</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h,</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    play_minutes_24h,</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_12h,</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    play_minutes_12h,</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_6h,</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    play_minutes_6h,</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h_pre,</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>    play_minutes_24h_pre</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to wide format for imputation</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Auxiliary variables go in id_cols (used as predictors, not imputed)</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Only impute individual items, not composite scores (to avoid collinearity)</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>surveys_wide <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(diaries_completed <span class="sc">&gt;=</span> min_waves) <span class="sc">|&gt;</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>    pid,</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>    wave,</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>    age,</span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>    gender,</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>    edu_level,</span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>    employment,</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>    marital_status,</span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>    life_sat_baseline,</span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>    wemwbs,</span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>    diaries_completed,</span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>    self_reported_weekly_play,</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>    self_reported_played_24h,</span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>    displaced_core_domain,</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>    bpnsfs_1,</span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>    bpnsfs_2,</span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>    bpnsfs_3,</span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>    bpnsfs_4,</span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>    bpnsfs_5,</span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>    bpnsfs_6,</span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>    bangs_1,</span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>    bangs_2,</span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>    bangs_3,</span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a>    bangs_4,</span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a>    bangs_5,</span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>    bangs_6</span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_cols =</span> <span class="fu">c</span>(</span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a>      age,</span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a>      gender,</span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a>      edu_level,</span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a>      employment,</span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a>      marital_status,</span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a>      life_sat_baseline,</span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a>      wemwbs,</span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a>      diaries_completed,</span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a>      self_reported_weekly_play</span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> wave,</span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> <span class="fu">c</span>(</span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a>      self_reported_played_24h,</span>
<span id="cb6-84"><a href="#cb6-84" aria-hidden="true" tabindex="-1"></a>      displaced_core_domain,</span>
<span id="cb6-85"><a href="#cb6-85" aria-hidden="true" tabindex="-1"></a>      bpnsfs_1,</span>
<span id="cb6-86"><a href="#cb6-86" aria-hidden="true" tabindex="-1"></a>      bpnsfs_2,</span>
<span id="cb6-87"><a href="#cb6-87" aria-hidden="true" tabindex="-1"></a>      bpnsfs_3,</span>
<span id="cb6-88"><a href="#cb6-88" aria-hidden="true" tabindex="-1"></a>      bpnsfs_4,</span>
<span id="cb6-89"><a href="#cb6-89" aria-hidden="true" tabindex="-1"></a>      bpnsfs_5,</span>
<span id="cb6-90"><a href="#cb6-90" aria-hidden="true" tabindex="-1"></a>      bpnsfs_6,</span>
<span id="cb6-91"><a href="#cb6-91" aria-hidden="true" tabindex="-1"></a>      bangs_1,</span>
<span id="cb6-92"><a href="#cb6-92" aria-hidden="true" tabindex="-1"></a>      bangs_2,</span>
<span id="cb6-93"><a href="#cb6-93" aria-hidden="true" tabindex="-1"></a>      bangs_3,</span>
<span id="cb6-94"><a href="#cb6-94" aria-hidden="true" tabindex="-1"></a>      bangs_4,</span>
<span id="cb6-95"><a href="#cb6-95" aria-hidden="true" tabindex="-1"></a>      bangs_5,</span>
<span id="cb6-96"><a href="#cb6-96" aria-hidden="true" tabindex="-1"></a>      bangs_6</span>
<span id="cb6-97"><a href="#cb6-97" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb6-98"><a href="#cb6-98" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_sep =</span> <span class="st">"_w"</span></span>
<span id="cb6-99"><a href="#cb6-99" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-100"><a href="#cb6-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-101"><a href="#cb6-101" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up imputation model</span></span>
<span id="cb6-102"><a href="#cb6-102" aria-hidden="true" tabindex="-1"></a>M_IMPUTATIONS <span class="ot">&lt;-</span> <span class="dv">27</span></span>
<span id="cb6-103"><a href="#cb6-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-104"><a href="#cb6-104" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up imputation methods</span></span>
<span id="cb6-105"><a href="#cb6-105" aria-hidden="true" tabindex="-1"></a><span class="co"># Self-reported play: use logistic regression (binary Yes/No)</span></span>
<span id="cb6-106"><a href="#cb6-106" aria-hidden="true" tabindex="-1"></a>played_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide)[<span class="fu">grepl</span>(</span>
<span id="cb6-107"><a href="#cb6-107" aria-hidden="true" tabindex="-1"></a>  <span class="st">"^self_reported_played_24h_w"</span>,</span>
<span id="cb6-108"><a href="#cb6-108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(surveys_wide)</span>
<span id="cb6-109"><a href="#cb6-109" aria-hidden="true" tabindex="-1"></a>)]</span>
<span id="cb6-110"><a href="#cb6-110" aria-hidden="true" tabindex="-1"></a><span class="co"># BPNSFS items: always impute when missing (global need satisfaction)</span></span>
<span id="cb6-111"><a href="#cb6-111" aria-hidden="true" tabindex="-1"></a>bpnsfs_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide)[<span class="fu">grepl</span>(</span>
<span id="cb6-112"><a href="#cb6-112" aria-hidden="true" tabindex="-1"></a>  <span class="st">"^bpnsfs_[1-6]_w"</span>,</span>
<span id="cb6-113"><a href="#cb6-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(surveys_wide)</span>
<span id="cb6-114"><a href="#cb6-114" aria-hidden="true" tabindex="-1"></a>)]</span>
<span id="cb6-115"><a href="#cb6-115" aria-hidden="true" tabindex="-1"></a><span class="co"># BANGS items: only impute conditionally (see where matrix below)</span></span>
<span id="cb6-116"><a href="#cb6-116" aria-hidden="true" tabindex="-1"></a>bangs_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide)[<span class="fu">grepl</span>(<span class="st">"^bangs_[1-6]_w"</span>, <span class="fu">names</span>(surveys_wide))]</span>
<span id="cb6-117"><a href="#cb6-117" aria-hidden="true" tabindex="-1"></a><span class="co"># Displaced core domain: always impute when missing</span></span>
<span id="cb6-118"><a href="#cb6-118" aria-hidden="true" tabindex="-1"></a>displaced_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide)[<span class="fu">grepl</span>(</span>
<span id="cb6-119"><a href="#cb6-119" aria-hidden="true" tabindex="-1"></a>  <span class="st">"^displaced_core_domain_w"</span>,</span>
<span id="cb6-120"><a href="#cb6-120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(surveys_wide)</span>
<span id="cb6-121"><a href="#cb6-121" aria-hidden="true" tabindex="-1"></a>)]</span>
<span id="cb6-122"><a href="#cb6-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-123"><a href="#cb6-123" aria-hidden="true" tabindex="-1"></a>methods <span class="ot">&lt;-</span> <span class="fu">setNames</span>(<span class="fu">rep</span>(<span class="st">""</span>, <span class="fu">ncol</span>(surveys_wide)), <span class="fu">names</span>(surveys_wide))</span>
<span id="cb6-124"><a href="#cb6-124" aria-hidden="true" tabindex="-1"></a>methods[played_vars] <span class="ot">&lt;-</span> <span class="st">"logreg"</span> <span class="co"># Binary outcome</span></span>
<span id="cb6-125"><a href="#cb6-125" aria-hidden="true" tabindex="-1"></a>methods[<span class="fu">c</span>(bpnsfs_vars, bangs_vars, displaced_vars)] <span class="ot">&lt;-</span> <span class="st">"pmm"</span></span>
<span id="cb6-126"><a href="#cb6-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-127"><a href="#cb6-127" aria-hidden="true" tabindex="-1"></a><span class="co"># Explicitly exclude person-level variables from imputation</span></span>
<span id="cb6-128"><a href="#cb6-128" aria-hidden="true" tabindex="-1"></a><span class="co"># These either have no within-person variance or are complete</span></span>
<span id="cb6-129"><a href="#cb6-129" aria-hidden="true" tabindex="-1"></a>person_level_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb6-130"><a href="#cb6-130" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pid"</span>,</span>
<span id="cb6-131"><a href="#cb6-131" aria-hidden="true" tabindex="-1"></a>  <span class="st">"age"</span>,</span>
<span id="cb6-132"><a href="#cb6-132" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gender"</span>,</span>
<span id="cb6-133"><a href="#cb6-133" aria-hidden="true" tabindex="-1"></a>  <span class="st">"edu_level"</span>,</span>
<span id="cb6-134"><a href="#cb6-134" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employment"</span>,</span>
<span id="cb6-135"><a href="#cb6-135" aria-hidden="true" tabindex="-1"></a>  <span class="st">"marital_status"</span>,</span>
<span id="cb6-136"><a href="#cb6-136" aria-hidden="true" tabindex="-1"></a>  <span class="st">"life_sat_baseline"</span>,</span>
<span id="cb6-137"><a href="#cb6-137" aria-hidden="true" tabindex="-1"></a>  <span class="st">"wemwbs"</span>,</span>
<span id="cb6-138"><a href="#cb6-138" aria-hidden="true" tabindex="-1"></a>  <span class="st">"diaries_completed"</span>,</span>
<span id="cb6-139"><a href="#cb6-139" aria-hidden="true" tabindex="-1"></a>  <span class="st">"self_reported_weekly_play"</span></span>
<span id="cb6-140"><a href="#cb6-140" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-141"><a href="#cb6-141" aria-hidden="true" tabindex="-1"></a>methods[person_level_vars] <span class="ot">&lt;-</span> <span class="st">""</span></span>
<span id="cb6-142"><a href="#cb6-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-143"><a href="#cb6-143" aria-hidden="true" tabindex="-1"></a><span class="co"># Create WHERE matrix for conditional imputation</span></span>
<span id="cb6-144"><a href="#cb6-144" aria-hidden="true" tabindex="-1"></a><span class="co"># Default: impute all missing cells</span></span>
<span id="cb6-145"><a href="#cb6-145" aria-hidden="true" tabindex="-1"></a>where_matrix <span class="ot">&lt;-</span> <span class="fu">is.na</span>(surveys_wide)</span>
<span id="cb6-146"><a href="#cb6-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-147"><a href="#cb6-147" aria-hidden="true" tabindex="-1"></a><span class="co"># For BANGS items: only impute when person reported playing (or play status unknown)</span></span>
<span id="cb6-148"><a href="#cb6-148" aria-hidden="true" tabindex="-1"></a><span class="co"># Do NOT impute when self_reported_played_24h == "No"</span></span>
<span id="cb6-149"><a href="#cb6-149" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (bangs_var <span class="cf">in</span> bangs_vars) {</span>
<span id="cb6-150"><a href="#cb6-150" aria-hidden="true" tabindex="-1"></a>  wave_num <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(bangs_var, <span class="st">"</span><span class="sc">\\</span><span class="st">d+$"</span>)</span>
<span id="cb6-151"><a href="#cb6-151" aria-hidden="true" tabindex="-1"></a>  played_var <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"self_reported_played_24h_w"</span>, wave_num)</span>
<span id="cb6-152"><a href="#cb6-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-153"><a href="#cb6-153" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (played_var <span class="sc">%in%</span> <span class="fu">names</span>(surveys_wide)) {</span>
<span id="cb6-154"><a href="#cb6-154" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set to FALSE (don't impute) where played=="No" AND bangs is missing</span></span>
<span id="cb6-155"><a href="#cb6-155" aria-hidden="true" tabindex="-1"></a>    no_play <span class="ot">&lt;-</span> surveys_wide[[played_var]] <span class="sc">==</span> <span class="st">"No"</span> <span class="sc">&amp;</span></span>
<span id="cb6-156"><a href="#cb6-156" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(surveys_wide[[bangs_var]])</span>
<span id="cb6-157"><a href="#cb6-157" aria-hidden="true" tabindex="-1"></a>    where_matrix[no_play, bangs_var] <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb6-158"><a href="#cb6-158" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-159"><a href="#cb6-159" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-160"><a href="#cb6-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-161"><a href="#cb6-161" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Conditional imputation setup:"</span>))</span>
<span id="cb6-162"><a href="#cb6-162" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"  BANGS items: only impute when played=Yes or played=NA"</span>))</span>
<span id="cb6-163"><a href="#cb6-163" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"  BPNSFS items: always impute"</span>))</span>
<span id="cb6-164"><a href="#cb6-164" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"  Self-reported play: impute when missing"</span>))</span>
<span id="cb6-165"><a href="#cb6-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-166"><a href="#cb6-166" aria-hidden="true" tabindex="-1"></a><span class="co"># SPEED OPTIMIZATION: Use quickpred() to create sparse predictor matrix</span></span>
<span id="cb6-167"><a href="#cb6-167" aria-hidden="true" tabindex="-1"></a>pred <span class="ot">&lt;-</span> <span class="fu">quickpred</span>(</span>
<span id="cb6-168"><a href="#cb6-168" aria-hidden="true" tabindex="-1"></a>  surveys_wide,</span>
<span id="cb6-169"><a href="#cb6-169" aria-hidden="true" tabindex="-1"></a>  <span class="at">mincor =</span> <span class="fl">0.3</span>,</span>
<span id="cb6-170"><a href="#cb6-170" aria-hidden="true" tabindex="-1"></a>  <span class="at">minpuc =</span> <span class="fl">0.3</span>,</span>
<span id="cb6-171"><a href="#cb6-171" aria-hidden="true" tabindex="-1"></a>  <span class="at">include =</span> <span class="fu">c</span>(</span>
<span id="cb6-172"><a href="#cb6-172" aria-hidden="true" tabindex="-1"></a>    <span class="st">"age"</span>,</span>
<span id="cb6-173"><a href="#cb6-173" aria-hidden="true" tabindex="-1"></a>    <span class="st">"wemwbs"</span>,</span>
<span id="cb6-174"><a href="#cb6-174" aria-hidden="true" tabindex="-1"></a>    <span class="st">"self_reported_weekly_play"</span></span>
<span id="cb6-175"><a href="#cb6-175" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb6-176"><a href="#cb6-176" aria-hidden="true" tabindex="-1"></a>  <span class="at">exclude =</span> <span class="fu">c</span>(</span>
<span id="cb6-177"><a href="#cb6-177" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pid"</span>,</span>
<span id="cb6-178"><a href="#cb6-178" aria-hidden="true" tabindex="-1"></a>    <span class="st">"gender"</span>,</span>
<span id="cb6-179"><a href="#cb6-179" aria-hidden="true" tabindex="-1"></a>    <span class="st">"edu_level"</span>,</span>
<span id="cb6-180"><a href="#cb6-180" aria-hidden="true" tabindex="-1"></a>    <span class="st">"employment"</span>,</span>
<span id="cb6-181"><a href="#cb6-181" aria-hidden="true" tabindex="-1"></a>    <span class="st">"marital_status"</span>,</span>
<span id="cb6-182"><a href="#cb6-182" aria-hidden="true" tabindex="-1"></a>    <span class="st">"diaries_completed"</span></span>
<span id="cb6-183"><a href="#cb6-183" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-184"><a href="#cb6-184" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-185"><a href="#cb6-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-186"><a href="#cb6-186" aria-hidden="true" tabindex="-1"></a><span class="co"># DIAGNOSTIC: Check for collinearity issues in analytical sample</span></span>
<span id="cb6-187"><a href="#cb6-187" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">=== COLLINEARITY DIAGNOSTICS ==="</span>))</span>
<span id="cb6-188"><a href="#cb6-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-189"><a href="#cb6-189" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for variables with zero variance</span></span>
<span id="cb6-190"><a href="#cb6-190" aria-hidden="true" tabindex="-1"></a>zero_var <span class="ot">&lt;-</span> <span class="fu">sapply</span>(surveys_wide, <span class="cf">function</span>(x) {</span>
<span id="cb6-191"><a href="#cb6-191" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.numeric</span>(x)) {</span>
<span id="cb6-192"><a href="#cb6-192" aria-hidden="true" tabindex="-1"></a>    v <span class="ot">&lt;-</span> <span class="fu">var</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-193"><a href="#cb6-193" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(v) <span class="sc">&amp;&amp;</span> v <span class="sc">&lt;</span> <span class="fl">1e-10</span></span>
<span id="cb6-194"><a href="#cb6-194" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb6-195"><a href="#cb6-195" aria-hidden="true" tabindex="-1"></a>    <span class="cn">FALSE</span></span>
<span id="cb6-196"><a href="#cb6-196" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-197"><a href="#cb6-197" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb6-198"><a href="#cb6-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-199"><a href="#cb6-199" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">any</span>(zero_var, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) {</span>
<span id="cb6-200"><a href="#cb6-200" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb6-201"><a href="#cb6-201" aria-hidden="true" tabindex="-1"></a>    <span class="st">"⚠️  Variables with zero variance: {paste(names(which(zero_var)), collapse=', ')}"</span></span>
<span id="cb6-202"><a href="#cb6-202" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb6-203"><a href="#cb6-203" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-204"><a href="#cb6-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-205"><a href="#cb6-205" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for perfect/near-perfect correlations among items to be imputed</span></span>
<span id="cb6-206"><a href="#cb6-206" aria-hidden="true" tabindex="-1"></a>items_to_check <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb6-207"><a href="#cb6-207" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grep</span>(<span class="st">"^bpnsfs_[1-6]_w"</span>, <span class="fu">names</span>(surveys_wide), <span class="at">value =</span> <span class="cn">TRUE</span>),</span>
<span id="cb6-208"><a href="#cb6-208" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grep</span>(<span class="st">"^bangs_[1-6]_w"</span>, <span class="fu">names</span>(surveys_wide), <span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-209"><a href="#cb6-209" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-210"><a href="#cb6-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-211"><a href="#cb6-211" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(items_to_check) <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb6-212"><a href="#cb6-212" aria-hidden="true" tabindex="-1"></a>  cor_mat <span class="ot">&lt;-</span> <span class="fu">cor</span>(surveys_wide[, items_to_check], <span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>)</span>
<span id="cb6-213"><a href="#cb6-213" aria-hidden="true" tabindex="-1"></a>  <span class="fu">diag</span>(cor_mat) <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co"># Ignore diagonal</span></span>
<span id="cb6-214"><a href="#cb6-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-215"><a href="#cb6-215" aria-hidden="true" tabindex="-1"></a>  high_cor <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">abs</span>(cor_mat) <span class="sc">&gt;</span> <span class="fl">0.9999</span>, <span class="at">arr.ind =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-216"><a href="#cb6-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-217"><a href="#cb6-217" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">nrow</span>(high_cor) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb6-218"><a href="#cb6-218" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"⚠️  PERFECT CORRELATIONS DETECTED:"</span>))</span>
<span id="cb6-219"><a href="#cb6-219" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">min</span>(<span class="fu">nrow</span>(high_cor), <span class="dv">10</span>)) {</span>
<span id="cb6-220"><a href="#cb6-220" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Show first 10</span></span>
<span id="cb6-221"><a href="#cb6-221" aria-hidden="true" tabindex="-1"></a>      var1 <span class="ot">&lt;-</span> items_to_check[high_cor[i, <span class="dv">1</span>]]</span>
<span id="cb6-222"><a href="#cb6-222" aria-hidden="true" tabindex="-1"></a>      var2 <span class="ot">&lt;-</span> items_to_check[high_cor[i, <span class="dv">2</span>]]</span>
<span id="cb6-223"><a href="#cb6-223" aria-hidden="true" tabindex="-1"></a>      r <span class="ot">&lt;-</span> cor_mat[high_cor[i, <span class="dv">1</span>], high_cor[i, <span class="dv">2</span>]]</span>
<span id="cb6-224"><a href="#cb6-224" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"  {var1} &lt;-&gt; {var2}: r = {round(r, 6)}"</span>))</span>
<span id="cb6-225"><a href="#cb6-225" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb6-226"><a href="#cb6-226" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb6-227"><a href="#cb6-227" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb6-228"><a href="#cb6-228" aria-hidden="true" tabindex="-1"></a>      <span class="st">"✓ No perfect correlations detected (max r = {round(max(abs(cor_mat), na.rm=TRUE), 3)})"</span></span>
<span id="cb6-229"><a href="#cb6-229" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb6-230"><a href="#cb6-230" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-231"><a href="#cb6-231" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-232"><a href="#cb6-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-233"><a href="#cb6-233" aria-hidden="true" tabindex="-1"></a><span class="co"># Report predictor matrix density</span></span>
<span id="cb6-234"><a href="#cb6-234" aria-hidden="true" tabindex="-1"></a>pred_density <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">*</span> <span class="fu">mean</span>(pred <span class="sc">!=</span> <span class="dv">0</span>)</span>
<span id="cb6-235"><a href="#cb6-235" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Predictor matrix density: {round(pred_density, 1)}%"</span>))</span>
<span id="cb6-236"><a href="#cb6-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-237"><a href="#cb6-237" aria-hidden="true" tabindex="-1"></a><span class="co"># Check where matrix for potential issues</span></span>
<span id="cb6-238"><a href="#cb6-238" aria-hidden="true" tabindex="-1"></a>n_cells_to_impute <span class="ot">&lt;-</span> <span class="fu">sum</span>(where_matrix)</span>
<span id="cb6-239"><a href="#cb6-239" aria-hidden="true" tabindex="-1"></a>n_total_cells <span class="ot">&lt;-</span> <span class="fu">prod</span>(<span class="fu">dim</span>(where_matrix))</span>
<span id="cb6-240"><a href="#cb6-240" aria-hidden="true" tabindex="-1"></a>pct_to_impute <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">*</span> n_cells_to_impute <span class="sc">/</span> n_total_cells</span>
<span id="cb6-241"><a href="#cb6-241" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb6-242"><a href="#cb6-242" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Cells to impute: {n_cells_to_impute}/{n_total_cells} ({round(pct_to_impute, 1)}%)"</span></span>
<span id="cb6-243"><a href="#cb6-243" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb6-244"><a href="#cb6-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-245"><a href="#cb6-245" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for variables with extreme missingness</span></span>
<span id="cb6-246"><a href="#cb6-246" aria-hidden="true" tabindex="-1"></a>vars_to_impute <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide)[methods <span class="sc">!=</span> <span class="st">""</span>]</span>
<span id="cb6-247"><a href="#cb6-247" aria-hidden="true" tabindex="-1"></a>miss_pct <span class="ot">&lt;-</span> <span class="fu">sapply</span>(surveys_wide[vars_to_impute], <span class="cf">function</span>(x) {</span>
<span id="cb6-248"><a href="#cb6-248" aria-hidden="true" tabindex="-1"></a>  <span class="dv">100</span> <span class="sc">*</span> <span class="fu">mean</span>(<span class="fu">is.na</span>(x))</span>
<span id="cb6-249"><a href="#cb6-249" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb6-250"><a href="#cb6-250" aria-hidden="true" tabindex="-1"></a>high_miss <span class="ot">&lt;-</span> miss_pct <span class="sc">&gt;</span> <span class="dv">80</span></span>
<span id="cb6-251"><a href="#cb6-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-252"><a href="#cb6-252" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">any</span>(high_miss)) {</span>
<span id="cb6-253"><a href="#cb6-253" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"⚠️  Variables with &gt;80% missing:"</span>))</span>
<span id="cb6-254"><a href="#cb6-254" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (v <span class="cf">in</span> <span class="fu">names</span>(<span class="fu">which</span>(high_miss))) {</span>
<span id="cb6-255"><a href="#cb6-255" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"  {v}: {round(miss_pct[v], 1)}%"</span>))</span>
<span id="cb6-256"><a href="#cb6-256" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-257"><a href="#cb6-257" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-258"><a href="#cb6-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-259"><a href="#cb6-259" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"=== END DIAGNOSTICS ===</span><span class="sc">\n</span><span class="st">"</span>))</span>
<span id="cb6-260"><a href="#cb6-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-261"><a href="#cb6-261" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if imputation already exists</span></span>
<span id="cb6-262"><a href="#cb6-262" aria-hidden="true" tabindex="-1"></a>imp_file <span class="ot">&lt;-</span> <span class="st">"data/imputation_analytical.csv.gz"</span></span>
<span id="cb6-263"><a href="#cb6-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-264"><a href="#cb6-264" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(imp_file)) {</span>
<span id="cb6-265"><a href="#cb6-265" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Loading existing imputation from {imp_file}"</span>))</span>
<span id="cb6-266"><a href="#cb6-266" aria-hidden="true" tabindex="-1"></a>  imp_long <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(imp_file, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb6-267"><a href="#cb6-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-268"><a href="#cb6-268" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert back to mids object</span></span>
<span id="cb6-269"><a href="#cb6-269" aria-hidden="true" tabindex="-1"></a>  imp <span class="ot">&lt;-</span> <span class="fu">as.mids</span>(imp_long)</span>
<span id="cb6-270"><a href="#cb6-270" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Loaded imputation object (M={imp$m})"</span>))</span>
<span id="cb6-271"><a href="#cb6-271" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb6-272"><a href="#cb6-272" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"No existing imputation found - running MICE"</span>))</span>
<span id="cb6-273"><a href="#cb6-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-274"><a href="#cb6-274" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb6-275"><a href="#cb6-275" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Running MICE: M={M_IMPUTATIONS}, N={nrow(surveys_wide)}, started {Sys.time()}"</span></span>
<span id="cb6-276"><a href="#cb6-276" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb6-277"><a href="#cb6-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-278"><a href="#cb6-278" aria-hidden="true" tabindex="-1"></a>  imp <span class="ot">&lt;-</span> <span class="fu">futuremice</span>(</span>
<span id="cb6-279"><a href="#cb6-279" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> surveys_wide,</span>
<span id="cb6-280"><a href="#cb6-280" aria-hidden="true" tabindex="-1"></a>    <span class="at">m =</span> M_IMPUTATIONS,</span>
<span id="cb6-281"><a href="#cb6-281" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> methods,</span>
<span id="cb6-282"><a href="#cb6-282" aria-hidden="true" tabindex="-1"></a>    <span class="at">predictorMatrix =</span> pred,</span>
<span id="cb6-283"><a href="#cb6-283" aria-hidden="true" tabindex="-1"></a>    <span class="at">where =</span> where_matrix,</span>
<span id="cb6-284"><a href="#cb6-284" aria-hidden="true" tabindex="-1"></a>    <span class="at">maxit =</span> <span class="dv">5</span>,</span>
<span id="cb6-285"><a href="#cb6-285" aria-hidden="true" tabindex="-1"></a>    <span class="at">n.core =</span> parallel<span class="sc">::</span><span class="fu">detectCores</span>() <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb6-286"><a href="#cb6-286" aria-hidden="true" tabindex="-1"></a>    <span class="at">parallelseed =</span> <span class="dv">8675309</span></span>
<span id="cb6-287"><a href="#cb6-287" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-288"><a href="#cb6-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-289"><a href="#cb6-289" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Completed {Sys.time()}"</span>))</span>
<span id="cb6-290"><a href="#cb6-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-291"><a href="#cb6-291" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save imputation results as compressed CSV</span></span>
<span id="cb6-292"><a href="#cb6-292" aria-hidden="true" tabindex="-1"></a>  imp_long <span class="ot">&lt;-</span> <span class="fu">complete</span>(imp, <span class="at">action =</span> <span class="st">"long"</span>, <span class="at">include =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-293"><a href="#cb6-293" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_csv</span>(imp_long, imp_file)</span>
<span id="cb6-294"><a href="#cb6-294" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Saved imputation to {imp_file}"</span>))</span>
<span id="cb6-295"><a href="#cb6-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-296"><a href="#cb6-296" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Diagnostic checks (only after fresh imputation)</span></span>
<span id="cb6-297"><a href="#cb6-297" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">nrow</span>(imp<span class="sc">$</span>loggedEvents) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb6-298"><a href="#cb6-298" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb6-299"><a href="#cb6-299" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Warning: {nrow(imp$loggedEvents)} logged events during imputation"</span></span>
<span id="cb6-300"><a href="#cb6-300" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb6-301"><a href="#cb6-301" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">head</span>(imp<span class="sc">$</span>loggedEvents))</span>
<span id="cb6-302"><a href="#cb6-302" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb6-303"><a href="#cb6-303" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"No logged events - imputation completed without issues"</span>)</span>
<span id="cb6-304"><a href="#cb6-304" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-305"><a href="#cb6-305" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Calculate composites and within/between-person centering)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Post-imputation centering</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>m_imputations <span class="ot">&lt;-</span> M_IMPUTATIONS</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"=== Post-imputation processing (M={m_imputations}) ==="</span>))</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to long format and calculate composite scores from imputed items</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>daily_imputed <span class="ot">&lt;-</span> <span class="fu">complete</span>(imp, <span class="at">action =</span> <span class="st">"long"</span>, <span class="at">include =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>      .imp,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>      .id,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>      age,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>      gender,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>      edu_level,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>      employment,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>      marital_status,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>      life_sat_baseline,</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>      wemwbs,</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>      diaries_completed,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>      self_reported_weekly_play</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">".value"</span>, <span class="st">"wave"</span>),</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_pattern =</span> <span class="st">"(.+)_w(.+)"</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wave =</span> <span class="fu">as.factor</span>(wave)) <span class="sc">|&gt;</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate composite scores from imputed individual items</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(bpnsfs_1, bpnsfs_3, bpnsfs_5), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(bpnsfs_2, bpnsfs_4, bpnsfs_6), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(bangs_1, bangs_3, bangs_5), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(bangs_2, bangs_4, bangs_6), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rejoin telemetry variables (no imputation needed)</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(telemetry_vars, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"wave"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate person means within each imputation</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(.imp, pid) <span class="sc">|&gt;</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns_pm =</span> <span class="fu">mean</span>(global_ns, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_pm =</span> <span class="fu">mean</span>(global_nf, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_pm =</span> <span class="fu">mean</span>(game_ns, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf_pm =</span> <span class="fu">mean</span>(game_nf, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate grand means and centered values within each imputation</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(.imp) <span class="sc">|&gt;</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns_gm =</span> <span class="fu">mean</span>(global_ns_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_gm =</span> <span class="fu">mean</span>(global_nf_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_gm =</span> <span class="fu">mean</span>(game_ns_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf_gm =</span> <span class="fu">mean</span>(game_nf_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Within-person centered (deviation from person mean)</span></span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns_cw =</span> global_ns <span class="sc">-</span> global_ns_pm,</span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cw =</span> global_nf <span class="sc">-</span> global_nf_pm,</span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> game_ns <span class="sc">-</span> game_ns_pm,</span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf_cw =</span> game_nf <span class="sc">-</span> game_nf_pm,</span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Between-person centered (person mean - grand mean)</span></span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns_cb =</span> global_ns_pm <span class="sc">-</span> global_ns_gm,</span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cb =</span> global_nf_pm <span class="sc">-</span> global_nf_gm,</span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> game_ns_pm <span class="sc">-</span> game_ns_gm,</span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf_cb =</span> game_nf_pm <span class="sc">-</span> game_nf_gm</span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb7-65"><a href="#cb7-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb7-66"><a href="#cb7-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-67"><a href="#cb7-67" aria-hidden="true" tabindex="-1"></a><span class="co"># Main analysis dataset: use .imp &gt; 0 (imputed datasets)</span></span>
<span id="cb7-68"><a href="#cb7-68" aria-hidden="true" tabindex="-1"></a><span class="co"># .imp == 0 contains the original incomplete data</span></span>
<span id="cb7-69"><a href="#cb7-69" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> daily_imputed <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb7-70"><a href="#cb7-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-71"><a href="#cb7-71" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb7-72"><a href="#cb7-72" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Main analysis dataset: {n_distinct(dat$pid)} participants, {nrow(dat)} observations"</span></span>
<span id="cb7-73"><a href="#cb7-73" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb7-74"><a href="#cb7-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-75"><a href="#cb7-75" aria-hidden="true" tabindex="-1"></a><span class="co"># Create unique row ID for long format (needed for as.mids conversion)</span></span>
<span id="cb7-76"><a href="#cb7-76" aria-hidden="true" tabindex="-1"></a>daily_imputed <span class="ot">&lt;-</span> daily_imputed <span class="sc">|&gt;</span></span>
<span id="cb7-77"><a href="#cb7-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(.imp) <span class="sc">|&gt;</span></span>
<span id="cb7-78"><a href="#cb7-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">.id =</span> <span class="fu">row_number</span>()) <span class="sc">|&gt;</span></span>
<span id="cb7-79"><a href="#cb7-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb7-80"><a href="#cb7-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-81"><a href="#cb7-81" aria-hidden="true" tabindex="-1"></a><span class="co"># Helper object for mice::with() and pool() if needed</span></span>
<span id="cb7-82"><a href="#cb7-82" aria-hidden="true" tabindex="-1"></a>imp_mids <span class="ot">&lt;-</span> <span class="fu">as.mids</span>(daily_imputed)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<section id="introduction" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introduction</h1>
<p>Upwards of half of adults and nearly all children in the UK and US regularly play video games <span class="citation" data-cites="EntertainmentSoftwareAssociation20242024 Ofcom2023Online">(<a href="#ref-EntertainmentSoftwareAssociation20242024" role="doc-biblioref">Entertainment Software Association, 2024</a>; <a href="#ref-Ofcom2023Online" role="doc-biblioref">Ofcom, 2023</a>)</span>, and the putative effects of gaming on health are of interest to players, games industry professionals, policymakers, clinicians, and families. Research to date has had limited success supporting these groups <span class="citation" data-cites="Ballou2023Manifesto">(<a href="#ref-Ballou2023Manifesto" role="doc-biblioref">Ballou, 2023</a>)</span>, stemming from challenges of accessing granular behavioral data, measuring mental health with sufficient temporal detail, and aligning theory with growing evidence that effects relate primarily to the quality, rather than quantity, of use <span class="citation" data-cites="BallouDeterding2024Basic Buchi2024Digital Orben2022Digital">(<a href="#ref-BallouDeterding2024Basic" role="doc-biblioref">Ballou &amp; Deterding, 2024</a>; <a href="#ref-Buchi2024Digital" role="doc-biblioref">Büchi, 2024</a>; <a href="#ref-Orben2022Digital" role="doc-biblioref">Orben, 2022</a>)</span>.</p>
<p>Digital trace data—histories of user actions generated when interacting with games—addresses several of these challenges. Compared to self-report, trace data provides greater detail about what, when and how much people play while alleviating concerns about recall biases <span class="citation" data-cites="ErnalaEtAl2020How ParryEtAl2021systematic">Kahn et al. (<a href="#ref-KahnEtAl2014why" role="doc-biblioref">2014</a>)</span>. However, three key limitations remain. First, while gaming companies collect player data at scale <span class="citation" data-cites="El-NasrEtAl2021Game">(<a href="#ref-El-NasrEtAl2021Game" role="doc-biblioref">El-Nasr et al., 2021</a>)</span>, these data are rarely accessible to independent researchers. Where access has been negotiated, it typically covers just one game or platform—potentially a small part of a person’s gaming “diet.” UK and US players use an average of 2.8 platforms <span class="citation" data-cites="BallouEtAl2025Perceived">(<a href="#ref-BallouEtAl2025Perceived" role="doc-biblioref">Ballou, Vuorre, et al., 2025</a>)</span>, necessitating multi-platform data access to understand holistic effects.</p>
<p>Second, while trace data is often richly longitudinal, it has been paired with wellbeing surveys consisting of either a single wave <span class="citation" data-cites="BallouEtAl2025Perceived JohannesEtAl2021Video">(<a href="#ref-BallouEtAl2025Perceived" role="doc-biblioref">Ballou, Vuorre, et al., 2025</a>; <a href="#ref-JohannesEtAl2021Video" role="doc-biblioref">Johannes et al., 2021</a>)</span> or waves separated by multiple weeks <span class="citation" data-cites="LarrieuEtAl2023How VuorreEtAl2022Time">(<a href="#ref-LarrieuEtAl2023How" role="doc-biblioref">Larrieu et al., 2023</a>; <a href="#ref-VuorreEtAl2022Time" role="doc-biblioref">Vuorre et al., 2022</a>)</span>. Early evidence suggests gaming effects may materialize and dissipate within 6 hours <span class="citation" data-cites="BallouEtAl2025Perceived">(<a href="#ref-BallouEtAl2025Perceived" role="doc-biblioref">Ballou, Vuorre, et al., 2025</a>)</span>, and subjective wellbeing varies substantially across a day <span class="citation" data-cites="LuhmannEtAl2021Subjective">(<a href="#ref-LuhmannEtAl2021Subjective" role="doc-biblioref">Luhmann et al., 2021</a>)</span>. Experience sampling and daily diary methods, embraced in social media research <span class="citation" data-cites="AalbersEtAl2021Caught SiebersEtAl2021Explaining">(<a href="#ref-AalbersEtAl2021Caught" role="doc-biblioref">Aalbers et al., 2021</a>; <a href="#ref-SiebersEtAl2021Explaining" role="doc-biblioref">Siebers et al., 2021</a>)</span>, are needed to capture nuanced, short-lived effects and to better differentiate within- and between-person relationships <span class="citation" data-cites="JohannesEtAl2024How">(<a href="#ref-JohannesEtAl2024How" role="doc-biblioref">Johannes et al., 2024</a>)</span>.</p>
<p>Third, effects of gaming are likely nuanced and contextual, but existing research lacks strong theoretical frameworks to guide investigation. Studies using industry trace data have ruled out simple playtime–wellbeing relationships <span class="citation" data-cites="BallouEtAl2024Registered JohannesEtAl2021Video VuorreEtAl2022Time LarrieuEtAl2023How BallouEtAl2025Perceived">(<a href="#ref-BallouEtAl2024Registered" role="doc-biblioref">Ballou, Sewall, et al., 2024</a>; <a href="#ref-BallouEtAl2025Perceived" role="doc-biblioref">Ballou, Vuorre, et al., 2025</a>; <a href="#ref-JohannesEtAl2021Video" role="doc-biblioref">Johannes et al., 2021</a>; <a href="#ref-LarrieuEtAl2023How" role="doc-biblioref">Larrieu et al., 2023</a>; <a href="#ref-VuorreEtAl2022Time" role="doc-biblioref">Vuorre et al., 2022</a>)</span>, supporting calls to move beyond quantity-focused approaches <span class="citation" data-cites="BallouEtAl2025How">(<a href="#ref-BallouEtAl2025How" role="doc-biblioref">Ballou, Hakman, et al., 2025</a>)</span>. However, we need theory-driven predictions about how psychological states relate to gaming behavior itself—what motivates people to play in the first place, and how daily fluctuations in wellbeing shape engagement patterns. Self-Determination Theory [SDT; <span class="citation" data-cites="Ryan2023Oxforda">Ryan (<a href="#ref-Ryan2023Oxforda" role="doc-biblioref">2023</a>)</span>] offers such a framework, proposing that satisfaction of basic psychological needs—autonomy, competence, and relatedness—drives motivated behavior including media use. Understanding whether and when people choose to play games may depend critically on their experiences of needs satisfaction in daily life, yet few studies have tested these behavioral predictions using intensive longitudinal data.</p>
<p>Together, these gaps point to clear next steps: collect comprehensive multi-platform digital trace data; pair it with dense, repeated wellbeing measurements; and use this data for theory-driven investigations of play quality and context. These are the aims of the present study.</p>
</section>
<section id="self-determination-theory" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Self-determination theory</h1>
<p>Self-determination theory <span class="citation" data-cites="RyanDeci2017Selfdetermination">(<a href="#ref-RyanDeci2017Selfdetermination" role="doc-biblioref">Ryan &amp; Deci, 2017</a>)</span> proposes three innate and universal psychological needs: the need for autonomy (to feel in control over one’s life and volitional in one’s actions), competence (to act effectively and exert mastery in the world), and relatedness (to feel that one is valued by others and values them in return). These basic psychological needs are theorized to be vital nutriments required for a person to live a fully functional life. Across the environments we inhabit and activities we perform, these needs can be either satisfied or frustrated <span class="citation" data-cites="VansteenkisteEtAl2020basic">(<a href="#ref-VansteenkisteEtAl2020basic" role="doc-biblioref">Vansteenkiste et al., 2020</a>)</span>.</p>
<p>There has been substantial research into how games and other entertainment media can support basic psychological needs <span class="citation" data-cites="PrzybylskiEtAl2010motivational TyackMekler2020Selfdetermination">(<a href="#ref-PrzybylskiEtAl2010motivational" role="doc-biblioref">Przybylski et al., 2010</a>; <a href="#ref-TyackMekler2020Selfdetermination" role="doc-biblioref">Tyack &amp; Mekler, 2020</a>)</span>. Games are adept at satisfying all three basic needs; games that better satisfy needs are more engaging; and having one’s needs satisfied during gaming is associated with better mental health outcomes during and after play <span class="citation" data-cites="ReerQuandt2020Digital TyackMekler2020Selfdetermination VellaJohnson2012Flourishing">(<a href="#ref-ReerQuandt2020Digital" role="doc-biblioref">Reer &amp; Quandt, 2020</a>; <a href="#ref-TyackMekler2020Selfdetermination" role="doc-biblioref">Tyack &amp; Mekler, 2020</a>; <a href="#ref-VellaJohnson2012Flourishing" role="doc-biblioref">Vella &amp; Johnson, 2012</a>)</span>.</p>
<section id="the-basic-needs-in-games-bang-model" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="the-basic-needs-in-games-bang-model"><span class="header-section-number">2.1</span> The Basic Needs in Games (BANG) Model</h2>
<p>The Basic Needs in Games (BANG) model of video game play and mental health <span class="citation" data-cites="BallouDeterding2024Basic">(<a href="#ref-BallouDeterding2024Basic" role="doc-biblioref">Ballou &amp; Deterding, 2024</a>)</span> builds upon the core SDT principle that any action’s impact on mental health is mediated by basic psychological needs. By differentiating between playtime and quality of play, BANG seeks to explain seemingly conflicting earlier findings that playtime itself is largely unrelated to wellbeing, but that some players do experience meaningful benefits or harms in relation to their video game play.</p>
<p>To date, however, BANG remains largely untested. Hence, the goal of this study is to test several key BANG hypotheses. We label the predictions of the current study in numerical order (e.g., H1), but also provide the numbered label from the original paper (e.g., B6) for clarity of potential falsification.</p>
<section id="the-relationship-between-basic-needs-in-games-and-global-basic-needs-h1" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="the-relationship-between-basic-needs-in-games-and-global-basic-needs-h1"><span class="header-section-number">2.1.1</span> The Relationship Between Basic Needs in Games and Global Basic Needs (H1)</h3>
<p>Following the hierarchical model of intrinsic and extrinsic motivation <span class="citation" data-cites="Vallerand1997Hierarchical">(<a href="#ref-Vallerand1997Hierarchical" role="doc-biblioref">Vallerand, 1997</a>)</span>, BANG conceives of basic needs as operating at three levels of generality: situational (a particular gaming session), contextual (gaming as a whole), and global (one’s life in general). Experiences at lower levels of generality feed into and co-constitute higher levels—experiences with games are one (greater or lesser) element of one’s life overall.</p>
<p>A positive relationship between need satisfaction in games and overall need satisfaction is well-established in prior literature <span class="citation" data-cites="AllenAnderson2018satisfaction BallouEtAl2024Basic BradtEtAl2024Are">(<a href="#ref-AllenAnderson2018satisfaction" role="doc-biblioref">Allen &amp; Anderson, 2018</a>; <a href="#ref-BallouEtAl2024Basic" role="doc-biblioref">Ballou, Denisova, et al., 2024</a>; <a href="#ref-BradtEtAl2024Are" role="doc-biblioref">Bradt et al., 2024</a>)</span>. BANG (B6) formalizes this relationship, proposing that need satisfaction experienced during gaming sessions contributes to overall need satisfaction in life. Thus, BANG predicts:</p>
<p><em>H1. When individuals’ in-game needs are better satisfied, they report greater overall need satisfaction.</em></p>
</section>
<section id="expectations-h2a" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="expectations-h2a"><span class="header-section-number">2.1.2</span> Expectations (H2a)</h3>
<p>Early articulations of SDT propose that goal or activity selection are (intrinsically) motivated by the ‘awareness of potential satisfaction’ of basic psychological needs or ‘expectations about the satisfaction of those [salient] motives’ <span class="citation" data-cites="DeciRyan1985Intrinsic">(<a href="#ref-DeciRyan1985Intrinsic" role="doc-biblioref">Deci &amp; Ryan, 1985, pp. 231–239</a>)</span>. Need-related outcome expectations are closely related to intrinsic motivation [perhaps even forming part of the computational machinery underlying motivation; <span class="citation" data-cites="MurayamaJach2023critique">Murayama &amp; Jach (<a href="#ref-MurayamaJach2023critique" role="doc-biblioref">2023</a>)</span>], and the behavioral product of these expectations is therefore greater behavioral engagement.</p>
<p>Expectations have , perhaps surprisingly, not featured prominently in subsequent empirical work; most gaming and media use-related SDT work focuses on need satisfaction or frustration as the experiential consequence of media consumption. This can explain loops of self-sustaining activity, but it cannot explain initial selective exposure to gaming where the activity has not commenced.</p>
<p>BANG proposes that experiences of need satisfaction during a particular gaming session positively affect player’s expectations for future need satisfaction with the current game, similar games, and gaming as a whole. Outcome expectations are an important predictor of continued media engagement <span class="citation" data-cites="ChangEtAl2014effects KocakAlanEtAl2022Replaying LaroseEtAl2001Understanding">(<a href="#ref-ChangEtAl2014effects" role="doc-biblioref">Chang et al., 2014</a>; <a href="#ref-KocakAlanEtAl2022Replaying" role="doc-biblioref">Kocak Alan et al., 2022</a>; <a href="#ref-LaroseEtAl2001Understanding" role="doc-biblioref">Larose et al., 2001</a>)</span>. Players report that expected need frustration is reported to modulate both initial and continued gaming exposure <span class="citation" data-cites="BallouDeterding2023Just">(<a href="#ref-BallouDeterding2023Just" role="doc-biblioref">Ballou &amp; Deterding, 2023</a>)</span>. From BANG (B8), we therefore derive the following hypothesis:</p>
<p><em>H2a. When individuals’ in-game need satisfaction is higher, they are more likely to play video games in the 24-hour period after survey completion.</em></p>
</section>
<section id="compensation-h2b" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="compensation-h2b"><span class="header-section-number">2.1.3</span> Compensation (H2b)</h3>
<p>SDT predicts that (global) need frustration results in compensatory behavior—people attempt to replenish needs that are not being met by altering their behavior <span class="citation" data-cites="SheldonEtAl2011twoprocess">(e.g., <a href="#ref-SheldonEtAl2011twoprocess" role="doc-biblioref">Sheldon et al., 2011</a>)</span>. The dense need satisfaction offered by games constitute one way for people to compensate <span class="citation" data-cites="BallouEtAl2022People">(<a href="#ref-BallouEtAl2022People" role="doc-biblioref">Ballou et al., 2022</a>)</span>, particularly those who are highly engaged with gaming and have high gaming literacy. The combination of high need satisfaction and games and high need frustration in other life domains is often linked with increased problematic or disordered gaming, showing that compensation can occur and become maladaptive and thereby support for the so-called “need density hypothesis” <span class="citation" data-cites="BradtEtAl2024Are AllenAnderson2018satisfaction MillsEtAl2018exploring">(<a href="#ref-AllenAnderson2018satisfaction" role="doc-biblioref">Allen &amp; Anderson, 2018</a>; <a href="#ref-BradtEtAl2024Are" role="doc-biblioref">Bradt et al., 2024</a>; <a href="#ref-MillsEtAl2018exploring" role="doc-biblioref">Mills et al., 2018</a>)</span>. BANG operationalizes this compensatory play via intrinsic motivation. Frustrated needs in one’s life in general make opportunities to fulfill those needs more salient, which—all else equal—manifests phenomenologically as an increased energy towards those activities. Given this, we predict (derived from BANG Hypothesis 9):</p>
<p><em>H2b. When individuals’ global need frustration is higher, they are more likely to play video games in the 24-hour period after survey completion.</em></p>
</section>
<section id="displacement-h3" class="level3" data-number="2.1.4">
<h3 data-number="2.1.4" class="anchored" data-anchor-id="displacement-h3"><span class="header-section-number">2.1.4</span> Displacement (H3)</h3>
<p>Playtime, BANG argues, only becomes problematic when it displaces other activitiesessential to the maintenance of need satisfaction in life overall. Commonly proposed problematic displacements are work/school responsibilities <span class="citation" data-cites="DrummondSauer2020Timesplitters">(<a href="#ref-DrummondSauer2020Timesplitters" role="doc-biblioref">Drummond &amp; Sauer, 2020</a>)</span>, personal relationships <span class="citation" data-cites="DomahidiEtAl2018Longitudinal">(<a href="#ref-DomahidiEtAl2018Longitudinal" role="doc-biblioref">Domahidi et al., 2018</a>)</span>, and physical health or sleep. Displacing activities in major life can reduce the ability to effectively engage in these areas, thereby reducing global need satisfaction. Thus, BANG (B5) predicts:</p>
<p><em>H3. When a person’s most recent gaming displaced a core life domain (work/school, social engagements, sleep/eating/fitness, or caretaking), their global need satisfaction is lower.</em></p>
</section>
</section>
</section>
<section id="study-1" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Study 1</h1>
<p>Study 1 was pre-registered on the Open Science Framework (OSF) in the form of a Stage 1 Registered Report <a href="https://osf.io/65ga3/files/pb5nu">https://osf.io/65ga3/files/pb5nu</a>. All data and analysis code are available on Zenodo (TODO).</p>
<section id="study-1-method" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="study-1-method"><span class="header-section-number">3.1</span> Study 1 Method</h2>
<div class="place" data-arguments="top, scope: &quot;parent&quot;, float: true">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Create platform details table)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Platform =</span> <span class="fu">c</span>(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Nintendo"</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Xbox"</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Steam"</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Data Source</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data-sharing agreements with Nintendo of America"</span>,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data-sharing agreement with Microsoft"</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Custom web app (Gameplay.Science)"</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Account Linking Process</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Participants shared an identifier contained within a QR code on the Nintendo web interface. Nintendo of America uses this identifier to retrieve gameplay data and share it with the research team."</span>,</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Participants consented to data sharing by opting in to the study on Xbox Insiders with their Xbox account. Microsoft retrieved and shared pseudonymized gameplay data for all consented accounts."</span>,</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Using a web app we developed (https://gameplay.science), participants consented to have their gameplay data monitored for the duration of the study. Authentication uses the official Steam API (OpenID)."</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Type of Data Collected</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Session records (what game was played, at what time, for how long) for first-party games only (games published in whole or in part by Nintendo)."</span>,</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Session records (what game was played, at what time, for how long). Game titles were replaced with a random persistent identifier, but genre(s) and age ratings are shared."</span>,</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Hourly aggregates per game (every hour, the total time spent playing each game during the previous hour)"</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>(</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">escape =</span> <span class="cn">TRUE</span>,</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">notes =</span> <span class="fu">list</span>(</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>      <span class="st">"a"</span> <span class="ot">=</span> <span class="fu">list</span>(</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">i =</span> <span class="dv">1</span>,</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">j =</span> <span class="dv">3</span>,</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="st">"See https://accounts.nintendo.com/qrcode."</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>      <span class="st">"b"</span> <span class="ot">=</span> <span class="fu">list</span>(</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">i =</span> <span class="dv">1</span>,</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">j =</span> <span class="dv">4</span>,</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="st">"Nintendo-published games accounted for 63% of Switch playtime in our sample."</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>      <span class="st">"c"</span> <span class="ot">=</span> <span class="fu">list</span>(</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">i =</span> <span class="dv">2</span>,</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">j =</span> <span class="dv">3</span>,</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="st">"See https://support.xbox.com/en-US/help/account-profile/manage-account/guide-to-insider-program."</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">align =</span> <span class="st">"c"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-platforms" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-platforms-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Platform Details
</figcaption>
<div aria-describedby="tbl-platforms-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_2xey3om1b64xkmqcowqk = TinyTable.createTableFunctions("tinytable_2xey3om1b64xkmqcowqk");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '3', j: 1 }, { i: '3', j: 2 }, { i: '3', j: 3 }, { i: '3', j: 4 } ], css_id: 'tinytable_css_5llb1jnr5m4wyv2h7t61',}, 
          { positions: [ { i: '1', j: 1 }, { i: '2', j: 1 }, { i: '1', j: 2 }, { i: '2', j: 2 }, { i: '1', j: 3 }, { i: '2', j: 3 }, { i: '1', j: 4 }, { i: '2', j: 4 } ], css_id: 'tinytable_css_6iks4u4nbmpctrv80hgf',}, 
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 } ], css_id: 'tinytable_css_9vkfr4ry7w1a2ltquolc',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_2xey3om1b64xkmqcowqk.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_2xey3om1b64xkmqcowqk td.tinytable_css_5llb1jnr5m4wyv2h7t61, #tinytable_2xey3om1b64xkmqcowqk th.tinytable_css_5llb1jnr5m4wyv2h7t61 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-size: 0.7em }
    #tinytable_2xey3om1b64xkmqcowqk td.tinytable_css_6iks4u4nbmpctrv80hgf, #tinytable_2xey3om1b64xkmqcowqk th.tinytable_css_6iks4u4nbmpctrv80hgf { font-size: 0.7em }
    #tinytable_2xey3om1b64xkmqcowqk td.tinytable_css_9vkfr4ry7w1a2ltquolc, #tinytable_2xey3om1b64xkmqcowqk th.tinytable_css_9vkfr4ry7w1a2ltquolc {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; text-align: center; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_2xey3om1b64xkmqcowqk" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1">Platform</th>
                <th scope="col" data-row="0" data-col="2">Data Source</th>
                <th scope="col" data-row="0" data-col="3">Account Linking Process</th>
                <th scope="col" data-row="0" data-col="4">Type of Data Collected</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="4"><sup>a</sup> See https://accounts.nintendo.com/qrcode.</td></tr>
<tr><td colspan="4"><sup>b</sup> Nintendo-published games accounted for 63% of Switch playtime in our sample.</td></tr>
<tr><td colspan="4"><sup>c</sup> See https://support.xbox.com/en-US/help/account-profile/manage-account/guide-to-insider-program.</td></tr></tfoot>
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">Nintendo</td>
                  <td data-row="1" data-col="2">Data-sharing agreements with Nintendo of America</td>
                  <td data-row="1" data-col="3">Participants shared an identifier contained within a QR code on the Nintendo web interface. Nintendo of America uses this identifier to retrieve gameplay data and share it with the research team.<sup>a</sup></td>
                  <td data-row="1" data-col="4">Session records (what game was played, at what time, for how long) for first-party games only (games published in whole or in part by Nintendo).<sup>b</sup></td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1">Xbox</td>
                  <td data-row="2" data-col="2">Data-sharing agreement with Microsoft</td>
                  <td data-row="2" data-col="3">Participants consented to data sharing by opting in to the study on Xbox Insiders with their Xbox account. Microsoft retrieved and shared pseudonymized gameplay data for all consented accounts.<sup>c</sup></td>
                  <td data-row="2" data-col="4">Session records (what game was played, at what time, for how long). Game titles were replaced with a random persistent identifier, but genre(s) and age ratings are shared.</td>
                </tr>
                <tr>
                  <td data-row="3" data-col="1">Steam</td>
                  <td data-row="3" data-col="2">Custom web app (Gameplay.Science)</td>
                  <td data-row="3" data-col="3">Using a web app we developed (https://gameplay.science), participants consented to have their gameplay data monitored for the duration of the study. Authentication uses the official Steam API (OpenID).</td>
                  <td data-row="3" data-col="4">Hourly aggregates per game (every hour, the total time spent playing each game during the previous hour)</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</div>
<section id="design" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="design"><span class="header-section-number">3.1.1</span> Design</h3>
<p>The data for this study comprise a subset of the data from the Open Play study <span class="citation" data-cites="BallouEtAl2025Open">(<a href="#ref-BallouEtAl2025Open" role="doc-biblioref">Ballou, Földes, Vuorre, et al., 2025</a>)</span>, version 1.0.0. In the Open Play study, participants provided access to automated records of their gaming history on one or more platforms (Xbox, Steam, Nintendo Switch, Playstation, Android), and completed an intake survey followed by a 30-day daily diary study. The intake survey included demographic questions and baseline measures of wellbeing.</p>
<p>Participants were recruited in collaboration with two panel providers, Prolific and PureProfile. Participants were eligible if they were aged 18 or older, resided in the United States, and played video games for at least 1 hour per week, of which 50% must take place on eligible platforms (Nintendo, Xbox, and Steam). Participants were required to link at least one gaming account from Xbox, Steam, or Nintendo Switch with recent telemetry data (iOS and Android data were collected but are not used in this analysis).</p>
</section>
<section id="participants" class="level3" data-number="3.1.2">
<h3 data-number="3.1.2" class="anchored" data-anchor-id="participants"><span class="header-section-number">3.1.2</span> Participants</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Calculate participant statistics and response rates)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Analytic sample (≥15 completions, used in imputed analyses)</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>analytic_pids <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(.imp <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(pid) <span class="sc">|&gt;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(pid)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare participant data with collapsed categories</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>participant_data <span class="ot">&lt;-</span> intake <span class="sc">|&gt;</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pid <span class="sc">%in%</span> <span class="fu">c</span>(full_eligible_pids, analytic_pids)) <span class="sc">|&gt;</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Collapse gender to main categories</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">gender =</span> <span class="fu">ifelse</span>(</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>      gender <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Man"</span>, <span class="st">"Woman"</span>),</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>      gender,</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Other gender identity"</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Collapse ethnicity to main categories</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity_collapsed =</span> <span class="fu">case_when</span>(</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(ethnicity, <span class="st">"White"</span>) <span class="sc">~</span> <span class="st">"White"</span>,</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>        ethnicity,</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Black|African American|African, Caribbean"</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">~</span> <span class="st">"Black/African American"</span>,</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(ethnicity, <span class="st">"Asian"</span>) <span class="sc">~</span> <span class="st">"Asian"</span>,</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(ethnicity, <span class="st">"Two or More|Mixed"</span>) <span class="sc">~</span> <span class="st">"Multiracial"</span>,</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(ethnicity) <span class="sc">~</span> <span class="cn">NA_character_</span>,</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Collapse education to main levels</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">education_collapsed =</span> <span class="fu">case_when</span>(</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>        edu_level,</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Less than|No formal|Primary"</span></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">~</span> <span class="st">"Less than high school"</span>,</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(</span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>        edu_level,</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>        <span class="st">"High school|Secondary School|GCSE|Some college|Some University"</span></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">~</span> <span class="st">"High school or some college"</span>,</span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(edu_level, <span class="st">"Associate"</span>) <span class="sc">~</span> <span class="st">"Associate degree"</span>,</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>        edu_level,</span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Bachelor|University Bachelors"</span></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">~</span> <span class="st">"Bachelor's degree"</span>,</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(</span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>        edu_level,</span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Master|Graduate|professional degree|doctoral|post-graduate"</span></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">~</span> <span class="st">"Graduate degree"</span>,</span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(edu_level) <span class="sc">~</span> <span class="cn">NA_character_</span>,</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span></span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Assign to sample</span></span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">sample =</span> <span class="fu">case_when</span>(</span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>      pid <span class="sc">%in%</span> analytic_pids <span class="sc">~</span> <span class="st">"Analytic sample"</span>,</span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Full eligible sample"</span></span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>    pid,</span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a>    sample,</span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a>    age,</span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a>    gender,</span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a>    ethnicity_collapsed,</span>
<span id="cb9-63"><a href="#cb9-63" aria-hidden="true" tabindex="-1"></a>    education_collapsed,</span>
<span id="cb9-64"><a href="#cb9-64" aria-hidden="true" tabindex="-1"></a>    self_reported_weekly_play,</span>
<span id="cb9-65"><a href="#cb9-65" aria-hidden="true" tabindex="-1"></a>    diaries_completed</span>
<span id="cb9-66"><a href="#cb9-66" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb9-67"><a href="#cb9-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-68"><a href="#cb9-68" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample sizes for text</span></span>
<span id="cb9-69"><a href="#cb9-69" aria-hidden="true" tabindex="-1"></a>n_analytic <span class="ot">&lt;-</span> <span class="fu">sum</span>(participant_data<span class="sc">$</span>sample <span class="sc">==</span> <span class="st">"Analytic sample"</span>)</span>
<span id="cb9-70"><a href="#cb9-70" aria-hidden="true" tabindex="-1"></a>n_full <span class="ot">&lt;-</span> <span class="fu">sum</span>(participant_data<span class="sc">$</span>sample <span class="sc">==</span> <span class="st">"Full eligible sample"</span>)</span>
<span id="cb9-71"><a href="#cb9-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-72"><a href="#cb9-72" aria-hidden="true" tabindex="-1"></a><span class="co"># Gender summary for analytic sample (for text)</span></span>
<span id="cb9-73"><a href="#cb9-73" aria-hidden="true" tabindex="-1"></a>gender_analytic <span class="ot">&lt;-</span> participant_data <span class="sc">|&gt;</span></span>
<span id="cb9-74"><a href="#cb9-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sample <span class="sc">==</span> <span class="st">"Analytic sample"</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-75"><a href="#cb9-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(gender) <span class="sc">|&gt;</span></span>
<span id="cb9-76"><a href="#cb9-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> <span class="dv">100</span> <span class="sc">*</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span>
<span id="cb9-77"><a href="#cb9-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-78"><a href="#cb9-78" aria-hidden="true" tabindex="-1"></a>pct_men <span class="ot">&lt;-</span> gender_analytic <span class="sc">|&gt;</span> <span class="fu">filter</span>(gender <span class="sc">==</span> <span class="st">"Man"</span>) <span class="sc">|&gt;</span> <span class="fu">pull</span>(pct) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb9-79"><a href="#cb9-79" aria-hidden="true" tabindex="-1"></a>pct_women <span class="ot">&lt;-</span> gender_analytic <span class="sc">|&gt;</span></span>
<span id="cb9-80"><a href="#cb9-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gender <span class="sc">==</span> <span class="st">"Woman"</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-81"><a href="#cb9-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(pct) <span class="sc">|&gt;</span></span>
<span id="cb9-82"><a href="#cb9-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb9-83"><a href="#cb9-83" aria-hidden="true" tabindex="-1"></a>pct_other <span class="ot">&lt;-</span> gender_analytic <span class="sc">|&gt;</span></span>
<span id="cb9-84"><a href="#cb9-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gender <span class="sc">==</span> <span class="st">"Other gender identity"</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-85"><a href="#cb9-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(pct) <span class="sc">|&gt;</span></span>
<span id="cb9-86"><a href="#cb9-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb9-87"><a href="#cb9-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-88"><a href="#cb9-88" aria-hidden="true" tabindex="-1"></a>gender_summary <span class="ot">&lt;-</span> <span class="fu">glue</span>(</span>
<span id="cb9-89"><a href="#cb9-89" aria-hidden="true" tabindex="-1"></a>  <span class="st">"{pct_men}% men, {pct_women}% women, {pct_other}% other gender identities"</span></span>
<span id="cb9-90"><a href="#cb9-90" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Generate participant demographics table)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build table using map</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>summary_table <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sample sizes</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Characteristic =</span> <span class="st">"**N**"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Full sample</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.character</span>(n_full),</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Analytic sample</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.character</span>(n_analytic)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Age</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">Characteristic =</span> <span class="st">"Age (years)"</span>,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Full sample</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format_mean_sd</span>(</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>      participant_data<span class="sc">$</span>age[participant_data<span class="sc">$</span>sample <span class="sc">==</span> <span class="st">"Full eligible sample"</span>]</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Analytic sample</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format_mean_sd</span>(</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>      participant_data<span class="sc">$</span>age[participant_data<span class="sc">$</span>sample <span class="sc">==</span> <span class="st">"Analytic sample"</span>]</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Categorical demographics</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">create_categorical_section</span>(</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>    participant_data,</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"gender"</span>,</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Gender"</span>,</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"Man"</span>, <span class="st">"Woman"</span>, <span class="st">"Other gender identity"</span>)</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">create_categorical_section</span>(</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>    participant_data,</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ethnicity_collapsed"</span>,</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Ethnicity"</span>,</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"White"</span>, <span class="st">"Black/African American"</span>, <span class="st">"Asian"</span>, <span class="st">"Multiracial"</span>, <span class="st">"Other"</span>)</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">create_categorical_section</span>(</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>    participant_data,</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">"education_collapsed"</span>,</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Education"</span>,</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Less than high school"</span>,</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>      <span class="st">"High school or some college"</span>,</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Associate degree"</span>,</span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Bachelor's degree"</span>,</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Graduate degree"</span></span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gaming behavior section</span></span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">Characteristic =</span> <span class="st">"**Gaming behavior**"</span>,</span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Full sample</span><span class="st">`</span> <span class="ot">=</span> <span class="st">""</span>,</span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Analytic sample</span><span class="st">`</span> <span class="ot">=</span> <span class="st">""</span></span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">Characteristic =</span> <span class="st">"Weekly play (hours)"</span>,</span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Full sample</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format_mean_sd</span>(</span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a>      participant_data<span class="sc">$</span>self_reported_weekly_play[</span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a>        participant_data<span class="sc">$</span>sample <span class="sc">==</span> <span class="st">"Full eligible sample"</span></span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a>      ] <span class="sc">/</span></span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a>        <span class="dv">60</span></span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb10-64"><a href="#cb10-64" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Analytic sample</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format_mean_sd</span>(</span>
<span id="cb10-65"><a href="#cb10-65" aria-hidden="true" tabindex="-1"></a>      participant_data<span class="sc">$</span>self_reported_weekly_play[</span>
<span id="cb10-66"><a href="#cb10-66" aria-hidden="true" tabindex="-1"></a>        participant_data<span class="sc">$</span>sample <span class="sc">==</span> <span class="st">"Analytic sample"</span></span>
<span id="cb10-67"><a href="#cb10-67" aria-hidden="true" tabindex="-1"></a>      ] <span class="sc">/</span></span>
<span id="cb10-68"><a href="#cb10-68" aria-hidden="true" tabindex="-1"></a>        <span class="dv">60</span></span>
<span id="cb10-69"><a href="#cb10-69" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-70"><a href="#cb10-70" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb10-71"><a href="#cb10-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-72"><a href="#cb10-72" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Study engagement section</span></span>
<span id="cb10-73"><a href="#cb10-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb10-74"><a href="#cb10-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">Characteristic =</span> <span class="st">"**Study engagement**"</span>,</span>
<span id="cb10-75"><a href="#cb10-75" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Full sample</span><span class="st">`</span> <span class="ot">=</span> <span class="st">""</span>,</span>
<span id="cb10-76"><a href="#cb10-76" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Analytic sample</span><span class="st">`</span> <span class="ot">=</span> <span class="st">""</span></span>
<span id="cb10-77"><a href="#cb10-77" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb10-78"><a href="#cb10-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-79"><a href="#cb10-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb10-80"><a href="#cb10-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">Characteristic =</span> <span class="st">"Surveys completed"</span>,</span>
<span id="cb10-81"><a href="#cb10-81" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Full sample</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format_mean_sd</span>(</span>
<span id="cb10-82"><a href="#cb10-82" aria-hidden="true" tabindex="-1"></a>      participant_data<span class="sc">$</span>diaries_completed[</span>
<span id="cb10-83"><a href="#cb10-83" aria-hidden="true" tabindex="-1"></a>        participant_data<span class="sc">$</span>sample <span class="sc">==</span> <span class="st">"Full eligible sample"</span></span>
<span id="cb10-84"><a href="#cb10-84" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb10-85"><a href="#cb10-85" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb10-86"><a href="#cb10-86" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Analytic sample</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format_mean_sd</span>(</span>
<span id="cb10-87"><a href="#cb10-87" aria-hidden="true" tabindex="-1"></a>      participant_data<span class="sc">$</span>diaries_completed[</span>
<span id="cb10-88"><a href="#cb10-88" aria-hidden="true" tabindex="-1"></a>        participant_data<span class="sc">$</span>sample <span class="sc">==</span> <span class="st">"Analytic sample"</span></span>
<span id="cb10-89"><a href="#cb10-89" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb10-90"><a href="#cb10-90" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-91"><a href="#cb10-91" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-92"><a href="#cb10-92" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-93"><a href="#cb10-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-94"><a href="#cb10-94" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify rows for styling</span></span>
<span id="cb10-95"><a href="#cb10-95" aria-hidden="true" tabindex="-1"></a>header_rows <span class="ot">&lt;-</span> <span class="fu">which</span>(</span>
<span id="cb10-96"><a href="#cb10-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_detect</span>(summary_table<span class="sc">$</span>Characteristic, <span class="st">"^</span><span class="sc">\\</span><span class="st">*</span><span class="sc">\\</span><span class="st">*"</span>) <span class="sc">|</span></span>
<span id="cb10-97"><a href="#cb10-97" aria-hidden="true" tabindex="-1"></a>    (summary_table<span class="sc">$</span><span class="st">`</span><span class="at">Full sample</span><span class="st">`</span> <span class="sc">==</span> <span class="st">""</span> <span class="sc">&amp;</span> summary_table<span class="sc">$</span><span class="st">`</span><span class="at">Analytic sample</span><span class="st">`</span> <span class="sc">==</span> <span class="st">""</span>)</span>
<span id="cb10-98"><a href="#cb10-98" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-99"><a href="#cb10-99" aria-hidden="true" tabindex="-1"></a>indent_rows <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">str_detect</span>(summary_table<span class="sc">$</span>Characteristic, <span class="st">"^    "</span>))</span>
<span id="cb10-100"><a href="#cb10-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-101"><a href="#cb10-101" aria-hidden="true" tabindex="-1"></a><span class="co"># Create table</span></span>
<span id="cb10-102"><a href="#cb10-102" aria-hidden="true" tabindex="-1"></a>summary_table <span class="sc">|&gt;</span></span>
<span id="cb10-103"><a href="#cb10-103" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>(</span>
<span id="cb10-104"><a href="#cb10-104" aria-hidden="true" tabindex="-1"></a>    <span class="at">notes =</span> <span class="st">"Values are M (SD) or N (%). Ethnicity and education categories collapsed to main levels for clarity."</span></span>
<span id="cb10-105"><a href="#cb10-105" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb10-106"><a href="#cb10-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">format_tt</span>(<span class="at">j =</span> <span class="dv">1</span>, <span class="at">markdown =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-107"><a href="#cb10-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> header_rows, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-108"><a href="#cb10-108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">format_tt</span>(<span class="at">i =</span> header_rows, <span class="at">j =</span> <span class="dv">1</span>, <span class="at">fn =</span> <span class="cf">function</span>(x) {</span>
<span id="cb10-109"><a href="#cb10-109" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_remove_all</span>(x, <span class="st">"</span><span class="sc">\\</span><span class="st">*</span><span class="sc">\\</span><span class="st">*"</span>)</span>
<span id="cb10-110"><a href="#cb10-110" aria-hidden="true" tabindex="-1"></a>  }) <span class="sc">|&gt;</span></span>
<span id="cb10-111"><a href="#cb10-111" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> indent_rows, <span class="at">j =</span> <span class="dv">1</span>, <span class="at">indent =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-112"><a href="#cb10-112" aria-hidden="true" tabindex="-1"></a>  <span class="fu">format_tt</span>(<span class="at">i =</span> indent_rows, <span class="at">j =</span> <span class="dv">1</span>, <span class="at">fn =</span> <span class="cf">function</span>(x) <span class="fu">str_trim</span>(x)) <span class="sc">|&gt;</span></span>
<span id="cb10-113"><a href="#cb10-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-114"><a href="#cb10-114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-participants" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-participants-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Participant characteristics by sample
</figcaption>
<div aria-describedby="tbl-participants-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_qbn0p797jo2a5j0dgotm = TinyTable.createTableFunctions("tinytable_qbn0p797jo2a5j0dgotm");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '22', j: 1 }, { i: '22', j: 2 }, { i: '22', j: 3 } ], css_id: 'tinytable_css_crnau76k9ittwcap4sbx',}, 
          { positions: [ { i: '4', j: 1 }, { i: '5', j: 1 }, { i: '6', j: 1 }, { i: '8', j: 1 }, { i: '9', j: 1 }, { i: '10', j: 1 }, { i: '11', j: 1 }, { i: '12', j: 1 }, { i: '14', j: 1 }, { i: '15', j: 1 }, { i: '16', j: 1 }, { i: '17', j: 1 }, { i: '18', j: 1 } ], css_id: 'tinytable_css_ibvnafvw6f3jmqt9wrph',}, 
          { positions: [ { i: '2', j: 1 }, { i: '20', j: 1 }, { i: '2', j: 2 }, { i: '4', j: 2 }, { i: '5', j: 2 }, { i: '6', j: 2 }, { i: '8', j: 2 }, { i: '9', j: 2 }, { i: '10', j: 2 }, { i: '11', j: 2 }, { i: '12', j: 2 }, { i: '14', j: 2 }, { i: '15', j: 2 }, { i: '16', j: 2 }, { i: '17', j: 2 }, { i: '18', j: 2 }, { i: '20', j: 2 }, { i: '2', j: 3 }, { i: '4', j: 3 }, { i: '5', j: 3 }, { i: '6', j: 3 }, { i: '8', j: 3 }, { i: '9', j: 3 }, { i: '10', j: 3 }, { i: '11', j: 3 }, { i: '12', j: 3 }, { i: '14', j: 3 }, { i: '15', j: 3 }, { i: '16', j: 3 }, { i: '17', j: 3 }, { i: '18', j: 3 }, { i: '20', j: 3 } ], css_id: 'tinytable_css_re6it3fqvjkfqrd1mgdh',}, 
          { positions: [ { i: '1', j: 1 }, { i: '3', j: 1 }, { i: '7', j: 1 }, { i: '13', j: 1 }, { i: '19', j: 1 }, { i: '21', j: 1 }, { i: '1', j: 2 }, { i: '3', j: 2 }, { i: '7', j: 2 }, { i: '13', j: 2 }, { i: '19', j: 2 }, { i: '21', j: 2 }, { i: '1', j: 3 }, { i: '3', j: 3 }, { i: '7', j: 3 }, { i: '13', j: 3 }, { i: '19', j: 3 }, { i: '21', j: 3 } ], css_id: 'tinytable_css_mgzxsrgspkq2t8elzc2k',}, 
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 } ], css_id: 'tinytable_css_b72ulr9ul9uifkcbfuiq',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_qbn0p797jo2a5j0dgotm.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_qbn0p797jo2a5j0dgotm td.tinytable_css_crnau76k9ittwcap4sbx, #tinytable_qbn0p797jo2a5j0dgotm th.tinytable_css_crnau76k9ittwcap4sbx {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-size: 0.7em }
    #tinytable_qbn0p797jo2a5j0dgotm td.tinytable_css_ibvnafvw6f3jmqt9wrph, #tinytable_qbn0p797jo2a5j0dgotm th.tinytable_css_ibvnafvw6f3jmqt9wrph { font-size: 0.7em; padding-left: 1em }
    #tinytable_qbn0p797jo2a5j0dgotm td.tinytable_css_re6it3fqvjkfqrd1mgdh, #tinytable_qbn0p797jo2a5j0dgotm th.tinytable_css_re6it3fqvjkfqrd1mgdh { font-size: 0.7em }
    #tinytable_qbn0p797jo2a5j0dgotm td.tinytable_css_mgzxsrgspkq2t8elzc2k, #tinytable_qbn0p797jo2a5j0dgotm th.tinytable_css_mgzxsrgspkq2t8elzc2k { font-weight: bold; font-size: 0.7em }
    #tinytable_qbn0p797jo2a5j0dgotm td.tinytable_css_b72ulr9ul9uifkcbfuiq, #tinytable_qbn0p797jo2a5j0dgotm th.tinytable_css_b72ulr9ul9uifkcbfuiq {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_qbn0p797jo2a5j0dgotm" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1">Characteristic</th>
                <th scope="col" data-row="0" data-col="2">Full sample</th>
                <th scope="col" data-row="0" data-col="3">Analytic sample</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="3">Values are M (SD) or N (%). Ethnicity and education categories collapsed to main levels for clarity.</td></tr></tfoot>
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">N</td>
                  <td data-row="1" data-col="2">653</td>
                  <td data-row="1" data-col="3">555</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1">Age (years)</td>
                  <td data-row="2" data-col="2">25.4 (4.2)</td>
                  <td data-row="2" data-col="3">28.0 (5.2)</td>
                </tr>
                <tr>
                  <td data-row="3" data-col="1">Gender</td>
                  <td data-row="3" data-col="2"></td>
                  <td data-row="3" data-col="3"></td>
                </tr>
                <tr>
                  <td data-row="4" data-col="1">Man</td>
                  <td data-row="4" data-col="2">393 (60.2%)</td>
                  <td data-row="4" data-col="3">353 (63.6%)</td>
                </tr>
                <tr>
                  <td data-row="5" data-col="1">Woman</td>
                  <td data-row="5" data-col="2">225 (34.5%)</td>
                  <td data-row="5" data-col="3">159 (28.6%)</td>
                </tr>
                <tr>
                  <td data-row="6" data-col="1">Other gender identity</td>
                  <td data-row="6" data-col="2">35 (5.4%)</td>
                  <td data-row="6" data-col="3">43 (7.7%)</td>
                </tr>
                <tr>
                  <td data-row="7" data-col="1">Ethnicity</td>
                  <td data-row="7" data-col="2"></td>
                  <td data-row="7" data-col="3"></td>
                </tr>
                <tr>
                  <td data-row="8" data-col="1">White</td>
                  <td data-row="8" data-col="2">375 (61.5%)</td>
                  <td data-row="8" data-col="3">354 (63.8%)</td>
                </tr>
                <tr>
                  <td data-row="9" data-col="1">Black/African American</td>
                  <td data-row="9" data-col="2">72 (11.8%)</td>
                  <td data-row="9" data-col="3">49 (8.8%)</td>
                </tr>
                <tr>
                  <td data-row="10" data-col="1">Asian</td>
                  <td data-row="10" data-col="2">41 (6.7%)</td>
                  <td data-row="10" data-col="3">56 (10.1%)</td>
                </tr>
                <tr>
                  <td data-row="11" data-col="1">Multiracial</td>
                  <td data-row="11" data-col="2">93 (15.2%)</td>
                  <td data-row="11" data-col="3">71 (12.8%)</td>
                </tr>
                <tr>
                  <td data-row="12" data-col="1">Other</td>
                  <td data-row="12" data-col="2">29 (4.8%)</td>
                  <td data-row="12" data-col="3">25 (4.5%)</td>
                </tr>
                <tr>
                  <td data-row="13" data-col="1">Education</td>
                  <td data-row="13" data-col="2"></td>
                  <td data-row="13" data-col="3"></td>
                </tr>
                <tr>
                  <td data-row="14" data-col="1">Less than high school</td>
                  <td data-row="14" data-col="2">15 (2.3%)</td>
                  <td data-row="14" data-col="3">10 (1.8%)</td>
                </tr>
                <tr>
                  <td data-row="15" data-col="1">High school or some college</td>
                  <td data-row="15" data-col="2">360 (55.1%)</td>
                  <td data-row="15" data-col="3">242 (43.6%)</td>
                </tr>
                <tr>
                  <td data-row="16" data-col="1">Associate degree</td>
                  <td data-row="16" data-col="2">71 (10.9%)</td>
                  <td data-row="16" data-col="3">57 (10.3%)</td>
                </tr>
                <tr>
                  <td data-row="17" data-col="1">Bachelor's degree</td>
                  <td data-row="17" data-col="2">160 (24.5%)</td>
                  <td data-row="17" data-col="3">206 (37.1%)</td>
                </tr>
                <tr>
                  <td data-row="18" data-col="1">Graduate degree</td>
                  <td data-row="18" data-col="2">37 (5.7%)</td>
                  <td data-row="18" data-col="3">39 (7.0%)</td>
                </tr>
                <tr>
                  <td data-row="19" data-col="1">Gaming behavior</td>
                  <td data-row="19" data-col="2"></td>
                  <td data-row="19" data-col="3"></td>
                </tr>
                <tr>
                  <td data-row="20" data-col="1">Weekly play (hours)</td>
                  <td data-row="20" data-col="2">19.1 (12.5)</td>
                  <td data-row="20" data-col="3">17.7 (11.4)</td>
                </tr>
                <tr>
                  <td data-row="21" data-col="1">Study engagement</td>
                  <td data-row="21" data-col="2"></td>
                  <td data-row="21" data-col="3"></td>
                </tr>
                <tr>
                  <td data-row="22" data-col="1">Surveys completed</td>
                  <td data-row="22" data-col="2">2.8 (3.6)</td>
                  <td data-row="22" data-col="3">26.3 (3.9)</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
<p>The analytic sample included 555 participants (63.6% men, 28.6% women, 7.7% other gender identities) who completed at least 15 daily surveys and were included in the main imputed analyses. The full eligible sample comprised 653 participants who completed at least 1 survey and were included in complete case sensitivity analyses.</p>
<div class="place" data-arguments="top, scope: &quot;parent&quot;, float: true">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Create main descriptive figure)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel A: Density ridges for key variables</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>dat_desc <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>panel_a <span class="ot">&lt;-</span> dat_desc <span class="sc">|&gt;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(global_ns, global_nf, game_ns) <span class="sc">|&gt;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">"variable"</span>, <span class="at">values_to =</span> <span class="st">"value"</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">variable =</span> <span class="fu">factor</span>(</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>      variable,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"game_ns"</span>, <span class="st">"global_ns"</span>, <span class="st">"global_nf"</span>),</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">c</span>(</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sub</span>(<span class="st">" "</span>, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, labels[<span class="st">"game_ns"</span>]),</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sub</span>(<span class="st">" "</span>, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, labels[<span class="st">"global_ns"</span>]),</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sub</span>(<span class="st">" "</span>, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, labels[<span class="st">"global_nf"</span>])</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> variable, <span class="at">fill =</span> variable)) <span class="sc">+</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">scale =</span> <span class="fl">0.9</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Game need</span><span class="sc">\n</span><span class="st">satisfaction"</span> <span class="ot">=</span> colors<span class="sc">$</span>game_ns,</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Global need</span><span class="sc">\n</span><span class="st">satisfaction"</span> <span class="ot">=</span> colors<span class="sc">$</span>global_ns,</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Global need</span><span class="sc">\n</span><span class="st">frustration"</span> <span class="ot">=</span> colors<span class="sc">$</span>global_nf</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Scale Value"</span>, <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel B: Variance decomposition</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>panel_b <span class="ot">&lt;-</span> dat_desc <span class="sc">|&gt;</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pid, global_ns, global_nf, game_ns) <span class="sc">|&gt;</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(global_ns, global_nf, game_ns),</span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"variable"</span>,</span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"value"</span></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(variable) <span class="sc">|&gt;</span></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">var_total =</span> <span class="fu">var</span>(value, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">var_between =</span> <span class="fu">var</span>(<span class="fu">tapply</span>(value, pid, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_between =</span> <span class="dv">100</span> <span class="sc">*</span> var_between <span class="sc">/</span> var_total,</span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_within =</span> <span class="dv">100</span> <span class="sc">*</span> (var_total <span class="sc">-</span> var_between) <span class="sc">/</span> var_total,</span>
<span id="cb11-48"><a href="#cb11-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">variable =</span> <span class="fu">factor</span>(</span>
<span id="cb11-49"><a href="#cb11-49" aria-hidden="true" tabindex="-1"></a>      variable,</span>
<span id="cb11-50"><a href="#cb11-50" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"game_ns"</span>, <span class="st">"global_ns"</span>, <span class="st">"global_nf"</span>),</span>
<span id="cb11-51"><a href="#cb11-51" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">c</span>(</span>
<span id="cb11-52"><a href="#cb11-52" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sub</span>(<span class="st">" "</span>, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, labels[<span class="st">"game_ns"</span>]),</span>
<span id="cb11-53"><a href="#cb11-53" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sub</span>(<span class="st">" "</span>, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, labels[<span class="st">"global_ns"</span>]),</span>
<span id="cb11-54"><a href="#cb11-54" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sub</span>(<span class="st">" "</span>, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, labels[<span class="st">"global_nf"</span>])</span>
<span id="cb11-55"><a href="#cb11-55" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb11-56"><a href="#cb11-56" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-57"><a href="#cb11-57" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-58"><a href="#cb11-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb11-59"><a href="#cb11-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(pct_within, pct_between),</span>
<span id="cb11-60"><a href="#cb11-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"component"</span>,</span>
<span id="cb11-61"><a href="#cb11-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"percentage"</span></span>
<span id="cb11-62"><a href="#cb11-62" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-63"><a href="#cb11-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb11-64"><a href="#cb11-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">component =</span> <span class="fu">factor</span>(</span>
<span id="cb11-65"><a href="#cb11-65" aria-hidden="true" tabindex="-1"></a>      component,</span>
<span id="cb11-66"><a href="#cb11-66" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"pct_between"</span>, <span class="st">"pct_within"</span>),</span>
<span id="cb11-67"><a href="#cb11-67" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">c</span>(labels[<span class="st">"Between-person"</span>], labels[<span class="st">"Within-person"</span>])</span>
<span id="cb11-68"><a href="#cb11-68" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-69"><a href="#cb11-69" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-70"><a href="#cb11-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> variable, <span class="at">y =</span> percentage, <span class="at">fill =</span> component)) <span class="sc">+</span></span>
<span id="cb11-71"><a href="#cb11-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb11-72"><a href="#cb11-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb11-73"><a href="#cb11-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb11-74"><a href="#cb11-74" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Between-person"</span> <span class="ot">=</span> colors<span class="sc">$</span>between,</span>
<span id="cb11-75"><a href="#cb11-75" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Within-person"</span> <span class="ot">=</span> colors<span class="sc">$</span>within</span>
<span id="cb11-76"><a href="#cb11-76" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-77"><a href="#cb11-77" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb11-78"><a href="#cb11-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">"Percentage of Variance"</span>, <span class="at">fill =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb11-79"><a href="#cb11-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb11-80"><a href="#cb11-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-81"><a href="#cb11-81" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel C: Hour of day patterns</span></span>
<span id="cb11-82"><a href="#cb11-82" aria-hidden="true" tabindex="-1"></a>panel_c <span class="ot">&lt;-</span> hourly_telemetry <span class="sc">|&gt;</span></span>
<span id="cb11-83"><a href="#cb11-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pid <span class="sc">%in%</span> <span class="fu">unique</span>(dat_desc<span class="sc">$</span>pid)) <span class="sc">|&gt;</span></span>
<span id="cb11-84"><a href="#cb11-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">hour =</span> <span class="fu">hour</span>(hour_start_local)) <span class="sc">|&gt;</span></span>
<span id="cb11-85"><a href="#cb11-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, hour) <span class="sc">|&gt;</span></span>
<span id="cb11-86"><a href="#cb11-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_minutes =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-87"><a href="#cb11-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hour) <span class="sc">|&gt;</span></span>
<span id="cb11-88"><a href="#cb11-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb11-89"><a href="#cb11-89" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_minutes =</span> <span class="fu">mean</span>(total_minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb11-90"><a href="#cb11-90" aria-hidden="true" tabindex="-1"></a>    <span class="at">se =</span> <span class="fu">sd</span>(total_minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="fu">n</span>()),</span>
<span id="cb11-91"><a href="#cb11-91" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb11-92"><a href="#cb11-92" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-93"><a href="#cb11-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> hour, <span class="at">y =</span> mean_minutes)) <span class="sc">+</span></span>
<span id="cb11-94"><a href="#cb11-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(</span>
<span id="cb11-95"><a href="#cb11-95" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> mean_minutes <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> se, <span class="at">ymax =</span> mean_minutes <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> se),</span>
<span id="cb11-96"><a href="#cb11-96" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> colors<span class="sc">$</span>global_nf,</span>
<span id="cb11-97"><a href="#cb11-97" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.2</span></span>
<span id="cb11-98"><a href="#cb11-98" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb11-99"><a href="#cb11-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> colors<span class="sc">$</span>global_nf, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb11-100"><a href="#cb11-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> colors<span class="sc">$</span>global_nf, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb11-101"><a href="#cb11-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Hour of Day"</span>, <span class="at">y =</span> <span class="st">"Mean Play</span><span class="sc">\n</span><span class="st">(minutes)"</span>) <span class="sc">+</span></span>
<span id="cb11-102"><a href="#cb11-102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">23</span>, <span class="dv">3</span>))</span>
<span id="cb11-103"><a href="#cb11-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-104"><a href="#cb11-104" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel D: Platform usage over study days</span></span>
<span id="cb11-105"><a href="#cb11-105" aria-hidden="true" tabindex="-1"></a>panel_d <span class="ot">&lt;-</span> daily_telemetry <span class="sc">|&gt;</span></span>
<span id="cb11-106"><a href="#cb11-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">day_local_date =</span> <span class="fu">as.Date</span>(day_local)) <span class="sc">|&gt;</span></span>
<span id="cb11-107"><a href="#cb11-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(</span>
<span id="cb11-108"><a href="#cb11-108" aria-hidden="true" tabindex="-1"></a>    dat_desc <span class="sc">|&gt;</span></span>
<span id="cb11-109"><a href="#cb11-109" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(pid, date, wave) <span class="sc">|&gt;</span></span>
<span id="cb11-110"><a href="#cb11-110" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb11-111"><a href="#cb11-111" aria-hidden="true" tabindex="-1"></a>        <span class="at">date_only =</span> <span class="fu">as.Date</span>(date),</span>
<span id="cb11-112"><a href="#cb11-112" aria-hidden="true" tabindex="-1"></a>        <span class="at">wave_num =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(wave))</span>
<span id="cb11-113"><a href="#cb11-113" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb11-114"><a href="#cb11-114" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(wave_num <span class="sc">&lt;=</span> <span class="dv">30</span>),</span>
<span id="cb11-115"><a href="#cb11-115" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"day_local_date"</span> <span class="ot">=</span> <span class="st">"date_only"</span>),</span>
<span id="cb11-116"><a href="#cb11-116" aria-hidden="true" tabindex="-1"></a>    <span class="at">relationship =</span> <span class="st">"many-to-many"</span></span>
<span id="cb11-117"><a href="#cb11-117" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-118"><a href="#cb11-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(minutes <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-119"><a href="#cb11-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb11-120"><a href="#cb11-120" aria-hidden="true" tabindex="-1"></a>    <span class="at">platform =</span> <span class="fu">case_when</span>(</span>
<span id="cb11-121"><a href="#cb11-121" aria-hidden="true" tabindex="-1"></a>      platform <span class="sc">==</span> <span class="st">"nintendo"</span> <span class="sc">~</span> <span class="st">"Nintendo"</span>,</span>
<span id="cb11-122"><a href="#cb11-122" aria-hidden="true" tabindex="-1"></a>      platform <span class="sc">==</span> <span class="st">"xbox"</span> <span class="sc">~</span> <span class="st">"Xbox"</span>,</span>
<span id="cb11-123"><a href="#cb11-123" aria-hidden="true" tabindex="-1"></a>      platform <span class="sc">==</span> <span class="st">"steam"</span> <span class="sc">~</span> <span class="st">"Steam"</span>,</span>
<span id="cb11-124"><a href="#cb11-124" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> platform</span>
<span id="cb11-125"><a href="#cb11-125" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-126"><a href="#cb11-126" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-127"><a href="#cb11-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(wave_num, platform) <span class="sc">|&gt;</span></span>
<span id="cb11-128"><a href="#cb11-128" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_minutes =</span> <span class="fu">sum</span>(minutes), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-129"><a href="#cb11-129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(wave_num) <span class="sc">|&gt;</span></span>
<span id="cb11-130"><a href="#cb11-130" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> total_minutes <span class="sc">/</span> <span class="fu">sum</span>(total_minutes)) <span class="sc">|&gt;</span></span>
<span id="cb11-131"><a href="#cb11-131" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> wave_num, <span class="at">y =</span> proportion, <span class="at">fill =</span> platform)) <span class="sc">+</span></span>
<span id="cb11-132"><a href="#cb11-132" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb11-133"><a href="#cb11-133" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb11-134"><a href="#cb11-134" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb11-135"><a href="#cb11-135" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Nintendo"</span> <span class="ot">=</span> colors<span class="sc">$</span>nintendo,</span>
<span id="cb11-136"><a href="#cb11-136" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Xbox"</span> <span class="ot">=</span> colors<span class="sc">$</span>xbox,</span>
<span id="cb11-137"><a href="#cb11-137" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Steam"</span> <span class="ot">=</span> colors<span class="sc">$</span>steam</span>
<span id="cb11-138"><a href="#cb11-138" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-139"><a href="#cb11-139" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb11-140"><a href="#cb11-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Study Day"</span>, <span class="at">y =</span> <span class="st">"Proportion of Play"</span>, <span class="at">fill =</span> <span class="st">"Platform"</span>) <span class="sc">+</span></span>
<span id="cb11-141"><a href="#cb11-141" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">30</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb11-142"><a href="#cb11-142" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb11-143"><a href="#cb11-143" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb11-144"><a href="#cb11-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-145"><a href="#cb11-145" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine panels: top row with 3 panels, bottom row with full-width panel</span></span>
<span id="cb11-146"><a href="#cb11-146" aria-hidden="true" tabindex="-1"></a>((panel_a <span class="sc">|</span> panel_b <span class="sc">|</span> panel_c) <span class="sc">/</span> panel_d) <span class="sc">+</span></span>
<span id="cb11-147"><a href="#cb11-147" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">"A"</span>) <span class="sc">&amp;</span></span>
<span id="cb11-148"><a href="#cb11-148" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb11-149"><a href="#cb11-149" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb11-150"><a href="#cb11-150" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="cn">NA</span>)</span>
<span id="cb11-151"><a href="#cb11-151" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-descriptives" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-descriptives-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-descriptives-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-descriptives-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Descriptive statistics for key variables. (A) Distributions of need satisfaction and frustration variables. (B) Variance decomposition showing proportion of variance at within-person vs between-person levels. (C) Play volume by hour of day (local time). (D) Proportion of play on each platform across study days 1-30.
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="measures" class="level3" data-number="3.1.3">
<h3 data-number="3.1.3" class="anchored" data-anchor-id="measures"><span class="header-section-number">3.1.3</span> Measures</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Calculate reliability for all scales)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>omega_global_ns <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">omega</span>(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    surveys <span class="sc">|&gt;</span> <span class="fu">select</span>(bpnsfs_1, bpnsfs_3, bpnsfs_5),</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot =</span> <span class="cn">FALSE</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">$</span>omega.tot,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  .<span class="dv">01</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>omega_global_nf <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">omega</span>(</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    surveys <span class="sc">|&gt;</span> <span class="fu">select</span>(bpnsfs_2, bpnsfs_4, bpnsfs_6),</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot =</span> <span class="cn">FALSE</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">$</span>omega.tot,</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  .<span class="dv">01</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>omega_game_ns <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">omega</span>(</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>    surveys <span class="sc">|&gt;</span> <span class="fu">select</span>(bangs_1, bangs_3, bangs_5),</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot =</span> <span class="cn">FALSE</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">$</span>omega.tot,</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>  .<span class="dv">01</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>omega_game_nf <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">omega</span>(</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>    surveys <span class="sc">|&gt;</span> <span class="fu">select</span>(bangs_2, bangs_4, bangs_6),</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot =</span> <span class="cn">FALSE</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">$</span>omega.tot,</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>  .<span class="dv">01</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a><span class="co"># proportion of surveys with subsequent play</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>prop_subsequent_play <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>(surveys[surveys<span class="sc">$</span>telemetry_played_any_24h, ]) <span class="sc">/</span> <span class="fu">nrow</span>(surveys) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>  .<span class="dv">1</span></span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>minutes_subsequent_play <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>(surveys<span class="sc">$</span>play_minutes_24h, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>sd_minutes_subsequent_play <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sd</span>(surveys<span class="sc">$</span>play_minutes_24h, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span></span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a><span class="co"># total hours per platform during 30-day study period</span></span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>platform_hours <span class="ot">&lt;-</span> daily_telemetry <span class="sc">|&gt;</span></span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">day_local_date =</span> <span class="fu">as.Date</span>(day_local)) <span class="sc">|&gt;</span></span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(</span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a>    surveys <span class="sc">|&gt;</span></span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(pid, date, wave) <span class="sc">|&gt;</span></span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a>      <span class="fu">distinct</span>() <span class="sc">|&gt;</span></span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a>        <span class="at">date_only =</span> <span class="fu">as.Date</span>(date),</span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a>        <span class="at">wave_num =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(wave))</span>
<span id="cb12-57"><a href="#cb12-57" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb12-58"><a href="#cb12-58" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(wave_num <span class="sc">&lt;=</span> <span class="dv">30</span>),</span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"day_local_date"</span> <span class="ot">=</span> <span class="st">"date_only"</span>),</span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">relationship =</span> <span class="st">"many-to-many"</span></span>
<span id="cb12-61"><a href="#cb12-61" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb12-62"><a href="#cb12-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(platform) <span class="sc">|&gt;</span></span>
<span id="cb12-63"><a href="#cb12-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_hours =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> <span class="dv">60</span>, <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb12-64"><a href="#cb12-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-65"><a href="#cb12-65" aria-hidden="true" tabindex="-1"></a>hours_nintendo <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb12-66"><a href="#cb12-66" aria-hidden="true" tabindex="-1"></a>  platform_hours <span class="sc">|&gt;</span> <span class="fu">filter</span>(platform <span class="sc">==</span> <span class="st">"nintendo"</span>) <span class="sc">|&gt;</span> <span class="fu">pull</span>(total_hours),</span>
<span id="cb12-67"><a href="#cb12-67" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span></span>
<span id="cb12-68"><a href="#cb12-68" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-69"><a href="#cb12-69" aria-hidden="true" tabindex="-1"></a>hours_xbox <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb12-70"><a href="#cb12-70" aria-hidden="true" tabindex="-1"></a>  platform_hours <span class="sc">|&gt;</span> <span class="fu">filter</span>(platform <span class="sc">==</span> <span class="st">"xbox"</span>) <span class="sc">|&gt;</span> <span class="fu">pull</span>(total_hours),</span>
<span id="cb12-71"><a href="#cb12-71" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span></span>
<span id="cb12-72"><a href="#cb12-72" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-73"><a href="#cb12-73" aria-hidden="true" tabindex="-1"></a>hours_steam <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb12-74"><a href="#cb12-74" aria-hidden="true" tabindex="-1"></a>  platform_hours <span class="sc">|&gt;</span> <span class="fu">filter</span>(platform <span class="sc">==</span> <span class="st">"steam"</span>) <span class="sc">|&gt;</span> <span class="fu">pull</span>(total_hours),</span>
<span id="cb12-75"><a href="#cb12-75" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span></span>
<span id="cb12-76"><a href="#cb12-76" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>The measures used in this paper are visualized in <a href="#fig-descriptives" class="quarto-xref">Figure&nbsp;1</a> and detailed below. For other measures in the Open Play study not used here, we refer readers to the Open Play codebook available on GitHub <a href="https://digital-wellbeing.github.io/open-play/#codebook">https://digital-wellbeing.github.io/open-play/#codebook</a>.</p>
<p><em>Need satisfaction in games</em>. We measured need satisfaction and frustration in games during the most recent gaming session using 3 items from an abbreviated version of the Basic Psychological Need Satisfaction in Gaming Scale (BANGS; <span class="citation" data-cites="BallouDeterding2024Basic">Ballou &amp; Deterding (<a href="#ref-BallouDeterding2024Basic" role="doc-biblioref">2024</a>)</span>). The BANGS assesses autonomy, competence, and relatedness need satisfaction with three items for each need; we selected the highest-loading item for each need for our brief daily measure. Participants rated each item on a Likert scale from 1 (Strongly disagree) to 7 (Strongly agree). We calculated mean scores for need satisfaction by averaging all three items. The reliability of the composite need satisfaction index is 0.64, and 0.65 for need frustration. As needs are conceptually distinct, we expect lower reliability for this composite index than for unidimensional scales.</p>
<p><em>Need satisfaction and frustration in daily life</em>. We measured need satisfaction and frustration in daily life (“global need satisfaction and frustration”) during the previous 24 hours using the brief version of the Basic Psychological Need Satisfaction and Frustration Scale <span class="citation" data-cites="ChenEtAl2015Basic MartelaRyan2024Assessing">(<a href="#ref-ChenEtAl2015Basic" role="doc-biblioref">Chen et al., 2015</a>; <a href="#ref-MartelaRyan2024Assessing" role="doc-biblioref">Martela &amp; Ryan, 2024</a>)</span>. This scale includes 6 items, with one item for need satisfaction and one item for need frustration for each of the three needs. Participants rated each item on a Likert scale from 1 (Strongly disagree) to 7 (Strongly agree). We calculated mean scores for need satisfaction and need frustration by averaging the relevant items. The reliability of the composite need satisfaction index is 0.85, and 0.73 for need frustration. As needs are conceptually distinct, we expect lower reliability for this composite index than for unidimensional scales.</p>
<p><em>Video game play</em>. We measured video game play using telemetry data collected from participants’ gaming accounts on Xbox, Steam, and Nintendo Switch. During the 30-day study period, we recorded a total of hours of play on Nintendo Switch, hours on Xbox, and hours on Steam. For each daily survey, we calculated total minutes played in the 24-hour period following survey completion. We also created a binary variable indicating whether any play occurred during this period. On average, 51.6% of surveys were followed by any play in the subsequent 24 hours, with a mean of 111 minutes (SD = 171).</p>
<p><em>Displacement</em>: We measured displacement of core life domains via an open text field asking participants about the hypothetical alternative activity: “Think back to your most recent gaming session. If you hadn’t played a game, what would you most likely have done instead?” With LLM assistance from Qwen3-4b-instruct, we coded participant responses based on whether they mentioned any of the following activities: work/school responsibilities, social engagements, sleep/eating/fitness, or caretaking—so-called “core life domains”. We created a boolean variable indicating whether any core life domain was hypothetically displaced.</p>
</section>
<section id="analysis-approach" class="level3" data-number="3.1.4">
<h3 data-number="3.1.4" class="anchored" data-anchor-id="analysis-approach"><span class="header-section-number">3.1.4</span> Analysis Approach</h3>
<p>We tested each hypothesis using a multilevel within-between linear regression with random intercepts, random slopes, and an AR(1) autocorrelation term, using the <code>glmmTMB</code> package <span class="citation" data-cites="BrooksEtAl2017glmmTMB">(<a href="#ref-BrooksEtAl2017glmmTMB" role="doc-biblioref">Brooks et al., 2017</a>)</span>. Focal predictors are within-person.</p>
</section>
<section id="imputation" class="level3" data-number="3.1.5">
<h3 data-number="3.1.5" class="anchored" data-anchor-id="imputation"><span class="header-section-number">3.1.5</span> Imputation</h3>
<p>We used multiple imputation by chained equations (MICE) with predictive mean matching (PMM) to handle missing data. Following the two-stage protocol from <span class="citation" data-cites="VonHippel2020How">Von Hippel (<a href="#ref-VonHippel2020How" role="doc-biblioref">2020</a>)</span> based on fraction of missing information, we used 27 imputations. For all variables, imputed distributions closely overlapped with the observed data (see Appendix <a href="#fig-imputation" class="quarto-xref">Figure&nbsp;6</a>). Models were fit separately to each imputed dataset, and estimates were pooled across imputations using Rubin’s rules as implemented in the <code>mice</code> package <span class="citation" data-cites="vanBuurenGroothuis-Oudshoorn2011mice">(<a href="#ref-vanBuurenGroothuis-Oudshoorn2011mice" role="doc-biblioref">van Buuren &amp; Groothuis-Oudshoorn, 2011</a>)</span>. For comparison, complete case analyses are reported in the Appendix (Sensitivity Analysis 4); results do not meaningfully differ from the imputed analyses.</p>
</section>
<section id="deviations-from-preregistration" class="level3" data-number="3.1.6">
<h3 data-number="3.1.6" class="anchored" data-anchor-id="deviations-from-preregistration"><span class="header-section-number">3.1.6</span> Deviations from Preregistration</h3>
<p>We made several deviations from our preregistration to ensure we could recruit enough high-quality participants to meet our sample size goals. In our view, none are so severe enough to threaten the validity of the study. Deviations are summarised in <a href="#tbl-deviations" class="quarto-xref">Table&nbsp;3</a>.</p>
<div class="place" data-arguments="top, scope: &quot;parent&quot;, float: true">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Create table of preregistration deviations)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Study Aspect</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data collection"</span>,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data collection"</span>,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data collection"</span>,</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data collection"</span>,</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data collection"</span>,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data collection"</span>,</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Analysis"</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">Preregistered =</span> <span class="fu">c</span>(</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"All participants sourced from PureProfile"</span>,</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Screening sample would be nationally representative by ethnicity and gender"</span>,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Sample consists of participants aged 18--30"</span>,</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"To qualify, &gt;=75% of a participant's total gaming must take place on platforms included in the study (Xbox, Steam, Nintendo Switch)"</span>,</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Qualification contingent upon valid telemetry within last 7 days"</span>,</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Daily surveys sent at 7pm local time"</span>,</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data would be imputed for all participants given a 50% overall response rate"</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">Actual =</span> <span class="fu">c</span>(</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Participants sourced from both PureProfile and Prolific"</span>,</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Approximately 50% of screening was done using quotas for national representativeness by ethnicity and gender; all subsequent sampling used convenience sampling with no quotas"</span>,</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Sample consists of participants aged 18-40"</span>,</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"To qualify, &gt;=50% of a participant's total gaming must take place on platforms included in the study (Xbox, Steam, Nintendo Switch)"</span>,</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Qualification contingent upon valid telemetry within last 14 days"</span>,</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Daily surveys sent at 2pm local time"</span>,</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data imputed for only participants with an individual 50% response rate"</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Justification for Deviation</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Exhausted PureProfile participant pool before reaching required sample size"</span>,</span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Exhausted participant pools of smaller demographic categories on both Prolific and PureProfile before reaching required sample size"</span>,</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">"(1) Unable to recruit enough participants in the US aged 18--30"</span>,</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Low rates of study qualification at 75% threshold, in large part due to substantial uncaptured Playstation play"</span>,</span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Feedback from participants indicating that play during a 7-day period was subject to too many fluctuations (e.g., a busy workweek)"</span>,</span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Feedback from participants indicating that evening plans often interfered with survey completion and thus adversely affected response rate"</span>,</span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Imputing values for participants with 50--97% missing data is poorly justified; results from the preregistered analysis with imputation for all participants are reported in the Appendix (Sensitivity Analysis 5) and do not meaningfully differ from the main analysis"</span></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">align =</span> <span class="st">"c"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-deviations" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-deviations-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: Summary of deviations from preregistration
</figcaption>
<div aria-describedby="tbl-deviations-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_5uf3y8my8lq78f7bejfy = TinyTable.createTableFunctions("tinytable_5uf3y8my8lq78f7bejfy");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '7', j: 1 }, { i: '7', j: 2 }, { i: '7', j: 3 }, { i: '7', j: 4 } ], css_id: 'tinytable_css_38z4l447wu767t5qo72r',}, 
          { positions: [ { i: '1', j: 1 }, { i: '2', j: 1 }, { i: '3', j: 1 }, { i: '4', j: 1 }, { i: '5', j: 1 }, { i: '6', j: 1 }, { i: '1', j: 2 }, { i: '2', j: 2 }, { i: '3', j: 2 }, { i: '4', j: 2 }, { i: '5', j: 2 }, { i: '6', j: 2 }, { i: '1', j: 3 }, { i: '2', j: 3 }, { i: '3', j: 3 }, { i: '4', j: 3 }, { i: '5', j: 3 }, { i: '6', j: 3 }, { i: '1', j: 4 }, { i: '2', j: 4 }, { i: '3', j: 4 }, { i: '4', j: 4 }, { i: '5', j: 4 }, { i: '6', j: 4 } ], css_id: 'tinytable_css_fob443yz69h5045jj030',}, 
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 } ], css_id: 'tinytable_css_a786x7r6u6xrywcb0y5i',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_5uf3y8my8lq78f7bejfy.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_5uf3y8my8lq78f7bejfy td.tinytable_css_38z4l447wu767t5qo72r, #tinytable_5uf3y8my8lq78f7bejfy th.tinytable_css_38z4l447wu767t5qo72r {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-size: 0.7em }
    #tinytable_5uf3y8my8lq78f7bejfy td.tinytable_css_fob443yz69h5045jj030, #tinytable_5uf3y8my8lq78f7bejfy th.tinytable_css_fob443yz69h5045jj030 { font-size: 0.7em }
    #tinytable_5uf3y8my8lq78f7bejfy td.tinytable_css_a786x7r6u6xrywcb0y5i, #tinytable_5uf3y8my8lq78f7bejfy th.tinytable_css_a786x7r6u6xrywcb0y5i {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; text-align: center; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_5uf3y8my8lq78f7bejfy" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1">Study Aspect</th>
                <th scope="col" data-row="0" data-col="2">Preregistered</th>
                <th scope="col" data-row="0" data-col="3">Actual</th>
                <th scope="col" data-row="0" data-col="4">Justification for Deviation</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">Data collection</td>
                  <td data-row="1" data-col="2">All participants sourced from PureProfile</td>
                  <td data-row="1" data-col="3">Participants sourced from both PureProfile and Prolific</td>
                  <td data-row="1" data-col="4">Exhausted PureProfile participant pool before reaching required sample size</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1">Data collection</td>
                  <td data-row="2" data-col="2">Screening sample would be nationally representative by ethnicity and gender</td>
                  <td data-row="2" data-col="3">Approximately 50% of screening was done using quotas for national representativeness by ethnicity and gender; all subsequent sampling used convenience sampling with no quotas</td>
                  <td data-row="2" data-col="4">Exhausted participant pools of smaller demographic categories on both Prolific and PureProfile before reaching required sample size</td>
                </tr>
                <tr>
                  <td data-row="3" data-col="1">Data collection</td>
                  <td data-row="3" data-col="2">Sample consists of participants aged 18--30</td>
                  <td data-row="3" data-col="3">Sample consists of participants aged 18-40</td>
                  <td data-row="3" data-col="4">(1) Unable to recruit enough participants in the US aged 18--30</td>
                </tr>
                <tr>
                  <td data-row="4" data-col="1">Data collection</td>
                  <td data-row="4" data-col="2">To qualify, &gt;=75% of a participant's total gaming must take place on platforms included in the study (Xbox, Steam, Nintendo Switch)</td>
                  <td data-row="4" data-col="3">To qualify, &gt;=50% of a participant's total gaming must take place on platforms included in the study (Xbox, Steam, Nintendo Switch)</td>
                  <td data-row="4" data-col="4">Low rates of study qualification at 75% threshold, in large part due to substantial uncaptured Playstation play</td>
                </tr>
                <tr>
                  <td data-row="5" data-col="1">Data collection</td>
                  <td data-row="5" data-col="2">Qualification contingent upon valid telemetry within last 7 days</td>
                  <td data-row="5" data-col="3">Qualification contingent upon valid telemetry within last 14 days</td>
                  <td data-row="5" data-col="4">Feedback from participants indicating that play during a 7-day period was subject to too many fluctuations (e.g., a busy workweek)</td>
                </tr>
                <tr>
                  <td data-row="6" data-col="1">Data collection</td>
                  <td data-row="6" data-col="2">Daily surveys sent at 7pm local time</td>
                  <td data-row="6" data-col="3">Daily surveys sent at 2pm local time</td>
                  <td data-row="6" data-col="4">Feedback from participants indicating that evening plans often interfered with survey completion and thus adversely affected response rate</td>
                </tr>
                <tr>
                  <td data-row="7" data-col="1">Analysis</td>
                  <td data-row="7" data-col="2">Data would be imputed for all participants given a 50% overall response rate</td>
                  <td data-row="7" data-col="3">Data imputed for only participants with an individual 50% response rate</td>
                  <td data-row="7" data-col="4">Imputing values for participants with 50--97% missing data is poorly justified; results from the preregistered analysis with imputation for all participants are reported in the Appendix (Sensitivity Analysis 5) and do not meaningfully differ from the main analysis</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</div>
</section>
<section id="positive-controls" class="level3" data-number="3.1.7">
<h3 data-number="3.1.7" class="anchored" data-anchor-id="positive-controls"><span class="header-section-number">3.1.7</span> Positive Controls</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Test positive controls)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use first imputation for positive control check</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>cor_playtime <span class="ot">&lt;-</span> <span class="fu">cor.test</span>(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>self_reported_weekly_play[dat<span class="sc">$</span>.imp <span class="sc">==</span> <span class="dv">1</span>],</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>play_minutes_24h[dat<span class="sc">$</span>.imp <span class="sc">==</span> <span class="dv">1</span>],</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">"pearson"</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>cor_playtime_inline <span class="ot">&lt;-</span> <span class="fu">glue</span>(</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"r = {number(cor_playtime$estimate, .01)}, 95% CI [{number(cor_playtime$conf.int[1], .01)}, {number(cor_playtime$conf.int[2], .01)}]"</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>As specified in the preregistration, we assessed two positive controls designed to assess whether our data were capable of addressing our stated hypotheses. Both passed: self-reported playtime correlated positively with logged playtime (r = 0.28, 95% CI [0.26, 0.30]); and after preprocessing (e.g., to remove background sessions), there were no overlapping sessions. We therefore proceeded with the planned analyses.</p>
</section>
<section id="ethics" class="level3" data-number="3.1.8">
<h3 data-number="3.1.8" class="anchored" data-anchor-id="ethics"><span class="header-section-number">3.1.8</span> Ethics</h3>
<p>This study received ethical approval from the Social Sciences and Humanities Inter-Divisional Research Ethics Committee at the University of Oxford (OII_CIA_23_107). All participants provided informed consent at the start of the study, including consent to their data being shared openly for reanalysis.</p>
<p>Participants were paid at an average rate of £12/hour, equating to: £0.20 for a 1-minute screening, £2 for the 10-minute intake survey (plus £5 for linking at least one account with recent data), £0.80 for each 4-minute daily survey. Participants received a £10 bonus payment for completing at least 24 out of 30 daily surveys.</p>
</section>
</section>
<section id="study-1-results-confirmatory" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="study-1-results-confirmatory"><span class="header-section-number">3.2</span> Study 1 Results: Confirmatory</h2>
<p>We present visualizations of marginal effects for each hypothesis test in turn; all key estimates are summarized <a href="#tbl-main-results" class="quarto-xref">Table&nbsp;4</a>.</p>
<section id="h1.-greater-in-game-need-satisfaction-is-associated-with-greater-global-need-satisfaction" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="h1.-greater-in-game-need-satisfaction-is-associated-with-greater-global-need-satisfaction"><span class="header-section-number">3.2.1</span> H1. Greater in-game need satisfaction is associated with greater global need satisfaction</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Fit H1 models: game NS → global NS)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>h1_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/h1_fits.rds"</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>h1_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/h1_pooled.rds"</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(h1_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(h1_pooled_file)) {</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached H1 model fits"</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  h1_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(h1_cache_file)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  h1_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(h1_pooled_file)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  h1mod <span class="ot">&lt;-</span> h1_fits[[<span class="dv">1</span>]]</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting H1 models..."</span>)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit model to each imputed dataset</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  h1_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting H1 model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>      global_ns <span class="sc">~</span> game_ns_cw <span class="sc">+</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">+</span> game_ns_cw <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pool estimates using Rubin's rules</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>  h1_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(h1_fits)</span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use first imputation's model for plotting</span></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>  h1mod <span class="ot">&lt;-</span> h1_fits[[<span class="dv">1</span>]]</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save results</span></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="st">"data/models"</span>, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(h1_fits, h1_cache_file)</span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(h1_pooled, h1_pooled_file)</span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Saved H1 model fits to cache"</span>)</span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Check H1 model diagnostics and convergence)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convergence check across imputations</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>conv_summary <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">imputation =</span> <span class="fu">seq_along</span>(h1_fits),</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">converged =</span> <span class="fu">map_lgl</span>(h1_fits, <span class="sc">~</span> .x<span class="sc">$</span>fit<span class="sc">$</span>convergence <span class="sc">==</span> <span class="dv">0</span>),</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">warnings =</span> <span class="fu">map_chr</span>(</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    h1_fits,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> {</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>      w <span class="ot">&lt;-</span> .x<span class="sc">$</span>fit<span class="sc">$</span>warnings</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="fu">length</span>(w) <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="fu">paste</span>(w, <span class="at">collapse =</span> <span class="st">"; "</span>) <span class="cf">else</span> <span class="st">"None"</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(conv_summary)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="fu">glue</span>(<span class="st">"Converged: {sum(conv_summary$converged)}/{nrow(conv_summary)}"</span>)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Random effect structure (from converged models)</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>re_sd <span class="ot">&lt;-</span> <span class="fu">attr</span>(<span class="fu">VarCorr</span>(h1mod)<span class="sc">$</span>cond<span class="sc">$</span>pid, <span class="st">"stddev"</span>)</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="fu">glue</span>(<span class="st">"Random intercept SD: {round(re_sd[1], 3)}"</span>)</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(re_sd) <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glue</span>(<span class="st">"Random slope SD (game_ns_cw): {round(re_sd[2], 3)}"</span>)</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Plot H1 marginal effects)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_marginal_effects</span>(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">model =</span> h1mod,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_var =</span> <span class="st">"game_ns_cw"</span>,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_label =</span> labels[<span class="st">"game_ns"</span>],</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">y_label =</span> labels[<span class="st">"global_ns"</span>],</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> colors<span class="sc">$</span>game_ns,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">n_keepers =</span> <span class="dv">100</span>,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">within_vars =</span> <span class="fu">c</span>(<span class="st">"game_ns_cw"</span>),</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">between_vars =</span> <span class="fu">c</span>(<span class="st">"game_ns_cb"</span>)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-h1-predictions" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-h1-predictions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-h1-predictions-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-h1-predictions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Predicted global need satisfaction as a function of need satisfaction in games. Individual trajectories shown as gray lines, population-level marginal association shown as blue line with 95% confidence ribbon.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Results strongly support H1: when people felt greater need satisfaction in games than usual, they also reported greater global need satisfaction (<a href="#fig-h1-predictions" class="quarto-xref">Figure&nbsp;2</a>). On average, participants who reported 1 scale point higher need satisfaction in games than they typically did also reported 0.2383994 greater global need satisfaction, during the corresponding 24-hour period.</p>
</section>
<section id="h2.-situational-need-satisfaction-is-positively-associated-with-the-likelihood-of-playing-in-the-period-after-survey-completion-h2a-while-global-need-frustration-is-negatively-associated-h2b" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="h2.-situational-need-satisfaction-is-positively-associated-with-the-likelihood-of-playing-in-the-period-after-survey-completion-h2a-while-global-need-frustration-is-negatively-associated-h2b"><span class="header-section-number">3.2.2</span> H2. Situational need satisfaction is positively associated with the likelihood of playing in the period after survey completion (H2a), while global need frustration is negatively associated (H2b)</h3>
<p>We tested H2a and H2b using a single multilevel within-between logistic regression, where in-game need satisfaction and global need frustration (each within- and between-person centered) predicted a binary variable whether any play happened in the 24-hour period after diary survey completion.</p>
<p>Results support neither H2a or H2b: there is no evidence to support either hypothesis that gaming need satisfaction or global need frustration predict subsequent play (see <a href="#fig-h2-predictions" class="quarto-xref">Figure&nbsp;3</a>). We conducted a wide range of sensitivity analyses providing convergent conclusions: key estimates for gaming need satisfaction and global need frustration remain indistinguishable from 0 in models that:</p>
<ul>
<li>predict subsequent 6 or 12 hours instead of 24 hours (Sensitivity Analysis 1)</li>
<li>use alternative random slopes specifications (Sensitivity Analysis 2)</li>
<li>use a count model of minutes played in the subsequent 24 hours instead of binary play/no-play (Sensitivity Analysis 3)</li>
<li>use complete case data instead of imputed data (Sensitivity Analysis 4),</li>
<li>impute data from the full eligible sample instead of the analytic sample (Sensitivity Analysis 5)</li>
<li>include an interaction between gaming need satisfaction and global need frustration (Sensitivity Analysis 6)</li>
<li>use a spline term for gaming need satisfaction and global need frustration, instead of a linear term (Sensitivity Analysis 7)</li>
<li>predict subsequent play with each individual need (autonomy, competence, relatedness) instead of composite need satisfaction or frustration (Sensitivity Analysis 8)</li>
</ul>
<p>In short, results consistently fail to detect an association between situational need satisfaction or global need frustration and subsequent play behaviour.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Fit H2 models: game NS + global NF → play)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>h2_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/h2_fits.rds"</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>h2_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/h2_pooled.rds"</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(h2_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(h2_pooled_file)) {</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached H2 model fits"</span>)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  h2_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(h2_cache_file)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  h2_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(h2_pooled_file)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  h2mod <span class="ot">&lt;-</span> h2_fits[[<span class="dv">1</span>]]</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting H2 models..."</span>)</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit model to each imputed dataset</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Simplified: random intercept only + AR(1) for convergence</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  h2_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting H2 model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pool estimates using Rubin's rules</span></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>  h2_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(h2_fits)</span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use first imputation's model for plotting</span></span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a>  h2mod <span class="ot">&lt;-</span> h2_fits[[<span class="dv">1</span>]]</span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save results</span></span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="st">"data/models"</span>, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(h2_fits, h2_cache_file)</span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(h2_pooled, h2_pooled_file)</span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Saved H2 model fits to cache"</span>)</span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Check H2 model diagnostics and convergence)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convergence check across imputations</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>conv_summary <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">imputation =</span> <span class="fu">seq_along</span>(h2_fits),</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">converged =</span> <span class="fu">map_lgl</span>(h2_fits, <span class="sc">~</span> .x<span class="sc">$</span>fit<span class="sc">$</span>convergence <span class="sc">==</span> <span class="dv">0</span>),</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">warnings =</span> <span class="fu">map_chr</span>(</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    h2_fits,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> {</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>      w <span class="ot">&lt;-</span> .x<span class="sc">$</span>fit<span class="sc">$</span>warnings</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="fu">length</span>(w) <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="fu">paste</span>(w, <span class="at">collapse =</span> <span class="st">"; "</span>) <span class="cf">else</span> <span class="st">"None"</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(conv_summary)</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="fu">glue</span>(<span class="st">"Converged: {sum(conv_summary$converged)}/{nrow(conv_summary)}"</span>)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Random effect structure (from converged models)</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>re_sd <span class="ot">&lt;-</span> <span class="fu">attr</span>(<span class="fu">VarCorr</span>(h2mod)<span class="sc">$</span>cond<span class="sc">$</span>pid, <span class="st">"stddev"</span>)</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>re_names <span class="ot">&lt;-</span> <span class="fu">names</span>(re_sd)</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a><span class="fu">walk2</span>(re_names, re_sd, <span class="sc">~</span> <span class="fu">glue</span>(<span class="st">"{.x} SD: {round(.y, 3)}"</span>))</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Random intercept distribution (logit scale)</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>re_intercepts <span class="ot">&lt;-</span> <span class="fu">coef</span>(h2mod)<span class="sc">$</span>cond<span class="sc">$</span>pid[, <span class="st">"(Intercept)"</span>]</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">stat =</span> <span class="fu">c</span>(<span class="st">"Mean"</span>, <span class="st">"SD"</span>, <span class="st">"Min"</span>, <span class="st">"Max"</span>, <span class="st">"IQR_25%"</span>, <span class="st">"IQR_75%"</span>),</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mean</span>(re_intercepts),</span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sd</span>(re_intercepts),</span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">min</span>(re_intercepts),</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">max</span>(re_intercepts),</span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">quantile</span>(re_intercepts, <span class="fl">0.25</span>),</span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">quantile</span>(re_intercepts, <span class="fl">0.75</span>)</span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">round</span>(value, <span class="dv">3</span>)) <span class="sc">|&gt;</span></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Implied probability at fixed intercept</span></span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a>fixed_int <span class="ot">&lt;-</span> <span class="fu">fixef</span>(h2mod)<span class="sc">$</span>cond[<span class="st">"(Intercept)"</span>]</span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a><span class="fu">glue</span>(<span class="st">"Pr(play) at population mean: {round(plogis(fixed_int), 3)}"</span>)</span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a><span class="co"># DHARMa residual diagnostics</span></span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>sim_resid <span class="ot">&lt;-</span> <span class="fu">simulateResiduals</span>(h2mod, <span class="at">plot =</span> <span class="cn">FALSE</span>)</span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall fit</span></span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sim_resid, <span class="at">main =</span> <span class="st">"H2 Model: DHARMa diagnostics"</span>)</span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Statistical tests</span></span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a>  <span class="at">dispersion =</span> <span class="fu">testDispersion</span>(sim_resid),</span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">outliers =</span> <span class="fu">testOutliers</span>(sim_resid),</span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">quantiles =</span> <span class="fu">testQuantiles</span>(sim_resid)</span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">walk</span>(print)</span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-55"><a href="#cb19-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Residuals vs. predictors</span></span>
<span id="cb19-56"><a href="#cb19-56" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb19-57"><a href="#cb19-57" aria-hidden="true" tabindex="-1"></a><span class="fu">walk2</span>(</span>
<span id="cb19-58"><a href="#cb19-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">"game_ns_cw"</span>, <span class="st">"global_nf_cw"</span>, <span class="st">"game_ns_cb"</span>, <span class="st">"global_nf_cb"</span>),</span>
<span id="cb19-59"><a href="#cb19-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(</span>
<span id="cb19-60"><a href="#cb19-60" aria-hidden="true" tabindex="-1"></a>    labels[<span class="st">"game_ns_cw"</span>],</span>
<span id="cb19-61"><a href="#cb19-61" aria-hidden="true" tabindex="-1"></a>    labels[<span class="st">"global_nf_cw"</span>],</span>
<span id="cb19-62"><a href="#cb19-62" aria-hidden="true" tabindex="-1"></a>    labels[<span class="st">"game_ns_cb"</span>],</span>
<span id="cb19-63"><a href="#cb19-63" aria-hidden="true" tabindex="-1"></a>    labels[<span class="st">"global_nf_cb"</span>]</span>
<span id="cb19-64"><a href="#cb19-64" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb19-65"><a href="#cb19-65" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> <span class="fu">plotResiduals</span>(sim_resid, <span class="at">form =</span> h2mod<span class="sc">$</span>frame[[.x]], <span class="at">main =</span> <span class="fu">glue</span>(<span class="st">"vs. {.y}"</span>))</span>
<span id="cb19-66"><a href="#cb19-66" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-67"><a href="#cb19-67" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb19-68"><a href="#cb19-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-69"><a href="#cb19-69" aria-hidden="true" tabindex="-1"></a><span class="co"># Temporal autocorrelation (within-person lag-1)</span></span>
<span id="cb19-70"><a href="#cb19-70" aria-hidden="true" tabindex="-1"></a>acf_by_person <span class="ot">&lt;-</span> h2mod<span class="sc">$</span>frame <span class="sc">|&gt;</span></span>
<span id="cb19-71"><a href="#cb19-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid) <span class="sc">|&gt;</span></span>
<span id="cb19-72"><a href="#cb19-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(wave) <span class="sc">|&gt;</span></span>
<span id="cb19-73"><a href="#cb19-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;=</span> <span class="dv">3</span>) <span class="sc">|&gt;</span></span>
<span id="cb19-74"><a href="#cb19-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reframe</span>(</span>
<span id="cb19-75"><a href="#cb19-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">acf =</span> <span class="fu">cor</span>(</span>
<span id="cb19-76"><a href="#cb19-76" aria-hidden="true" tabindex="-1"></a>      sim_resid<span class="sc">$</span>scaledResiduals[<span class="fu">cur_group_rows</span>()][<span class="sc">-</span><span class="fu">n</span>()],</span>
<span id="cb19-77"><a href="#cb19-77" aria-hidden="true" tabindex="-1"></a>      sim_resid<span class="sc">$</span>scaledResiduals[<span class="fu">cur_group_rows</span>()][<span class="sc">-</span><span class="dv">1</span>],</span>
<span id="cb19-78"><a href="#cb19-78" aria-hidden="true" tabindex="-1"></a>      <span class="at">use =</span> <span class="st">"complete.obs"</span></span>
<span id="cb19-79"><a href="#cb19-79" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb19-80"><a href="#cb19-80" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb19-81"><a href="#cb19-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(acf)</span>
<span id="cb19-82"><a href="#cb19-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-83"><a href="#cb19-83" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb19-84"><a href="#cb19-84" aria-hidden="true" tabindex="-1"></a>  <span class="at">stat =</span> <span class="fu">c</span>(<span class="st">"Mean"</span>, <span class="st">"Median"</span>, <span class="st">"Min"</span>, <span class="st">"Max"</span>),</span>
<span id="cb19-85"><a href="#cb19-85" aria-hidden="true" tabindex="-1"></a>  <span class="at">lag1_acf =</span> <span class="fu">c</span>(</span>
<span id="cb19-86"><a href="#cb19-86" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mean</span>(acf_by_person),</span>
<span id="cb19-87"><a href="#cb19-87" aria-hidden="true" tabindex="-1"></a>    <span class="fu">median</span>(acf_by_person),</span>
<span id="cb19-88"><a href="#cb19-88" aria-hidden="true" tabindex="-1"></a>    <span class="fu">min</span>(acf_by_person),</span>
<span id="cb19-89"><a href="#cb19-89" aria-hidden="true" tabindex="-1"></a>    <span class="fu">max</span>(acf_by_person)</span>
<span id="cb19-90"><a href="#cb19-90" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-91"><a href="#cb19-91" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb19-92"><a href="#cb19-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lag1_acf =</span> <span class="fu">round</span>(lag1_acf, <span class="dv">3</span>)) <span class="sc">|&gt;</span></span>
<span id="cb19-93"><a href="#cb19-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span>
<span id="cb19-94"><a href="#cb19-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-95"><a href="#cb19-95" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregated residuals</span></span>
<span id="cb19-96"><a href="#cb19-96" aria-hidden="true" tabindex="-1"></a><span class="fu">recalculateResiduals</span>(sim_resid, <span class="at">group =</span> h2mod<span class="sc">$</span>frame<span class="sc">$</span>wave) <span class="sc">|&gt;</span></span>
<span id="cb19-97"><a href="#cb19-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="at">main =</span> <span class="st">"Residuals by wave"</span>)</span>
<span id="cb19-98"><a href="#cb19-98" aria-hidden="true" tabindex="-1"></a><span class="fu">recalculateResiduals</span>(sim_resid, <span class="at">group =</span> h2mod<span class="sc">$</span>frame<span class="sc">$</span>pid) <span class="sc">|&gt;</span></span>
<span id="cb19-99"><a href="#cb19-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="at">main =</span> <span class="st">"Residuals by individual"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="place" data-arguments="top, scope: &quot;parent&quot;, float: true">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Plot H2 marginal effects)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel A: Game need satisfaction</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>p_h2a <span class="ot">&lt;-</span> <span class="fu">plot_marginal_effects</span>(</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">model =</span> h2mod,</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_var =</span> <span class="st">"game_ns_cw"</span>,</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_label =</span> labels[<span class="st">"game_ns"</span>],</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">y_label =</span> <span class="st">"Pr(played in subsequent 24h)"</span>,</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> colors<span class="sc">$</span>game_ns,</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">n_keepers =</span> <span class="dv">50</span>,</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">within_vars =</span> <span class="fu">c</span>(<span class="st">"game_ns_cw"</span>, <span class="st">"global_nf_cw"</span>),</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">between_vars =</span> <span class="fu">c</span>(<span class="st">"game_ns_cb"</span>, <span class="st">"global_nf_cb"</span>)</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel B: Global need frustration</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>p_h2b <span class="ot">&lt;-</span> <span class="fu">plot_marginal_effects</span>(</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">model =</span> h2mod,</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_var =</span> <span class="st">"global_nf_cw"</span>,</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_label =</span> labels[<span class="st">"global_nf"</span>],</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">y_label =</span> <span class="st">"Pr(played in subsequent 24h)"</span>,</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> colors<span class="sc">$</span>global_nf,</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">n_keepers =</span> <span class="dv">50</span>,</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">within_vars =</span> <span class="fu">c</span>(<span class="st">"game_ns_cw"</span>, <span class="st">"global_nf_cw"</span>),</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">between_vars =</span> <span class="fu">c</span>(<span class="st">"game_ns_cb"</span>, <span class="st">"global_nf_cb"</span>)</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine with patchwork and set y-axis limits to 0-100%</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>p_h2a <span class="sc">+</span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>  p_h2b <span class="sc">+</span></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">"A"</span>) <span class="sc">&amp;</span></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">&amp;</span></span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.tag =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-h2-predictions" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-h2-predictions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-h2-predictions-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-h2-predictions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Predicted probability of playing in subsequent 24 hours. (A) As a function of need satisfaction in games (H2a). (B) As a function of global need frustration (H2b). Individual trajectories shown as gray lines, population-level marginal associations shown with 95% confidence ribbons.
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="h3.-when-gaming-displaces-a-core-life-domain-global-need-satisfaction-will-be-lower" class="level3" data-number="3.2.3">
<h3 data-number="3.2.3" class="anchored" data-anchor-id="h3.-when-gaming-displaces-a-core-life-domain-global-need-satisfaction-will-be-lower"><span class="header-section-number">3.2.3</span> H3. When gaming displaces a core life domain, global need satisfaction will be lower</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Fit H3 models: displaced core domain → global NS)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>h3_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/h3_fits.rds"</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>h3_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/h3_pooled.rds"</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(h3_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(h3_pooled_file)) {</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached H3 model fits"</span>)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  h3_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(h3_cache_file)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  h3_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(h3_pooled_file)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  h3mod <span class="ot">&lt;-</span> h3_fits[[<span class="dv">1</span>]]</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting H3 models..."</span>)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit model to each imputed dataset</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  h3_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>      global_ns <span class="sc">~</span> displaced_core_domain <span class="sc">+</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">+</span> displaced_core_domain <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pool estimates using Rubin's rules</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>  h3_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(h3_fits)</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use first imputation's model for plotting</span></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>  h3mod <span class="ot">&lt;-</span> h3_fits[[<span class="dv">1</span>]]</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save results</span></span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="st">"data/models"</span>, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(h3_fits, h3_cache_file)</span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(h3_pooled, h3_pooled_file)</span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Saved H3 model fits to cache"</span>)</span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a>h3_est <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(h3_pooled) <span class="sc">|&gt;</span></span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"displaced_core_domainTRUE"</span>) <span class="sc">|&gt;</span></span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(estimate),</span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a>  .<span class="dv">01</span></span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="place" data-arguments="top, scope: &quot;parent&quot;, float: true">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Plot H3: displaced activity categories vs global NS)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get raw data from first imputation for visualization</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>h3_data <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(.imp <span class="sc">==</span> <span class="dv">1</span>, <span class="sc">!</span><span class="fu">is.na</span>(displaced_core_domain)) <span class="sc">|&gt;</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">displacement_label =</span> <span class="fu">if_else</span>(</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>      displaced_core_domain,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Displaced core domain"</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Displaced non-core domain"</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x_numeric =</span> <span class="fu">if_else</span>(displaced_core_domain, <span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate means for each group (to match what stat_histinterval will show)</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>h3_means <span class="ot">&lt;-</span> h3_data <span class="sc">|&gt;</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(x_numeric, displacement_label) <span class="sc">|&gt;</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_ns =</span> <span class="fu">mean</span>(global_ns, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(h3_data, <span class="fu">aes</span>(<span class="at">x =</span> x_numeric, <span class="at">y =</span> global_ns)) <span class="sc">+</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Raincloud plot with asymmetric histograms</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_histinterval</span>(</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> h3_data <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span>displaced_core_domain),</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">fill =</span> displacement_label),</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">slab_alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">point_interval =</span> mean_qi,</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">7</span>, <span class="at">by =</span> .<span class="dv">4</span>),</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">interval_color =</span> <span class="st">"black"</span>,</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">point_color =</span> <span class="st">"black"</span>,</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">point_size =</span> <span class="dv">3</span>,</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">slab_fill =</span> colors<span class="sc">$</span>global_ns,</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">side =</span> <span class="st">"left"</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_histinterval</span>(</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> h3_data <span class="sc">|&gt;</span> <span class="fu">filter</span>(displaced_core_domain),</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">fill =</span> displacement_label),</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">slab_alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">point_interval =</span> mean_qi,</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">7</span>, <span class="at">by =</span> .<span class="dv">4</span>),</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">interval_color =</span> <span class="st">"black"</span>,</span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">point_color =</span> <span class="st">"black"</span>,</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">point_size =</span> <span class="dv">3</span>,</span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">slab_fill =</span> colors<span class="sc">$</span>global_ns,</span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">side =</span> <span class="st">"right"</span></span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Line connecting the mean point estimates</span></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(</span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> h3_means,</span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> x_numeric, <span class="at">y =</span> mean_ns),</span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"black"</span>,</span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">linewidth =</span> <span class="fl">0.8</span>,</span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">linetype =</span> <span class="st">"solid"</span></span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Displaced non-core</span><span class="sc">\n</span><span class="st">domain"</span>, <span class="st">"Displaced core</span><span class="sc">\n</span><span class="st">domain"</span>)</span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>,</span>
<span id="cb22-58"><a href="#cb22-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">7</span>)</span>
<span id="cb22-59"><a href="#cb22-59" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb22-60"><a href="#cb22-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb22-61"><a href="#cb22-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb22-62"><a href="#cb22-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> labels[<span class="st">"global_ns"</span>]</span>
<span id="cb22-63"><a href="#cb22-63" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb22-64"><a href="#cb22-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb22-65"><a href="#cb22-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>),</span>
<span id="cb22-66"><a href="#cb22-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb22-67"><a href="#cb22-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span></span>
<span id="cb22-68"><a href="#cb22-68" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-h3-predictions" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-h3-predictions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-h3-predictions-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-h3-predictions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Global need satisfaction when gaming displaces vs.&nbsp;does not displace core life domains. Raincloud plot shows distribution (histogram), mean with 95% quantile interval, and line connecting means to emphasize the negligible difference.
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>Participants reported what activity their gaming session displaced 14,041 times across the study. In 5,647 cases (40.2%), gaming displaced a core life domain: sleep, eating, or fitness (<em>n</em> = 2,038), social engagements (<em>n</em> = 302), work or school (<em>n</em> = 1,613), or caretaking (<em>n</em> = 35). Gaming most commonly displaced non-core activities such as other digital media use (<em>n</em> = 4,211) and other leisure activities (<em>n</em> = 1,297).</p>
<p>Results provide very weak support for H3: on average, people who reported that their most recent gaming session displaced a core life domain reported -0.06 lower global need satisfaction. On a 7-point scale, this difference is extremely small, and the distributions of global need satisfaction when gaming displaced core vs.&nbsp;non-core domains are nearly identical (<a href="#fig-h3-predictions" class="quarto-xref">Figure&nbsp;4</a>).</p>
<p>An exploratory analysis (Appendix Sensitivity Analysis 10) examined whether this relationship differed for specific displaced life domains. Results showed that need satisfaction was lower when gaming displaced work/school responsibilities and sleep/eating/fitness, but—contrary to expectations—tended to be higher when gaming displaced social engagements or caretaking. We return to this in the discussion.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Create combined results table)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all three hypothesis results into one table</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>h1_combined <span class="ot">&lt;-</span> <span class="fu">summary</span>(h1_pooled) <span class="sc">|&gt;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>, <span class="sc">!</span><span class="fu">str_detect</span>(term, <span class="st">"_cb"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, estimate, std.error, statistic, p.value) <span class="sc">|&gt;</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Model =</span> <span class="st">"H1: game NS → global NS"</span>,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term),</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">test_stat =</span> <span class="st">"t"</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>h2_combined <span class="ot">&lt;-</span> <span class="fu">summary</span>(h2_pooled) <span class="sc">|&gt;</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>, <span class="sc">!</span><span class="fu">str_detect</span>(term, <span class="st">"_cb"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, estimate, std.error, statistic, p.value) <span class="sc">|&gt;</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">Model =</span> <span class="st">"H2: game NS + global NF → play"</span>,</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term),</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">test_stat =</span> <span class="st">"z"</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>h3_combined <span class="ot">&lt;-</span> <span class="fu">summary</span>(h3_pooled) <span class="sc">|&gt;</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, estimate, std.error, statistic, p.value) <span class="sc">|&gt;</span></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">Model =</span> <span class="st">"H3: displaced core → global NS"</span>,</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term),</span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">test_stat =</span> <span class="st">"t"</span></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine and format</span></span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(h1_combined, h2_combined, h3_combined) <span class="sc">|&gt;</span></span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(estimate, std.error, statistic), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>)),</span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">p.value =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;.001"</span>,</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(<span class="fu">round</span>(p.value, <span class="dv">3</span>))</span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create combined test statistic column with appropriate label</span></span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">test_result =</span> <span class="fu">glue</span>(<span class="st">"{statistic} ({test_stat})"</span>)</span>
<span id="cb23-42"><a href="#cb23-42" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb23-43"><a href="#cb23-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb23-44"><a href="#cb23-44" aria-hidden="true" tabindex="-1"></a>    Model,</span>
<span id="cb23-45"><a href="#cb23-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">Parameter =</span> term,</span>
<span id="cb23-46"><a href="#cb23-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">Estimate =</span> estimate,</span>
<span id="cb23-47"><a href="#cb23-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">SE =</span> std.error,</span>
<span id="cb23-48"><a href="#cb23-48" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Statistic</span><span class="st">`</span> <span class="ot">=</span> test_result,</span>
<span id="cb23-49"><a href="#cb23-49" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">p</span><span class="st">`</span> <span class="ot">=</span> p.value</span>
<span id="cb23-50"><a href="#cb23-50" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb23-51"><a href="#cb23-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb23-52"><a href="#cb23-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-53"><a href="#cb23-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-54"><a href="#cb23-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_tt</span>(<span class="at">j =</span> <span class="st">"Model"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-main-results" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-main-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4: Summary of main hypothesis tests (H1-H3)
</figcaption>
<div aria-describedby="tbl-main-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_opsq1tu2a2nityojmnfx = TinyTable.createTableFunctions("tinytable_opsq1tu2a2nityojmnfx");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '4', j: 1 }, { i: '4', j: 2 }, { i: '4', j: 3 }, { i: '4', j: 4 }, { i: '4', j: 5 }, { i: '4', j: 6 } ], css_id: 'tinytable_css_abqr16b7gqztfmklf1rn',}, 
          { positions: [ { i: '1', j: 1 }, { i: '2', j: 1 }, { i: '3', j: 1 }, { i: '1', j: 2 }, { i: '2', j: 2 }, { i: '3', j: 2 }, { i: '1', j: 3 }, { i: '2', j: 3 }, { i: '3', j: 3 }, { i: '1', j: 4 }, { i: '2', j: 4 }, { i: '3', j: 4 }, { i: '1', j: 5 }, { i: '2', j: 5 }, { i: '3', j: 5 }, { i: '1', j: 6 }, { i: '2', j: 6 }, { i: '3', j: 6 } ], css_id: 'tinytable_css_zvzrbnhb52usm3qy8djd',}, 
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 }, { i: '0', j: 6 } ], css_id: 'tinytable_css_uaigbn17mjkkv9j8f97p',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_opsq1tu2a2nityojmnfx.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_opsq1tu2a2nityojmnfx td.tinytable_css_abqr16b7gqztfmklf1rn, #tinytable_opsq1tu2a2nityojmnfx th.tinytable_css_abqr16b7gqztfmklf1rn {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-size: 0.7em }
    #tinytable_opsq1tu2a2nityojmnfx td.tinytable_css_zvzrbnhb52usm3qy8djd, #tinytable_opsq1tu2a2nityojmnfx th.tinytable_css_zvzrbnhb52usm3qy8djd { font-size: 0.7em }
    #tinytable_opsq1tu2a2nityojmnfx td.tinytable_css_uaigbn17mjkkv9j8f97p, #tinytable_opsq1tu2a2nityojmnfx th.tinytable_css_uaigbn17mjkkv9j8f97p {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_opsq1tu2a2nityojmnfx" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1"> </th>
                <th scope="col" data-row="0" data-col="2">Parameter</th>
                <th scope="col" data-row="0" data-col="3">Estimate</th>
                <th scope="col" data-row="0" data-col="4">SE</th>
                <th scope="col" data-row="0" data-col="5">Statistic</th>
                <th scope="col" data-row="0" data-col="6">p</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">H1: game NS → global NS</td>
                  <td data-row="1" data-col="2">Game need frustration</td>
                  <td data-row="1" data-col="3">0.238</td>
                  <td data-row="1" data-col="4">0.017</td>
                  <td data-row="1" data-col="5">14.294 (t)</td>
                  <td data-row="1" data-col="6">&lt;.001</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1">H2: game NS + global NF → play</td>
                  <td data-row="2" data-col="2">Game need frustration</td>
                  <td data-row="2" data-col="3">0.042</td>
                  <td data-row="2" data-col="4">0.038</td>
                  <td data-row="2" data-col="5">1.088 (z)</td>
                  <td data-row="2" data-col="6">0.277</td>
                </tr>
                <tr>
                  <td data-row="3" data-col="1">H2: game NS + global NF → play</td>
                  <td data-row="3" data-col="2">Global need frustration</td>
                  <td data-row="3" data-col="3">-0.080</td>
                  <td data-row="3" data-col="4">0.043</td>
                  <td data-row="3" data-col="5">-1.864 (z)</td>
                  <td data-row="3" data-col="6">0.062</td>
                </tr>
                <tr>
                  <td data-row="4" data-col="1">H3: displaced core → global NS</td>
                  <td data-row="4" data-col="2">Game need frustration</td>
                  <td data-row="4" data-col="3">-0.056</td>
                  <td data-row="4" data-col="4">0.024</td>
                  <td data-row="4" data-col="5">-2.316 (t)</td>
                  <td data-row="4" data-col="6">0.021</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
</section>
</section>
<section id="study-2-exploratory-evidence-from-powerwash-simulator" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Study 2: Exploratory Evidence from PowerWash Simulator</h1>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Download PWS data from OSF)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Download PWS data from OSF</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>path_pws <span class="ot">&lt;-</span> <span class="st">"data/pws/pws_data.zip"</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(path_pws)) {</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="st">"data/pws"</span>, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">url =</span> <span class="st">"https://osf.io/download/j48qf/"</span>,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">destfile =</span> path_pws</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract only the study_prompt_answered.csv file we need</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(<span class="st">"data/pws/study_prompt_answered.csv"</span>)) {</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unzip</span>(</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">zipfile =</span> path_pws,</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">files =</span> <span class="st">"data/study_prompt_answered.csv"</span>,</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">exdir =</span> <span class="st">"data/pws"</span>,</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">junkpaths =</span> <span class="cn">TRUE</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Prepare PWS session data)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(<span class="st">"data/pws/pws_sessions.csv"</span>)) {</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Load and process prompts</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  pws_raw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data/pws/study_prompt_answered.csv"</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_select =</span> <span class="fu">c</span>(</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">time =</span> Time_utc,</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">duration =</span> CurrentSessionLength,</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">prompt =</span> LastStudyPromptType,</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>      response</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">show_col_types =</span> <span class="cn">FALSE</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">pid =</span> <span class="fu">factor</span>(pid),</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">response =</span> response <span class="sc">/</span> <span class="dv">100</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(pid, time) <span class="sc">|&gt;</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Calculate time since last prompt in minutes</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">time_since_last =</span> <span class="fu">as.numeric</span>(</span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">difftime</span>(</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>          time,</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>          <span class="fu">lag</span>(time, <span class="dv">1</span>, <span class="at">default =</span> <span class="fu">as_datetime</span>(<span class="st">"1970-01-01"</span>)),</span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>          <span class="at">units =</span> <span class="st">"mins"</span></span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>      <span class="co"># New session if gap &gt; 30 minutes</span></span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">new_session =</span> time_since_last <span class="sc">&gt;</span> <span class="dv">30</span>,</span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">session =</span> <span class="fu">cumsum</span>(new_session),</span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a>      <span class="at">.by =</span> pid</span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>time_since_last)</span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save prompt-level data for troubleshooting (includes all prompt times)</span></span>
<span id="cb25-36"><a href="#cb25-36" aria-hidden="true" tabindex="-1"></a>  pws_prompts_detail <span class="ot">&lt;-</span> pws_raw <span class="sc">|&gt;</span></span>
<span id="cb25-37"><a href="#cb25-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>new_session) <span class="sc">|&gt;</span></span>
<span id="cb25-38"><a href="#cb25-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(pid, session) <span class="sc">|&gt;</span></span>
<span id="cb25-39"><a href="#cb25-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb25-40"><a href="#cb25-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb25-41"><a href="#cb25-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">prompt_time =</span> time,</span>
<span id="cb25-42"><a href="#cb25-42" aria-hidden="true" tabindex="-1"></a>      <span class="at">first_time =</span> <span class="fu">first</span>(time),</span>
<span id="cb25-43"><a href="#cb25-43" aria-hidden="true" tabindex="-1"></a>      <span class="at">first_duration =</span> <span class="fu">first</span>(duration),</span>
<span id="cb25-44"><a href="#cb25-44" aria-hidden="true" tabindex="-1"></a>      <span class="at">startTime =</span> <span class="fu">if_else</span>(</span>
<span id="cb25-45"><a href="#cb25-45" aria-hidden="true" tabindex="-1"></a>        first_duration <span class="sc">&lt;</span> <span class="dv">15</span>,</span>
<span id="cb25-46"><a href="#cb25-46" aria-hidden="true" tabindex="-1"></a>        first_time <span class="sc">-</span> first_duration <span class="sc">*</span> <span class="dv">60</span>,</span>
<span id="cb25-47"><a href="#cb25-47" aria-hidden="true" tabindex="-1"></a>        first_time</span>
<span id="cb25-48"><a href="#cb25-48" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb25-49"><a href="#cb25-49" aria-hidden="true" tabindex="-1"></a>      <span class="at">startTime =</span> <span class="fu">min</span>(startTime),</span>
<span id="cb25-50"><a href="#cb25-50" aria-hidden="true" tabindex="-1"></a>      <span class="at">endTime =</span> <span class="fu">max</span>(time),</span>
<span id="cb25-51"><a href="#cb25-51" aria-hidden="true" tabindex="-1"></a>      <span class="at">sessionLength =</span> <span class="fu">round</span>(<span class="fu">as.integer</span>(endTime <span class="sc">-</span> startTime) <span class="sc">/</span> <span class="dv">60</span>, <span class="dv">2</span>)</span>
<span id="cb25-52"><a href="#cb25-52" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb25-53"><a href="#cb25-53" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb25-54"><a href="#cb25-54" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(</span>
<span id="cb25-55"><a href="#cb25-55" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb25-56"><a href="#cb25-56" aria-hidden="true" tabindex="-1"></a>      session,</span>
<span id="cb25-57"><a href="#cb25-57" aria-hidden="true" tabindex="-1"></a>      prompt_time,</span>
<span id="cb25-58"><a href="#cb25-58" aria-hidden="true" tabindex="-1"></a>      prompt,</span>
<span id="cb25-59"><a href="#cb25-59" aria-hidden="true" tabindex="-1"></a>      response,</span>
<span id="cb25-60"><a href="#cb25-60" aria-hidden="true" tabindex="-1"></a>      duration,</span>
<span id="cb25-61"><a href="#cb25-61" aria-hidden="true" tabindex="-1"></a>      startTime,</span>
<span id="cb25-62"><a href="#cb25-62" aria-hidden="true" tabindex="-1"></a>      endTime,</span>
<span id="cb25-63"><a href="#cb25-63" aria-hidden="true" tabindex="-1"></a>      sessionLength</span>
<span id="cb25-64"><a href="#cb25-64" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb25-65"><a href="#cb25-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-66"><a href="#cb25-66" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize for analysis</span></span>
<span id="cb25-67"><a href="#cb25-67" aria-hidden="true" tabindex="-1"></a>  pws_prompts <span class="ot">&lt;-</span> pws_raw <span class="sc">|&gt;</span></span>
<span id="cb25-68"><a href="#cb25-68" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>new_session) <span class="sc">|&gt;</span></span>
<span id="cb25-69"><a href="#cb25-69" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(pid, session) <span class="sc">|&gt;</span></span>
<span id="cb25-70"><a href="#cb25-70" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb25-71"><a href="#cb25-71" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb25-72"><a href="#cb25-72" aria-hidden="true" tabindex="-1"></a>      <span class="at">first_time =</span> <span class="fu">first</span>(time),</span>
<span id="cb25-73"><a href="#cb25-73" aria-hidden="true" tabindex="-1"></a>      <span class="at">first_duration =</span> <span class="fu">first</span>(duration),</span>
<span id="cb25-74"><a href="#cb25-74" aria-hidden="true" tabindex="-1"></a>      <span class="at">startTime =</span> <span class="fu">if_else</span>(</span>
<span id="cb25-75"><a href="#cb25-75" aria-hidden="true" tabindex="-1"></a>        first_duration <span class="sc">&lt;</span> <span class="dv">15</span>,</span>
<span id="cb25-76"><a href="#cb25-76" aria-hidden="true" tabindex="-1"></a>        first_time <span class="sc">-</span> first_duration <span class="sc">*</span> <span class="dv">60</span>,</span>
<span id="cb25-77"><a href="#cb25-77" aria-hidden="true" tabindex="-1"></a>        first_time</span>
<span id="cb25-78"><a href="#cb25-78" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb25-79"><a href="#cb25-79" aria-hidden="true" tabindex="-1"></a>      <span class="at">startTime =</span> <span class="fu">min</span>(startTime),</span>
<span id="cb25-80"><a href="#cb25-80" aria-hidden="true" tabindex="-1"></a>      <span class="at">endTime =</span> <span class="fu">max</span>(time)</span>
<span id="cb25-81"><a href="#cb25-81" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb25-82"><a href="#cb25-82" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>first_time, <span class="sc">-</span>first_duration) <span class="sc">|&gt;</span></span>
<span id="cb25-83"><a href="#cb25-83" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(pid, session, prompt) <span class="sc">|&gt;</span></span>
<span id="cb25-84"><a href="#cb25-84" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb25-85"><a href="#cb25-85" aria-hidden="true" tabindex="-1"></a>      <span class="at">numPrompts =</span> <span class="fu">n</span>(),</span>
<span id="cb25-86"><a href="#cb25-86" aria-hidden="true" tabindex="-1"></a>      <span class="at">mean =</span> <span class="fu">mean</span>(response, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb25-87"><a href="#cb25-87" aria-hidden="true" tabindex="-1"></a>      <span class="at">startTime =</span> <span class="fu">first</span>(startTime),</span>
<span id="cb25-88"><a href="#cb25-88" aria-hidden="true" tabindex="-1"></a>      <span class="at">endTime =</span> <span class="fu">first</span>(endTime),</span>
<span id="cb25-89"><a href="#cb25-89" aria-hidden="true" tabindex="-1"></a>      <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb25-90"><a href="#cb25-90" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb25-91"><a href="#cb25-91" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb25-92"><a href="#cb25-92" aria-hidden="true" tabindex="-1"></a>      <span class="at">sessionLength =</span> <span class="fu">round</span>(<span class="fu">as.integer</span>(endTime <span class="sc">-</span> startTime) <span class="sc">/</span> <span class="dv">60</span>, <span class="dv">2</span>),</span>
<span id="cb25-93"><a href="#cb25-93" aria-hidden="true" tabindex="-1"></a>      <span class="at">mean =</span> <span class="fu">ifelse</span>(<span class="fu">is.nan</span>(mean), <span class="cn">NA_real_</span>, mean)</span>
<span id="cb25-94"><a href="#cb25-94" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb25-95"><a href="#cb25-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-96"><a href="#cb25-96" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert to wide format</span></span>
<span id="cb25-97"><a href="#cb25-97" aria-hidden="true" tabindex="-1"></a>  pws_wide <span class="ot">&lt;-</span> pws_prompts <span class="sc">|&gt;</span></span>
<span id="cb25-98"><a href="#cb25-98" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sessionLength <span class="sc">&gt;</span> <span class="dv">5</span> <span class="sc">&amp;</span> sessionLength <span class="sc">&lt;</span> <span class="dv">480</span>) <span class="sc">|&gt;</span></span>
<span id="cb25-99"><a href="#cb25-99" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_wider</span>(</span>
<span id="cb25-100"><a href="#cb25-100" aria-hidden="true" tabindex="-1"></a>      <span class="at">id_cols =</span> <span class="fu">c</span>(pid, session, startTime, endTime, sessionLength),</span>
<span id="cb25-101"><a href="#cb25-101" aria-hidden="true" tabindex="-1"></a>      <span class="at">names_from =</span> prompt,</span>
<span id="cb25-102"><a href="#cb25-102" aria-hidden="true" tabindex="-1"></a>      <span class="at">values_from =</span> <span class="fu">c</span>(numPrompts, mean),</span>
<span id="cb25-103"><a href="#cb25-103" aria-hidden="true" tabindex="-1"></a>      <span class="at">names_sort =</span> <span class="cn">TRUE</span></span>
<span id="cb25-104"><a href="#cb25-104" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb25-105"><a href="#cb25-105" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span><span class="fu">contains</span>(<span class="st">"_NA"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb25-106"><a href="#cb25-106" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span></span>
<span id="cb25-107"><a href="#cb25-107" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(pid) <span class="sc">|&gt;</span></span>
<span id="cb25-108"><a href="#cb25-108" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb25-109"><a href="#cb25-109" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_gap =</span> <span class="fu">lead</span>(start_time, <span class="dv">1</span>) <span class="sc">-</span> end_time,</span>
<span id="cb25-110"><a href="#cb25-110" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_gap =</span> <span class="fu">round</span>(<span class="fu">as.integer</span>(session_gap) <span class="sc">/</span> <span class="dv">60</span> <span class="sc">/</span> <span class="dv">60</span>, <span class="dv">2</span>),</span>
<span id="cb25-111"><a href="#cb25-111" aria-hidden="true" tabindex="-1"></a>      <span class="at">prev_session_length =</span> <span class="fu">lag</span>(session_length, <span class="dv">1</span>),</span>
<span id="cb25-112"><a href="#cb25-112" aria-hidden="true" tabindex="-1"></a>      <span class="at">prev_session_gap =</span> <span class="fu">lag</span>(session_gap, <span class="dv">1</span>),</span>
<span id="cb25-113"><a href="#cb25-113" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Combine autonomy and competence into game need satisfaction</span></span>
<span id="cb25-114"><a href="#cb25-114" aria-hidden="true" tabindex="-1"></a>      <span class="at">game_ns =</span> (mean_autonomy <span class="sc">+</span> mean_competence) <span class="sc">/</span> <span class="dv">2</span>,</span>
<span id="cb25-115"><a href="#cb25-115" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Calculate person means</span></span>
<span id="cb25-116"><a href="#cb25-116" aria-hidden="true" tabindex="-1"></a>      <span class="at">game_ns_pm =</span> <span class="fu">mean</span>(game_ns, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb25-117"><a href="#cb25-117" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_length_pm =</span> <span class="fu">mean</span>(session_length, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb25-118"><a href="#cb25-118" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_gap_pm =</span> <span class="fu">mean</span>(session_gap, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb25-119"><a href="#cb25-119" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb25-120"><a href="#cb25-120" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb25-121"><a href="#cb25-121" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate grand means and centered values</span></span>
<span id="cb25-122"><a href="#cb25-122" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb25-123"><a href="#cb25-123" aria-hidden="true" tabindex="-1"></a>      <span class="at">game_ns_gm =</span> <span class="fu">mean</span>(game_ns_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb25-124"><a href="#cb25-124" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_length_gm =</span> <span class="fu">mean</span>(session_length_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb25-125"><a href="#cb25-125" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_gap_gm =</span> <span class="fu">mean</span>(session_gap_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb25-126"><a href="#cb25-126" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Within-person centered (deviation from person mean)</span></span>
<span id="cb25-127"><a href="#cb25-127" aria-hidden="true" tabindex="-1"></a>      <span class="at">game_ns_cw =</span> game_ns <span class="sc">-</span> game_ns_pm,</span>
<span id="cb25-128"><a href="#cb25-128" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_length_cw =</span> session_length <span class="sc">-</span> session_length_pm,</span>
<span id="cb25-129"><a href="#cb25-129" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_gap_cw =</span> session_gap <span class="sc">-</span> session_gap_pm,</span>
<span id="cb25-130"><a href="#cb25-130" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Between-person centered (person mean - grand mean)</span></span>
<span id="cb25-131"><a href="#cb25-131" aria-hidden="true" tabindex="-1"></a>      <span class="at">game_ns_cb =</span> game_ns_pm <span class="sc">-</span> game_ns_gm,</span>
<span id="cb25-132"><a href="#cb25-132" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_length_cb =</span> session_length_pm <span class="sc">-</span> session_length_gm,</span>
<span id="cb25-133"><a href="#cb25-133" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_gap_cb =</span> session_gap_pm <span class="sc">-</span> session_gap_gm</span>
<span id="cb25-134"><a href="#cb25-134" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb25-135"><a href="#cb25-135" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(</span>
<span id="cb25-136"><a href="#cb25-136" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb25-137"><a href="#cb25-137" aria-hidden="true" tabindex="-1"></a>      session,</span>
<span id="cb25-138"><a href="#cb25-138" aria-hidden="true" tabindex="-1"></a>      session_length,</span>
<span id="cb25-139"><a href="#cb25-139" aria-hidden="true" tabindex="-1"></a>      session_gap,</span>
<span id="cb25-140"><a href="#cb25-140" aria-hidden="true" tabindex="-1"></a>      prev_session_length,</span>
<span id="cb25-141"><a href="#cb25-141" aria-hidden="true" tabindex="-1"></a>      prev_session_gap,</span>
<span id="cb25-142"><a href="#cb25-142" aria-hidden="true" tabindex="-1"></a>      <span class="fu">everything</span>()</span>
<span id="cb25-143"><a href="#cb25-143" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb25-144"><a href="#cb25-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-145"><a href="#cb25-145" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_csv</span>(pws_wide, <span class="st">"data/pws/pws_sessions.csv"</span>)</span>
<span id="cb25-146"><a href="#cb25-146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_csv</span>(pws_prompts_detail, <span class="st">"data/pws/pws_prompts_detail.csv"</span>)</span>
<span id="cb25-147"><a href="#cb25-147" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb25-148"><a href="#cb25-148" aria-hidden="true" tabindex="-1"></a>  pws_wide <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/pws/pws_sessions.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb25-149"><a href="#cb25-149" aria-hidden="true" tabindex="-1"></a>  pws_prompts_detail <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb25-150"><a href="#cb25-150" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data/pws/pws_prompts_detail.csv"</span>,</span>
<span id="cb25-151"><a href="#cb25-151" aria-hidden="true" tabindex="-1"></a>    <span class="at">show_col_types =</span> <span class="cn">FALSE</span></span>
<span id="cb25-152"><a href="#cb25-152" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-153"><a href="#cb25-153" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb25-154"><a href="#cb25-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-155"><a href="#cb25-155" aria-hidden="true" tabindex="-1"></a><span class="co"># Store sample size for inline reporting</span></span>
<span id="cb25-156"><a href="#cb25-156" aria-hidden="true" tabindex="-1"></a>pws_n_players <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">unique</span>(pws_wide<span class="sc">$</span>pid))</span>
<span id="cb25-157"><a href="#cb25-157" aria-hidden="true" tabindex="-1"></a>pws_n_sessions <span class="ot">&lt;-</span> <span class="fu">nrow</span>(pws_wide)</span>
<span id="cb25-158"><a href="#cb25-158" aria-hidden="true" tabindex="-1"></a>pws_n_players_fmt <span class="ot">&lt;-</span> scales<span class="sc">::</span><span class="fu">comma</span>(pws_n_players)</span>
<span id="cb25-159"><a href="#cb25-159" aria-hidden="true" tabindex="-1"></a>pws_n_sessions_fmt <span class="ot">&lt;-</span> scales<span class="sc">::</span><span class="fu">comma</span>(pws_n_sessions)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<section id="study-2-method" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="study-2-method"><span class="header-section-number">4.1</span> Study 2 Method</h2>
<p>To assess whether our findings generalize beyond the Open Play dataset, we examined a previously unpublished dataset from a commercial game study. These data come from <em>PowerWash Simulator</em> (PWS), a first-person simulation game where players use pressure washers to clean various objects <span class="citation" data-cites="VuorreEtAl2023intensivea">(<a href="#ref-VuorreEtAl2023intensivea" role="doc-biblioref">Vuorre et al., 2023</a>)</span>. Players were prompted during gameplay to rate their experiences of autonomy, competence, focus, wellbeing, immersion, and enjoyment on 0-100 scales. We linked these ratings to objective play behavior extracted from game logs.</p>
<p>The original study procedures were granted ethical approval by Oxford University’s Central University Research Ethics Committee (SSH_OII_CIA_21_011).</p>
<section id="participants-1" class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="participants-1"><span class="header-section-number">4.1.1</span> Participants</h3>
<p>The characteristics of the full sample of 11,080 players in the PWS dataset are described in <span class="citation" data-cites="VuorreEtAl2023intensivea">(<a href="#ref-VuorreEtAl2023intensivea" role="doc-biblioref">Vuorre et al., 2023</a>)</span>; here, we briefly describe the subset of data relevant to our questions. All participants were over 18 years old, provided informed consent, answered at least one mood question, and did not request their data to be deleted. The median age was 27 (19, 40; 1st and 9th deciles), and the four most frequent gender responses were Male (4,537, 52.2%), Female (2,675, 30.8%), Non-binary (723, 8.3%), and Transgender (326, 3.7%). Participants were resident in 39 countries, with the USA (4,917, 56.5%), UK (840, 9.7%), Canada (448, 5.2%), and Germany (390, 4.5%) being the most represented. Recruitment happened in multiple waves through multiple avenues inside and outside of the game. Study participation was incentivized through cosmetic in-game rewards (e.g., item skins).</p>
</section>
<section id="measures-1" class="level3" data-number="4.1.2">
<h3 data-number="4.1.2" class="anchored" data-anchor-id="measures-1"><span class="header-section-number">4.1.2</span> Measures</h3>
<p><em>Play sessions</em> were defined as continuous periods of activity separated by gaps in engagement of at least 30 minutes, yielding 101,602 sessions across 8,969 players. Based on the session timestamps, we calculated two behavioral outcomes: session length (minutes) and session gap (hours; defined as the end timestamp of the previous session and the start timestamp of the subsequent one).</p>
<p><em>Need satisfaction</em> was measured via two in-game prompts on a visual analogue scale from 0 to 100: an autonomy item “Just now, I was doing the things I really wanted to in Powerwash Simulator” and a competence item “Just now, I felt competent playing PowerWash Simulator”, each with visual analogue scale endpoints “Not at all” and “As much as possible”. We converted each observation to a 1–10 scale for interpretability. For each session, we took the mean of all autonomy and competence ratings to generate a single need satisfaction indicator (analogously to Study 1) and decomposed it into within- and between-person components.</p>
</section>
<section id="analysis-approach-1" class="level3" data-number="4.1.3">
<h3 data-number="4.1.3" class="anchored" data-anchor-id="analysis-approach-1"><span class="header-section-number">4.1.3</span> Analysis Approach</h3>
<p>Analogously to study 1, we estimated the relationship between need satisfaction and outcomes (session length, session gap) using linear mixed effects models, with random intercepts and slopes for each participant. Outcomes were log-transformed due to heavily right-skewed distributions. Following our main analysis approach, we decomposed need satisfaction predictors into within- and between-person components and controlled for previous session length and session gap to isolate need satisfaction effects.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Fit PWS models)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Model 1: Session length ~ game need satisfaction</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>pws_m1 <span class="ot">&lt;-</span> lme4<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(session_length) <span class="sc">~</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    game_ns_cw <span class="sc">+</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    game_ns_cb <span class="sc">+</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    prev_session_length <span class="sc">+</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">+</span> game_ns_cw <span class="sc">|</span> pid),</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> pws_wide,</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Model 2: Session gap ~ game need satisfaction</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>pws_m2 <span class="ot">&lt;-</span> lme4<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(session_gap) <span class="sc">~</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>    game_ns_cw <span class="sc">+</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>    game_ns_cb <span class="sc">+</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>    prev_session_gap <span class="sc">+</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">+</span> game_ns_cw <span class="sc">|</span> pid),</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> pws_wide <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(session_gap))</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>pred_m1 <span class="ot">&lt;-</span> <span class="fu">predictions</span>(</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>  pws_m1,</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> pws_m1,</span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">9</span>),</span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> <span class="dv">0</span>,</span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">prev_session_length =</span> <span class="fu">mean</span>(pws_wide<span class="sc">$</span>prev_session_length, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(game_ns_cw) <span class="sc">|&gt;</span></span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">estimate =</span> <span class="fu">exp</span>(estimate),</span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.low =</span> <span class="fu">exp</span>(conf.low),</span>
<span id="cb26-36"><a href="#cb26-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.high =</span> <span class="fu">exp</span>(conf.high)</span>
<span id="cb26-37"><a href="#cb26-37" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-38"><a href="#cb26-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-39"><a href="#cb26-39" aria-hidden="true" tabindex="-1"></a>pws_m1_max_eff <span class="ot">&lt;-</span> pred_m1 <span class="sc">|&gt;</span></span>
<span id="cb26-40"><a href="#cb26-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb26-41"><a href="#cb26-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">est =</span> <span class="fu">diff</span>(estimate),</span>
<span id="cb26-42"><a href="#cb26-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">lo =</span> <span class="fu">diff</span>(conf.low),</span>
<span id="cb26-43"><a href="#cb26-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">hi =</span> <span class="fu">diff</span>(conf.high)</span>
<span id="cb26-44"><a href="#cb26-44" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb26-45"><a href="#cb26-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb26-46"><a href="#cb26-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glue</span>(</span>
<span id="cb26-47"><a href="#cb26-47" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{number(est, accuracy = 0.1)} minutes "</span>,</span>
<span id="cb26-48"><a href="#cb26-48" aria-hidden="true" tabindex="-1"></a>      <span class="st">"[95% CI {number(lo, accuracy = 0.1)}, "</span>,</span>
<span id="cb26-49"><a href="#cb26-49" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{number(hi, accuracy = 0.1)}]"</span></span>
<span id="cb26-50"><a href="#cb26-50" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-51"><a href="#cb26-51" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb26-52"><a href="#cb26-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb26-53"><a href="#cb26-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-54"><a href="#cb26-54" aria-hidden="true" tabindex="-1"></a>pred_m2 <span class="ot">&lt;-</span> <span class="fu">predictions</span>(</span>
<span id="cb26-55"><a href="#cb26-55" aria-hidden="true" tabindex="-1"></a>  pws_m2,</span>
<span id="cb26-56"><a href="#cb26-56" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb26-57"><a href="#cb26-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> pws_m2,</span>
<span id="cb26-58"><a href="#cb26-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">9</span>),</span>
<span id="cb26-59"><a href="#cb26-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> <span class="dv">0</span>,</span>
<span id="cb26-60"><a href="#cb26-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">prev_session_gap =</span> <span class="fu">mean</span>(pws_wide<span class="sc">$</span>prev_session_gap, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb26-61"><a href="#cb26-61" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb26-62"><a href="#cb26-62" aria-hidden="true" tabindex="-1"></a>  <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb26-63"><a href="#cb26-63" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb26-64"><a href="#cb26-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb26-65"><a href="#cb26-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(game_ns_cw) <span class="sc">|&gt;</span></span>
<span id="cb26-66"><a href="#cb26-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb26-67"><a href="#cb26-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">estimate =</span> <span class="fu">exp</span>(estimate),</span>
<span id="cb26-68"><a href="#cb26-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.low =</span> <span class="fu">exp</span>(conf.low),</span>
<span id="cb26-69"><a href="#cb26-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.high =</span> <span class="fu">exp</span>(conf.high)</span>
<span id="cb26-70"><a href="#cb26-70" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-71"><a href="#cb26-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-72"><a href="#cb26-72" aria-hidden="true" tabindex="-1"></a>pws_m2_max_eff <span class="ot">&lt;-</span> pred_m2 <span class="sc">|&gt;</span></span>
<span id="cb26-73"><a href="#cb26-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb26-74"><a href="#cb26-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">est =</span> <span class="fu">diff</span>(estimate),</span>
<span id="cb26-75"><a href="#cb26-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">lo =</span> <span class="fu">diff</span>(conf.low),</span>
<span id="cb26-76"><a href="#cb26-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">hi =</span> <span class="fu">diff</span>(conf.high)</span>
<span id="cb26-77"><a href="#cb26-77" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb26-78"><a href="#cb26-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb26-79"><a href="#cb26-79" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glue</span>(</span>
<span id="cb26-80"><a href="#cb26-80" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{number(est, accuracy = 0.1)} hours "</span>,</span>
<span id="cb26-81"><a href="#cb26-81" aria-hidden="true" tabindex="-1"></a>      <span class="st">"[95% CI {number(lo, accuracy = 0.1)}, "</span>,</span>
<span id="cb26-82"><a href="#cb26-82" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{number(hi, accuracy = 0.1)}]"</span></span>
<span id="cb26-83"><a href="#cb26-83" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-84"><a href="#cb26-84" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb26-85"><a href="#cb26-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb26-86"><a href="#cb26-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-87"><a href="#cb26-87" aria-hidden="true" tabindex="-1"></a>pws_m1_est <span class="ot">&lt;-</span> <span class="fu">report_lmer_term</span>(pws_m1, <span class="st">"game_ns_cw"</span>, <span class="at">p_method =</span> <span class="st">"wald_z"</span>)</span>
<span id="cb26-88"><a href="#cb26-88" aria-hidden="true" tabindex="-1"></a>pws_m2_est <span class="ot">&lt;-</span> <span class="fu">report_lmer_term</span>(pws_m2, <span class="st">"game_ns_cw"</span>, <span class="at">p_method =</span> <span class="st">"wald_z"</span>)</span>
<span id="cb26-89"><a href="#cb26-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-90"><a href="#cb26-90" aria-hidden="true" tabindex="-1"></a>game_ns_sd <span class="ot">&lt;-</span> <span class="fu">number</span>(<span class="fu">sd</span>(pws_wide<span class="sc">$</span>game_ns_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), .<span class="dv">01</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="place" data-arguments="top, scope: &quot;parent&quot;, float: true">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Visualize PWS marginal effects)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate predictions for session length</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>pred_m1 <span class="ot">&lt;-</span> marginaleffects<span class="sc">::</span><span class="fu">predictions</span>(</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  pws_m1,</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> <span class="fu">seq</span>(</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">min</span>(pws_wide<span class="sc">$</span>game_ns_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">max</span>(pws_wide<span class="sc">$</span>game_ns_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">length.out =</span> <span class="dv">100</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> <span class="dv">0</span>,</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">prev_session_length =</span> <span class="fu">mean</span>(pws_wide<span class="sc">$</span>prev_session_length, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Back-transform from log scale to original scale (minutes)</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">estimate =</span> <span class="fu">exp</span>(estimate),</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.low =</span> <span class="fu">exp</span>(conf.low),</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.high =</span> <span class="fu">exp</span>(conf.high)</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate predictions for session gap</span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>pred_m2 <span class="ot">&lt;-</span> marginaleffects<span class="sc">::</span><span class="fu">predictions</span>(</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>  pws_m2,</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> <span class="fu">seq</span>(</span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">min</span>(pws_wide<span class="sc">$</span>game_ns_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">max</span>(pws_wide<span class="sc">$</span>game_ns_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">length.out =</span> <span class="dv">100</span></span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> <span class="dv">0</span>,</span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">prev_session_gap =</span> <span class="fu">mean</span>(pws_wide<span class="sc">$</span>prev_session_gap, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Back-transform from log scale to original scale (hours)</span></span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">estimate =</span> <span class="fu">exp</span>(estimate),</span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.low =</span> <span class="fu">exp</span>(conf.low),</span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.high =</span> <span class="fu">exp</span>(conf.high)</span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb27-44"><a href="#cb27-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-45"><a href="#cb27-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel A: Session length</span></span>
<span id="cb27-46"><a href="#cb27-46" aria-hidden="true" tabindex="-1"></a>p_m1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(pred_m1, <span class="fu">aes</span>(<span class="at">x =</span> game_ns_cw, <span class="at">y =</span> estimate)) <span class="sc">+</span></span>
<span id="cb27-47"><a href="#cb27-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(</span>
<span id="cb27-48"><a href="#cb27-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> conf.low, <span class="at">ymax =</span> conf.high),</span>
<span id="cb27-49"><a href="#cb27-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.2</span>,</span>
<span id="cb27-50"><a href="#cb27-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> colors<span class="sc">$</span>game_ns</span>
<span id="cb27-51"><a href="#cb27-51" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb27-52"><a href="#cb27-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> colors<span class="sc">$</span>game_ns, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb27-53"><a href="#cb27-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_log10</span>(</span>
<span id="cb27-54"><a href="#cb27-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">breaks_log</span>(<span class="at">n =</span> <span class="dv">6</span>),</span>
<span id="cb27-55"><a href="#cb27-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>()</span>
<span id="cb27-56"><a href="#cb27-56" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb27-57"><a href="#cb27-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb27-58"><a href="#cb27-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> labels[<span class="st">"game_ns"</span>],</span>
<span id="cb27-59"><a href="#cb27-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Session length (minutes)"</span></span>
<span id="cb27-60"><a href="#cb27-60" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb27-61"><a href="#cb27-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-62"><a href="#cb27-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel B: Session gap</span></span>
<span id="cb27-63"><a href="#cb27-63" aria-hidden="true" tabindex="-1"></a>p_m2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(pred_m2, <span class="fu">aes</span>(<span class="at">x =</span> game_ns_cw, <span class="at">y =</span> estimate)) <span class="sc">+</span></span>
<span id="cb27-64"><a href="#cb27-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(</span>
<span id="cb27-65"><a href="#cb27-65" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> conf.low, <span class="at">ymax =</span> conf.high),</span>
<span id="cb27-66"><a href="#cb27-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.2</span>,</span>
<span id="cb27-67"><a href="#cb27-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> colors<span class="sc">$</span>global_ns</span>
<span id="cb27-68"><a href="#cb27-68" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb27-69"><a href="#cb27-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> colors<span class="sc">$</span>global_ns, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb27-70"><a href="#cb27-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_log10</span>(</span>
<span id="cb27-71"><a href="#cb27-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">breaks_log</span>(<span class="at">n =</span> <span class="dv">6</span>),</span>
<span id="cb27-72"><a href="#cb27-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>()</span>
<span id="cb27-73"><a href="#cb27-73" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb27-74"><a href="#cb27-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb27-75"><a href="#cb27-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> labels[<span class="st">"game_ns"</span>],</span>
<span id="cb27-76"><a href="#cb27-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Time to next session (hours)"</span></span>
<span id="cb27-77"><a href="#cb27-77" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb27-78"><a href="#cb27-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-79"><a href="#cb27-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine panels</span></span>
<span id="cb27-80"><a href="#cb27-80" aria-hidden="true" tabindex="-1"></a>p_m1 <span class="sc">+</span></span>
<span id="cb27-81"><a href="#cb27-81" aria-hidden="true" tabindex="-1"></a>  p_m2 <span class="sc">+</span></span>
<span id="cb27-82"><a href="#cb27-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">"A"</span>) <span class="sc">&amp;</span></span>
<span id="cb27-83"><a href="#cb27-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.tag =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-study2-results" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-study2-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-study2-results-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-study2-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Within-person effects of need satisfaction on play behavior in PowerWash Simulator. (A) Session length. (B) Time to next session. Shaded regions show 95% confidence intervals.
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="study-2-results-exploratory" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="study-2-results-exploratory"><span class="header-section-number">4.2</span> Study 2 Results: Exploratory</h2>
<p>Results are shown in <a href="#fig-study2-results" class="quarto-xref">Figure&nbsp;5</a>. Panel A shows that people who felt greater need satisfaction than they normally do during the course of a gaming session did not play significantly longer than usual: if a player reported the largest possible change, a session with 10 reported need satisfaction for someone who typically reports only a 1, we would predict a change of just 5.9 minutes [95% CI -1.4, 14.2].</p>
<p>Panel B shows that within-person variation in need satisfaction weakly predicted session gap. If a player reported the largest possible change in need satisfaction of 9 points, we would predict a change of just -3.7 hours [95% CI -5.6, -0.9] in time until their next session. While this is statistically significant, given that typical deviations in within-person need satisfaction are much smaller (within-person SD = 0.71 points), the practical impact on behavior is minimal.</p>
<p>Broadly, results therefore converge with Study 1: Despite examining 101,602 sessions from 8,969 players in a different game using different measures, the pattern of weak behavioral predictions replicated. Full model outputs are provided in the Appendix (<a href="#tbl-full-study2" class="quarto-xref">Table&nbsp;8</a>).</p>
</section>
</section>
<section id="discussion" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Discussion</h1>
<p>Across Study 1 and Study 2, our findings reveal a consistent pattern: basic psychological needs—whether satisfied in games or frustrated in daily life—show weak or null relationships with subsequent gaming behavior. This stands in contrast to the substantial body of literature linking need satisfaction to self-reported outcomes like enjoyment, continued play intentions, and wellbeing <span class="citation" data-cites="TyackMekler2020Selfdetermination">(<a href="#ref-TyackMekler2020Selfdetermination" role="doc-biblioref">Tyack &amp; Mekler, 2020</a>)</span>.</p>
<p>This disconnect between self-reported and behavioral outcomes has important implications. Self-determination theory, particularly as applied to games, has been extensively validated using self-report measures. Players who report higher need satisfaction also report greater enjoyment, stronger intentions to continue playing, and better wellbeing outcomes <span class="citation" data-cites="AdinolfTurkay2019differences OliverEtAl2016video TamboriniEtAl2011Media FormosaEtAl2022Need TyackEtAl2020Restorative">(<a href="#ref-AdinolfTurkay2019differences" role="doc-biblioref">Adinolf &amp; Türkay, 2019</a>; <a href="#ref-FormosaEtAl2022Need" role="doc-biblioref">Formosa et al., 2022</a>; <a href="#ref-OliverEtAl2016video" role="doc-biblioref">Oliver et al., 2016</a>; <a href="#ref-TamboriniEtAl2011Media" role="doc-biblioref">Tamborini et al., 2011</a>; <a href="#ref-TyackEtAl2020Restorative" role="doc-biblioref">Tyack et al., 2020</a>)</span>. Our results do not challenge these relationships. Rather, they suggest that the pathway from needs to actual behavior may be substantially weaker or more complex than the pathway from needs to self-reported experiences and intentions.</p>
<p>Our findings are not the first to find weak links between basic needs and gaming engagement as measured by digital trace data. Motivation was only very weakly associated with total engagement in <em>League of Legends</em> <span class="citation" data-cites="BruhlmannEtAl2020Motivational">(<a href="#ref-BruhlmannEtAl2020Motivational" role="doc-biblioref">Brühlmann et al., 2020</a>)</span>. Competence satisfaction did not meaningfully predict voluntary engagement in a custom RPG <span class="citation" data-cites="KaoEtAl2024How">(<a href="#ref-KaoEtAl2024How" role="doc-biblioref">Kao et al., 2024</a>)</span>, and satisfaction of all three needs was only very weakly related to playtime in Animal Crossing: New Horizons and Plants vs Zombies: Battle for Neighborville over a 2-week timescale (r = .07, likely too weak to be practically significant) <span class="citation" data-cites="JohannesEtAl2021Video">(<a href="#ref-JohannesEtAl2021Video" role="doc-biblioref">Johannes et al., 2021</a>)</span>. We suggest several paths forward.</p>
<section id="alternative-behavioural-frameworks" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="alternative-behavioural-frameworks"><span class="header-section-number">5.1</span> Alternative behavioural frameworks</h2>
<p>The weak associations between need experiences and subsequent play behaviour suggest that basic psychological needs may not be the primary drivers of short-term gaming engagement. In light of this, we suggest player experience research consider other theoretical frameworks that might provide better or complementary explanations for short-term gaming engagement. We are aware of least three such frameworks.</p>
<p>Behaviourist and reinforcement-learning accounts emphasise the power of recent rewards and environmental cues, rather than subjective motives, in sustaining behaviour <span class="citation" data-cites="Skinner1965Science Niv2009Reinforcement">(<a href="#ref-Niv2009Reinforcement" role="doc-biblioref">Niv, 2009</a>; <a href="#ref-Skinner1965Science" role="doc-biblioref">Skinner, 1965</a>)</span>. Recent work has expanded and adapted these predictions for the digital media domain <span class="citation" data-cites="NorwoodPrzybylski2025new">(<a href="#ref-NorwoodPrzybylski2025new" role="doc-biblioref">Norwood &amp; Przybylski, 2025</a>)</span>. Under such models, a primary cause of players re-engaging is that the behaviour has been reliably reinforced, not because they recently felt more autonomy, competence, or relatedness.</p>
<p>Habit theory similarly predicts minimal coupling between momentary experiences and action. With sufficient repetition in stable contexts, gaming becomes cue-triggered and automatic, guided by procedural memory rather than conscious motivational states <span class="citation" data-cites="OuelletteWood1998Habit WoodRunger2016Psychology">(<a href="#ref-OuelletteWood1998Habit" role="doc-biblioref">Ouellette &amp; Wood, 1998</a>; <a href="#ref-WoodRunger2016Psychology" role="doc-biblioref">Wood &amp; Rünger, 2016</a>)</span>. If players typically launch games at particular times or in response to specific cues, need fluctuations may exert little incremental influence over behaviour.</p>
<p>A third possibility is regulatory cessation. In homeostatic and cybernetic models, behaviour is energized by need- or goal-discrepancies and should weaken once these are reduced; highly satisfying engagement may therefore decrease the likelihood of immediate re-engagement <span class="citation" data-cites="Hull1943Principles Toates1986Motivational CarverScheier2001selfregulation">(<a href="#ref-CarverScheier2001selfregulation" role="doc-biblioref">Carver &amp; Scheier, 2001</a>; <a href="#ref-Hull1943Principles" role="doc-biblioref">Hull, 1943</a>; <a href="#ref-Toates1986Motivational" role="doc-biblioref">Toates, 1986</a>)</span>. Self-determination theory explicitly rejects this logic for psychological needs, arguing that need satisfaction does not produce satiation or motivational decline and may instead sustain intrinsic motivation <span class="citation" data-cites="SheldonGunz2009psychological">(<a href="#ref-SheldonGunz2009psychological" role="doc-biblioref">Sheldon &amp; Gunz, 2009</a>)</span>. However, SDT evidence has primarily relied on self-reported motivation rather than observed behavioural continuation, potentially obscuring homeostatic or satiation-like dynamics that operate at the level of action. In games research, where engagement unfolds as repeated consumption, such regulatory processes may better account for short-term disengagement following highly satisfying play episodes.</p>
<p>Each of these perspectives aligns with broader evidence that subjective intentions and experiences often predict real-world actions only weakly because behaviour is multiply determined and heavily constrained by situational affordances <span class="citation" data-cites="SheeranWebb2016Intention">(<a href="#ref-SheeranWebb2016Intention" role="doc-biblioref">Sheeran &amp; Webb, 2016</a>)</span>. For researchers, our findings therefore suggest that comprehensive models of gaming behaviour may need to incorporate reinforcement histories, habits, and regulatory processes alongside need-based motivations. For game developers, they suggest that relying on experiential metrics (e.g., ‘fun’, satisfaction surveys) may provide an incomplete picture of what sustains engagement. For parents and clinicians, they suggest that efforts to promote healthier play patterns may benefit from structural interventions—e.g., modifying reward pacing, friction costs, or contextual cues—rather than focusing solely on enhancing need fulfilment.</p>
</section>
<section id="the-value-of-open-behavioral-data" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="the-value-of-open-behavioral-data"><span class="header-section-number">5.2</span> The value of open behavioral data</h2>
<p>The introduction to this paper outlined three key limitations in gaming research: lack of researcher access to industry data, temporal mismatch between trace data and surveys, and weak theoretical frameworks. Our study addressed all three by negotiating multi-platform access, implementing daily diaries, and testing theory-driven predictions. Yet the clearest contribution may be demonstrating what becomes visible when self-report is paired with comprehensive behavioral records.</p>
<p>Had we relied solely on self-report measures of play behavior—as most media use research does—we may well have found that need satisfaction correlates with intrinsic motivation, and that therefore higher engagement is likely <span class="citation" data-cites="NeysEtAl2014exploring KosaUysal2024Exploration">(<a href="#ref-KosaUysal2024Exploration" role="doc-biblioref">Kosa &amp; Uysal, 2024</a>; <a href="#ref-NeysEtAl2014exploring" role="doc-biblioref">Neys et al., 2014</a>)</span>. The trace data reveal a different picture. This is not unique to SDT or gaming; intention-behavior gaps are well-documented across health behaviors, environmental actions, and consumer choices <span class="citation" data-cites="SheeranWebb2016Intention">(<a href="#ref-SheeranWebb2016Intention" role="doc-biblioref">Sheeran &amp; Webb, 2016</a>)</span>. But it is particularly consequential in a field where theoretical claims increasingly concern behavior itself—how much people play, when they play, what motivates them to start or stop.</p>
<p>The broader lesson extends beyond SDT. As gaming research matures beyond simple quantity-based approaches <span class="citation" data-cites="BallouEtAl2025How">(<a href="#ref-BallouEtAl2025How" role="doc-biblioref">Ballou, Hakman, et al., 2025</a>)</span>, theories must be validated against behavioral outcomes, not just self-reported proxies. Open player behavior data—whether through industry partnerships, player-controlled data sharing infrastructures, or other mechanisms—is essential infrastructure for this work.</p>
<p>There are, however, practical barriers to making such behavioural evidence routine. Privacy and re-identification risks are non-trivial for high-resolution telemetry, particularly when combined with survey responses, and these risks create understandable reluctance among both participants and data holders. Industry incentives also rarely align with open scientific practices: the most informative behavioural data are often commercially sensitive, operationally costly to extract, and legally complex to share across jurisdictions. Methodologically, the field also lacks shared standards for defining sessions, handling idle time, linking multi-platform identities, and documenting preprocessing decisions—each of which can meaningfully affect substantive conclusions.</p>
<p>We therefore advocate for multi-platform solutions, mixing both open source and, where possible with high transparency standards, industry collaborations. Multi-platform coverage matters substantively because platform ecosystems structure when and how people play. Different platforms afford different play contexts (e.g., portable vs.&nbsp;fixed-location play, solitary vs.&nbsp;social defaults, friction to launch, and typical session cadence), and these affordances can shift the distribution of sessions across the day and week. When studies observe only a single platform, they risk misclassifying a person’s true “non-play” periods (e.g., apparent disengagement on one platform may simply reflect switching to another), attenuating within-person associations and obscuring displacement dynamics. Single-platform datasets also risk overgeneralizing from idiosyncratic platform cultures and technical constraints (such as background processes, suspend/resume behavior, or account sharing) that can inflate or distort behavioural measures.</p>
</section>
<section id="implications-for-the-bang-model" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="implications-for-the-bang-model"><span class="header-section-number">5.3</span> Implications for the BANG model</h2>
<p>Only one of BANG’s prediction was supported (H1/B6: game needs → global needs), consistent with prior literature <span class="citation" data-cites="AllenAnderson2018satisfaction BallouEtAl2024Basic">(<a href="#ref-AllenAnderson2018satisfaction" role="doc-biblioref">Allen &amp; Anderson, 2018</a>; <a href="#ref-BallouEtAl2024Basic" role="doc-biblioref">Ballou, Denisova, et al., 2024</a>)</span> and the proposed hierarchical structure at the core of SDT <span class="citation" data-cites="Vallerand1997Hierarchical">(<a href="#ref-Vallerand1997Hierarchical" role="doc-biblioref">Vallerand, 1997</a>)</span>. However, the behavioral predictions fared poorly. Neither in-game positive experiences nor deficits in life in general meaningfully predicted subsequent play (global need frustration → subsequent play) was not supported. All in all, BANG hypotheses B5, B8, and B9 were unsupported in our data.</p>
<p>Null results for theoretical predictions can generally be attributed to (1) lack of statistical power, (2) validity issues (e.g., poor design, poor measures), (3) incorrect auxiliary hypotheses, or (4) theory failure <span class="citation" data-cites="Meehl1990Why">(<a href="#ref-Meehl1990Why" role="doc-biblioref">Meehl, 1990</a>)</span>. We argue that our study is reasonably well-powered <span class="citation" data-cites="BallouEtAl2025Psychological">(see <a href="#ref-BallouEtAl2025Psychological" role="doc-biblioref">Ballou, Földes, Hakman, et al., 2025</a> for simulated sensitivity analyses)</span>, and with the exception of H3 whose “hypothetical displacement” measure has obvious flaws (see Limitations), uses valid measures—in particular, because we observe real-world behaviour.</p>
<p>We endeavored to test the most prominent auxiliary hypothesis present, namely the auxiliary of correct timescale, by comparing 6-hour, 12-hour, and 24-hour time periods, and by triangulating using the PowerWash Simulator dataset, wherein need-related experiences are captured within the session itself. However, none were able to find meaningful support for the behavioral predictions.</p>
<p>We therefore interpret our results as evidence against certain BANG predictions, necessitating model updating. From a metascientific perspective, model updating after falsification is central to iterative model calibration and theory modulation <span class="citation" data-cites="Meehl1990Why">(<a href="#ref-Meehl1990Why" role="doc-biblioref">Meehl, 1990</a>)</span>, in which constructs are sharpened, measurement improved, and boundary conditions more precisely articulated. Updating BANG requires identifying <em>when</em> and <em>why</em> need-related processes do and do not predict behavioral engagement.</p>
<p>A wholesale revision of BANG is beyond the scope of the current paper, but our results suggest follow-up investigation should be limited to targeted probes aimed at determining whether the null results here reflect (i) temporal misalignment (for example, it may be that need satisfaction updates expectations much more gradually); (ii) boundary conditions (for example, if where need–behaviour links emerge only for specific players, games, or contexts with low constraint and weak habitual control); or (iii) competing processes (for example, if habits, reinforcement histories, and situational affordances dominate short-term behaviour, leaving needs to shape preferences rather than actions). Critically, if behavioural effects remain absent under conditions designed to maximise their detectability, BANG’s behavioural claims should be revised or removed rather than further insulated.</p>
</section>
<section id="limitations-and-future-directions" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="limitations-and-future-directions"><span class="header-section-number">5.4</span> Limitations and Future Directions</h2>
<p>Several limitations qualify the interpretation of the present findings. First, although our analyses focus on within-person associations, these estimates should not be interpreted as causal effects <span class="citation" data-cites="RohrerMurayama2021These">(<a href="#ref-RohrerMurayama2021These" role="doc-biblioref">Rohrer &amp; Murayama, 2021</a>)</span>. Even with dense longitudinal measurement, within-person variation does not isolate exogenous change: need satisfaction may covary with unmeasured situational factors (e.g., time availability, fatigue, social context) that independently shape gaming behaviour. Our results therefore speak to the strength of empirical coupling between needs and behaviour, not to causal necessity or sufficiency.</p>
<p>Second, our test of displacement (H3) relies on a hypothetical counterfactual measure: what participants report they would have done had they not played. This approach is coarse and vulnerable to recall bias, rationalisation, and ambiguity in how respondents interpret “most likely” alternatives. While the measure provides a useful first pass at identifying potentially displaced life domains, it is ill-suited for detecting subtle or cumulative displacement processes and likely attenuates any true effects. More rigorous tests of displacement will require objective time-use data or designs that directly observe trade-offs between activities.</p>
<p>Third, the behavioural outcomes examined here reflect short-term engagement patterns, such as session length and return latency. Null or weak associations at this timescale do not rule out need-related effects on longer-term outcomes, such as game choice, persistence over months, or disengagement trajectories. Our conclusions are therefore limited to short-term behavioural dynamics and should not be generalized to all forms of gaming involvement.</p>
<p>Finally, our sample, although purposively sampled for racial and gender diversity, should be understood as consisting of engaged 18–40 year old players willing to share detailed behavioural data and complete intensive surveys, rather than as representative of all players. This selectivity limits generalizability in two ways. First, casual players, younger adolescents, and individuals with minimal or highly irregular play patterns are underrepresented. Second, highly engaged players’ behaviour may differ systematically from those among less engaged populations (e.g,more routinized or more highly habit-driven). The weak need–behaviour associations observed here may not generalize to all player groups, nor do they preclude stronger effects in populations with greater variability in motivation or fewer structural constraints.</p>
<p>Together, these limitations suggest that the present findings should be interpreted as strong evidence against large, general, short-term behavioural effects of need satisfaction among engaged adult players, rather than as definitive evidence against any role for psychological needs in shaping gaming behaviour more broadly.</p>
</section>
</section>
<section id="references" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> References</h1>

</section>
<section id="appendix" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Appendix</h1>
<section id="full-model-outputs" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="full-model-outputs"><span class="header-section-number">7.1</span> Full Model Outputs</h2>
<p>This section provides complete model summaries for the three main hypothesis tests (H1-H3), including all fixed effects (both within- and between-person), random effects, and autocorrelation parameters.</p>
<section id="h1-game-need-satisfaction-predicts-global-need-satisfaction" class="level3" data-number="7.1.1">
<h3 data-number="7.1.1" class="anchored" data-anchor-id="h1-game-need-satisfaction-predicts-global-need-satisfaction"><span class="header-section-number">7.1.1</span> H1: Game need satisfaction predicts global need satisfaction</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Full H1 model output)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use first imputation model for complete summary</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">"H1: Game NS positively associated with Global NS"</span> <span class="ot">=</span> h1mod),</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">coef_rename =</span> labels,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">statistic =</span> <span class="fu">c</span>(</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"conf.int"</span>,</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"s.e. = {std.error}"</span>,</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"t = {statistic}"</span>,</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"p = {p.value}"</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">coef_omit =</span> <span class="st">"wave"</span>, <span class="co"># Omit individual AR(1) wave parameters</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-full-h1" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-full-h1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;5: H1: Complete model summary for game NS → global NS
</figcaption>
<div aria-describedby="tbl-full-h1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_c0vowrozle2iytddd6c5 = TinyTable.createTableFunctions("tinytable_c0vowrozle2iytddd6c5");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '24', j: 2 } ], css_id: 'tinytable_css_tl0x5s71o8nqg6tujfix',}, 
          { positions: [ { i: '19', j: 2 } ], css_id: 'tinytable_css_7cgsmaefb7vqjptxapin',}, 
          { positions: [ { i: '1', j: 2 }, { i: '2', j: 2 }, { i: '3', j: 2 }, { i: '4', j: 2 }, { i: '5', j: 2 }, { i: '6', j: 2 }, { i: '7', j: 2 }, { i: '8', j: 2 }, { i: '9', j: 2 }, { i: '10', j: 2 }, { i: '11', j: 2 }, { i: '12', j: 2 }, { i: '13', j: 2 }, { i: '14', j: 2 }, { i: '15', j: 2 }, { i: '16', j: 2 }, { i: '17', j: 2 }, { i: '18', j: 2 }, { i: '20', j: 2 }, { i: '21', j: 2 }, { i: '22', j: 2 }, { i: '23', j: 2 } ], css_id: 'tinytable_css_ba0toe5kaa74hdioyzco',}, 
          { positions: [ { i: '0', j: 2 } ], css_id: 'tinytable_css_od43con1k7mirf2s1u4i',}, 
          { positions: [ { i: '24', j: 1 } ], css_id: 'tinytable_css_jc5g02oyzlt23xj6m9bh',}, 
          { positions: [ { i: '19', j: 1 } ], css_id: 'tinytable_css_sv5hchdvo5kcukrgni0g',}, 
          { positions: [ { i: '1', j: 1 }, { i: '2', j: 1 }, { i: '3', j: 1 }, { i: '4', j: 1 }, { i: '5', j: 1 }, { i: '6', j: 1 }, { i: '7', j: 1 }, { i: '8', j: 1 }, { i: '9', j: 1 }, { i: '10', j: 1 }, { i: '11', j: 1 }, { i: '12', j: 1 }, { i: '13', j: 1 }, { i: '14', j: 1 }, { i: '15', j: 1 }, { i: '16', j: 1 }, { i: '17', j: 1 }, { i: '18', j: 1 }, { i: '20', j: 1 }, { i: '21', j: 1 }, { i: '22', j: 1 }, { i: '23', j: 1 } ], css_id: 'tinytable_css_a05elr8ore3z1qflrsf1',}, 
          { positions: [ { i: '0', j: 1 } ], css_id: 'tinytable_css_l35f99x98r4a4gkkcgbn',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_c0vowrozle2iytddd6c5.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_c0vowrozle2iytddd6c5 td.tinytable_css_tl0x5s71o8nqg6tujfix, #tinytable_c0vowrozle2iytddd6c5 th.tinytable_css_tl0x5s71o8nqg6tujfix {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: center; font-size: 0.7em }
    #tinytable_c0vowrozle2iytddd6c5 td.tinytable_css_7cgsmaefb7vqjptxapin, #tinytable_c0vowrozle2iytddd6c5 th.tinytable_css_7cgsmaefb7vqjptxapin {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: center; font-size: 0.7em }
    #tinytable_c0vowrozle2iytddd6c5 td.tinytable_css_ba0toe5kaa74hdioyzco, #tinytable_c0vowrozle2iytddd6c5 th.tinytable_css_ba0toe5kaa74hdioyzco { text-align: center; font-size: 0.7em }
    #tinytable_c0vowrozle2iytddd6c5 td.tinytable_css_od43con1k7mirf2s1u4i, #tinytable_c0vowrozle2iytddd6c5 th.tinytable_css_od43con1k7mirf2s1u4i {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; text-align: center; font-size: 0.7em }
    #tinytable_c0vowrozle2iytddd6c5 td.tinytable_css_jc5g02oyzlt23xj6m9bh, #tinytable_c0vowrozle2iytddd6c5 th.tinytable_css_jc5g02oyzlt23xj6m9bh {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: left; font-size: 0.7em }
    #tinytable_c0vowrozle2iytddd6c5 td.tinytable_css_sv5hchdvo5kcukrgni0g, #tinytable_c0vowrozle2iytddd6c5 th.tinytable_css_sv5hchdvo5kcukrgni0g {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: left; font-size: 0.7em }
    #tinytable_c0vowrozle2iytddd6c5 td.tinytable_css_a05elr8ore3z1qflrsf1, #tinytable_c0vowrozle2iytddd6c5 th.tinytable_css_a05elr8ore3z1qflrsf1 { text-align: left; font-size: 0.7em }
    #tinytable_c0vowrozle2iytddd6c5 td.tinytable_css_l35f99x98r4a4gkkcgbn, #tinytable_c0vowrozle2iytddd6c5 th.tinytable_css_l35f99x98r4a4gkkcgbn {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; text-align: left; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_c0vowrozle2iytddd6c5" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1"> </th>
                <th scope="col" data-row="0" data-col="2">H1: Game NS positively associated with Global NS</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">Intercept</td>
                  <td data-row="1" data-col="2">4.746</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1"></td>
                  <td data-row="2" data-col="2">[4.675, 4.817]</td>
                </tr>
                <tr>
                  <td data-row="3" data-col="1"></td>
                  <td data-row="3" data-col="2">s.e. = 0.036</td>
                </tr>
                <tr>
                  <td data-row="4" data-col="1"></td>
                  <td data-row="4" data-col="2">t = 130.605</td>
                </tr>
                <tr>
                  <td data-row="5" data-col="1"></td>
                  <td data-row="5" data-col="2">p = &lt;0.001</td>
                </tr>
                <tr>
                  <td data-row="6" data-col="1">Game need satisfaction (within)</td>
                  <td data-row="6" data-col="2">0.232</td>
                </tr>
                <tr>
                  <td data-row="7" data-col="1"></td>
                  <td data-row="7" data-col="2">[0.204, 0.260]</td>
                </tr>
                <tr>
                  <td data-row="8" data-col="1"></td>
                  <td data-row="8" data-col="2">s.e. = 0.014</td>
                </tr>
                <tr>
                  <td data-row="9" data-col="1"></td>
                  <td data-row="9" data-col="2">t = 16.123</td>
                </tr>
                <tr>
                  <td data-row="10" data-col="1"></td>
                  <td data-row="10" data-col="2">p = &lt;0.001</td>
                </tr>
                <tr>
                  <td data-row="11" data-col="1">Game need satisfaction (between)</td>
                  <td data-row="11" data-col="2">0.860</td>
                </tr>
                <tr>
                  <td data-row="12" data-col="1"></td>
                  <td data-row="12" data-col="2">[0.767, 0.953]</td>
                </tr>
                <tr>
                  <td data-row="13" data-col="1"></td>
                  <td data-row="13" data-col="2">s.e. = 0.047</td>
                </tr>
                <tr>
                  <td data-row="14" data-col="1"></td>
                  <td data-row="14" data-col="2">t = 18.164</td>
                </tr>
                <tr>
                  <td data-row="15" data-col="1"></td>
                  <td data-row="15" data-col="2">p = &lt;0.001</td>
                </tr>
                <tr>
                  <td data-row="16" data-col="1">SD (Intercept pid)</td>
                  <td data-row="16" data-col="2">0.820</td>
                </tr>
                <tr>
                  <td data-row="17" data-col="1">SD (game_ns_cw pid)</td>
                  <td data-row="17" data-col="2">0.206</td>
                </tr>
                <tr>
                  <td data-row="18" data-col="1">Cor (Intercept~game_ns_cw pid)</td>
                  <td data-row="18" data-col="2">0.044</td>
                </tr>
                <tr>
                  <td data-row="19" data-col="1">SD (Observations)</td>
                  <td data-row="19" data-col="2">0.792</td>
                </tr>
                <tr>
                  <td data-row="20" data-col="1">Num.Obs.</td>
                  <td data-row="20" data-col="2">11239</td>
                </tr>
                <tr>
                  <td data-row="21" data-col="1">R2 Marg.</td>
                  <td data-row="21" data-col="2">0.424</td>
                </tr>
                <tr>
                  <td data-row="22" data-col="1">AIC</td>
                  <td data-row="22" data-col="2">30324.9</td>
                </tr>
                <tr>
                  <td data-row="23" data-col="1">BIC</td>
                  <td data-row="23" data-col="2">30390.8</td>
                </tr>
                <tr>
                  <td data-row="24" data-col="1">RMSE</td>
                  <td data-row="24" data-col="2">0.71</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="h2-need-satisfaction-and-frustration-predict-subsequent-play" class="level3" data-number="7.1.2">
<h3 data-number="7.1.2" class="anchored" data-anchor-id="h2-need-satisfaction-and-frustration-predict-subsequent-play"><span class="header-section-number">7.1.2</span> H2: Need satisfaction and frustration predict subsequent play</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Full H2 model output)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use first imputation model for complete summary</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="co"># modelsummary(</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   h2mod,</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   coef_rename = labels,</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   statistic = c(</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co">#     "conf.int",</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co">#     "s.e. = {std.error}",</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co">#     "t = {statistic}",</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co">#     "p = {p.value}"</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   ),</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="co">#   coef_omit = "wave", # Omit individual AR(1) wave parameters</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="co"># ) |&gt;</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   style_tt(fontsize = 0.7) |&gt;</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   style_tt(i = 0, bold = TRUE)</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 1) Pre-tidy with CIs</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>tt <span class="ot">&lt;-</span> <span class="fu">tidy</span>(h2mod, <span class="at">effects =</span> <span class="st">"fixed"</span>, <span class="at">conf.int =</span> <span class="cn">TRUE</span>)</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 2) Optional: rename coefficients manually now</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>tt <span class="ot">&lt;-</span> tt <span class="sc">|&gt;</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(term, <span class="sc">!!!</span>labels)</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a><span class="do">## 3) Pre-compute glance once</span></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>gl <span class="ot">&lt;-</span> <span class="fu">glance</span>(h2mod)</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a><span class="do">## 4) Wrap as a modelsummary_list (no further introspection)</span></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>mod_obj <span class="ot">&lt;-</span> <span class="fu">structure</span>(</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">tidy =</span> tt,</span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">glance =</span> gl</span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">class =</span> <span class="st">"modelsummary_list"</span></span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a><span class="do">## 5) Now call modelsummary on this object</span></span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(</span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">"H2: NS &amp; NF associated with likelihood of subsequent play"</span> <span class="ot">=</span> mod_obj),</span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">statistic =</span> <span class="fu">c</span>(</span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CI = [{conf.low}, {conf.high}]"</span>,</span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a>    <span class="st">"s.e. = {std.error}"</span>,</span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a>    <span class="st">"z = {statistic}"</span>,</span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a>    <span class="st">"p = {p.value}"</span></span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">coef_omit =</span> <span class="st">"wave"</span>,</span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-full-h2" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-full-h2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;6: H2: Complete model summary for game NS + global NF → play
</figcaption>
<div aria-describedby="tbl-full-h2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_wsoqzrn5kle44p2pvv7h = TinyTable.createTableFunctions("tinytable_wsoqzrn5kle44p2pvv7h");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '29', j: 2 } ], css_id: 'tinytable_css_40vjzxqzt5vza4atqj7l',}, 
          { positions: [ { i: '25', j: 2 } ], css_id: 'tinytable_css_fnkhjlpcimnw5yiqkpgw',}, 
          { positions: [ { i: '1', j: 2 }, { i: '2', j: 2 }, { i: '3', j: 2 }, { i: '4', j: 2 }, { i: '5', j: 2 }, { i: '6', j: 2 }, { i: '7', j: 2 }, { i: '8', j: 2 }, { i: '9', j: 2 }, { i: '10', j: 2 }, { i: '11', j: 2 }, { i: '12', j: 2 }, { i: '13', j: 2 }, { i: '14', j: 2 }, { i: '15', j: 2 }, { i: '16', j: 2 }, { i: '17', j: 2 }, { i: '18', j: 2 }, { i: '19', j: 2 }, { i: '20', j: 2 }, { i: '21', j: 2 }, { i: '22', j: 2 }, { i: '23', j: 2 }, { i: '24', j: 2 }, { i: '26', j: 2 }, { i: '27', j: 2 }, { i: '28', j: 2 } ], css_id: 'tinytable_css_7n941g5db33q9pbch3pv',}, 
          { positions: [ { i: '0', j: 2 } ], css_id: 'tinytable_css_qkub8l412lmap628rf2d',}, 
          { positions: [ { i: '29', j: 1 } ], css_id: 'tinytable_css_nsr8iszzj4k0uhwjkx7p',}, 
          { positions: [ { i: '25', j: 1 } ], css_id: 'tinytable_css_v1ftbqtl9nrfe2zovoz4',}, 
          { positions: [ { i: '1', j: 1 }, { i: '2', j: 1 }, { i: '3', j: 1 }, { i: '4', j: 1 }, { i: '5', j: 1 }, { i: '6', j: 1 }, { i: '7', j: 1 }, { i: '8', j: 1 }, { i: '9', j: 1 }, { i: '10', j: 1 }, { i: '11', j: 1 }, { i: '12', j: 1 }, { i: '13', j: 1 }, { i: '14', j: 1 }, { i: '15', j: 1 }, { i: '16', j: 1 }, { i: '17', j: 1 }, { i: '18', j: 1 }, { i: '19', j: 1 }, { i: '20', j: 1 }, { i: '21', j: 1 }, { i: '22', j: 1 }, { i: '23', j: 1 }, { i: '24', j: 1 }, { i: '26', j: 1 }, { i: '27', j: 1 }, { i: '28', j: 1 } ], css_id: 'tinytable_css_a1rtywowykzrblety0im',}, 
          { positions: [ { i: '0', j: 1 } ], css_id: 'tinytable_css_m6uyhwu0zdgn53gm0tfn',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_wsoqzrn5kle44p2pvv7h.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_wsoqzrn5kle44p2pvv7h td.tinytable_css_40vjzxqzt5vza4atqj7l, #tinytable_wsoqzrn5kle44p2pvv7h th.tinytable_css_40vjzxqzt5vza4atqj7l {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: center; font-size: 0.7em }
    #tinytable_wsoqzrn5kle44p2pvv7h td.tinytable_css_fnkhjlpcimnw5yiqkpgw, #tinytable_wsoqzrn5kle44p2pvv7h th.tinytable_css_fnkhjlpcimnw5yiqkpgw {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: center; font-size: 0.7em }
    #tinytable_wsoqzrn5kle44p2pvv7h td.tinytable_css_7n941g5db33q9pbch3pv, #tinytable_wsoqzrn5kle44p2pvv7h th.tinytable_css_7n941g5db33q9pbch3pv { text-align: center; font-size: 0.7em }
    #tinytable_wsoqzrn5kle44p2pvv7h td.tinytable_css_qkub8l412lmap628rf2d, #tinytable_wsoqzrn5kle44p2pvv7h th.tinytable_css_qkub8l412lmap628rf2d {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; text-align: center; font-size: 0.7em }
    #tinytable_wsoqzrn5kle44p2pvv7h td.tinytable_css_nsr8iszzj4k0uhwjkx7p, #tinytable_wsoqzrn5kle44p2pvv7h th.tinytable_css_nsr8iszzj4k0uhwjkx7p {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: left; font-size: 0.7em }
    #tinytable_wsoqzrn5kle44p2pvv7h td.tinytable_css_v1ftbqtl9nrfe2zovoz4, #tinytable_wsoqzrn5kle44p2pvv7h th.tinytable_css_v1ftbqtl9nrfe2zovoz4 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: left; font-size: 0.7em }
    #tinytable_wsoqzrn5kle44p2pvv7h td.tinytable_css_a1rtywowykzrblety0im, #tinytable_wsoqzrn5kle44p2pvv7h th.tinytable_css_a1rtywowykzrblety0im { text-align: left; font-size: 0.7em }
    #tinytable_wsoqzrn5kle44p2pvv7h td.tinytable_css_m6uyhwu0zdgn53gm0tfn, #tinytable_wsoqzrn5kle44p2pvv7h th.tinytable_css_m6uyhwu0zdgn53gm0tfn {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; text-align: left; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_wsoqzrn5kle44p2pvv7h" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1"> </th>
                <th scope="col" data-row="0" data-col="2">H2: NS &amp; NF associated with likelihood of subsequent play</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">Intercept</td>
                  <td data-row="1" data-col="2">0.632</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1"></td>
                  <td data-row="2" data-col="2">CI = [0.404, 0.860]</td>
                </tr>
                <tr>
                  <td data-row="3" data-col="1"></td>
                  <td data-row="3" data-col="2">s.e. = 0.116</td>
                </tr>
                <tr>
                  <td data-row="4" data-col="1"></td>
                  <td data-row="4" data-col="2">z = 5.439</td>
                </tr>
                <tr>
                  <td data-row="5" data-col="1"></td>
                  <td data-row="5" data-col="2">p = &lt;0.001</td>
                </tr>
                <tr>
                  <td data-row="6" data-col="1">Game need satisfaction (within)</td>
                  <td data-row="6" data-col="2">0.042</td>
                </tr>
                <tr>
                  <td data-row="7" data-col="1"></td>
                  <td data-row="7" data-col="2">CI = [-0.033, 0.117]</td>
                </tr>
                <tr>
                  <td data-row="8" data-col="1"></td>
                  <td data-row="8" data-col="2">s.e. = 0.038</td>
                </tr>
                <tr>
                  <td data-row="9" data-col="1"></td>
                  <td data-row="9" data-col="2">z = 1.098</td>
                </tr>
                <tr>
                  <td data-row="10" data-col="1"></td>
                  <td data-row="10" data-col="2">p = 0.272</td>
                </tr>
                <tr>
                  <td data-row="11" data-col="1">Game need satisfaction (between)</td>
                  <td data-row="11" data-col="2">0.057</td>
                </tr>
                <tr>
                  <td data-row="12" data-col="1"></td>
                  <td data-row="12" data-col="2">CI = [-0.273, 0.386]</td>
                </tr>
                <tr>
                  <td data-row="13" data-col="1"></td>
                  <td data-row="13" data-col="2">s.e. = 0.168</td>
                </tr>
                <tr>
                  <td data-row="14" data-col="1"></td>
                  <td data-row="14" data-col="2">z = 0.338</td>
                </tr>
                <tr>
                  <td data-row="15" data-col="1"></td>
                  <td data-row="15" data-col="2">p = 0.736</td>
                </tr>
                <tr>
                  <td data-row="16" data-col="1">Global need frustration (within)</td>
                  <td data-row="16" data-col="2">-0.079</td>
                </tr>
                <tr>
                  <td data-row="17" data-col="1"></td>
                  <td data-row="17" data-col="2">CI = [-0.163, 0.005]</td>
                </tr>
                <tr>
                  <td data-row="18" data-col="1"></td>
                  <td data-row="18" data-col="2">s.e. = 0.043</td>
                </tr>
                <tr>
                  <td data-row="19" data-col="1"></td>
                  <td data-row="19" data-col="2">z = -1.847</td>
                </tr>
                <tr>
                  <td data-row="20" data-col="1"></td>
                  <td data-row="20" data-col="2">p = 0.065</td>
                </tr>
                <tr>
                  <td data-row="21" data-col="1">Global need frustration (between)</td>
                  <td data-row="21" data-col="2">0.080</td>
                </tr>
                <tr>
                  <td data-row="22" data-col="1"></td>
                  <td data-row="22" data-col="2">CI = [-0.190, 0.351]</td>
                </tr>
                <tr>
                  <td data-row="23" data-col="1"></td>
                  <td data-row="23" data-col="2">s.e. = 0.138</td>
                </tr>
                <tr>
                  <td data-row="24" data-col="1"></td>
                  <td data-row="24" data-col="2">z = 0.581</td>
                </tr>
                <tr>
                  <td data-row="25" data-col="1"></td>
                  <td data-row="25" data-col="2">p = 0.561</td>
                </tr>
                <tr>
                  <td data-row="26" data-col="1">Num.Obs.</td>
                  <td data-row="26" data-col="2">10317</td>
                </tr>
                <tr>
                  <td data-row="27" data-col="1">AIC</td>
                  <td data-row="27" data-col="2">9726.2</td>
                </tr>
                <tr>
                  <td data-row="28" data-col="1">BIC</td>
                  <td data-row="28" data-col="2">9784.1</td>
                </tr>
                <tr>
                  <td data-row="29" data-col="1">Log.Lik.</td>
                  <td data-row="29" data-col="2">-4855.107</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="h3-displacing-core-domains-predicts-lower-global-need-satisfaction" class="level3" data-number="7.1.3">
<h3 data-number="7.1.3" class="anchored" data-anchor-id="h3-displacing-core-domains-predicts-lower-global-need-satisfaction"><span class="header-section-number">7.1.3</span> H3: Displacing core domains predicts lower global need satisfaction</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Full H3 model output)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use first imputation model for complete summary</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H3: Displacement of core life domain associated with lower Global NF"</span> <span class="ot">=</span> h3mod</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">coef_rename =</span> labels,</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">statistic =</span> <span class="fu">c</span>(</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"conf.int"</span>,</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"s.e. = {std.error}"</span>,</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"t = {statistic}"</span>,</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"p = {p.value}"</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">coef_omit =</span> <span class="st">"wave"</span>, <span class="co"># Omit individual AR(1) wave parameters</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-full-h3" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-full-h3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;7: H3: Complete model summary for displaced core → global NS
</figcaption>
<div aria-describedby="tbl-full-h3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_0p19vrv71873fv83yi7s = TinyTable.createTableFunctions("tinytable_0p19vrv71873fv83yi7s");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '19', j: 2 } ], css_id: 'tinytable_css_abcwoux132wwhl1kkpsg',}, 
          { positions: [ { i: '14', j: 2 } ], css_id: 'tinytable_css_izdv05w5n3bm1uvjj0aw',}, 
          { positions: [ { i: '1', j: 2 }, { i: '2', j: 2 }, { i: '3', j: 2 }, { i: '4', j: 2 }, { i: '5', j: 2 }, { i: '6', j: 2 }, { i: '7', j: 2 }, { i: '8', j: 2 }, { i: '9', j: 2 }, { i: '10', j: 2 }, { i: '11', j: 2 }, { i: '12', j: 2 }, { i: '13', j: 2 }, { i: '15', j: 2 }, { i: '16', j: 2 }, { i: '17', j: 2 }, { i: '18', j: 2 } ], css_id: 'tinytable_css_p0ch9j270k5f6vwx06ym',}, 
          { positions: [ { i: '0', j: 2 } ], css_id: 'tinytable_css_3wmtyfxlzmflms2mdvu2',}, 
          { positions: [ { i: '19', j: 1 } ], css_id: 'tinytable_css_dnckrs1r0pjt0hl8ji9t',}, 
          { positions: [ { i: '14', j: 1 } ], css_id: 'tinytable_css_fwfmt2o26rmafs2npb2f',}, 
          { positions: [ { i: '1', j: 1 }, { i: '2', j: 1 }, { i: '3', j: 1 }, { i: '4', j: 1 }, { i: '5', j: 1 }, { i: '6', j: 1 }, { i: '7', j: 1 }, { i: '8', j: 1 }, { i: '9', j: 1 }, { i: '10', j: 1 }, { i: '11', j: 1 }, { i: '12', j: 1 }, { i: '13', j: 1 }, { i: '15', j: 1 }, { i: '16', j: 1 }, { i: '17', j: 1 }, { i: '18', j: 1 } ], css_id: 'tinytable_css_jw5xbg7lex4o14zn5n8x',}, 
          { positions: [ { i: '0', j: 1 } ], css_id: 'tinytable_css_zxwyca42cibph1jzwndv',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_0p19vrv71873fv83yi7s.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_0p19vrv71873fv83yi7s td.tinytable_css_abcwoux132wwhl1kkpsg, #tinytable_0p19vrv71873fv83yi7s th.tinytable_css_abcwoux132wwhl1kkpsg {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: center; font-size: 0.7em }
    #tinytable_0p19vrv71873fv83yi7s td.tinytable_css_izdv05w5n3bm1uvjj0aw, #tinytable_0p19vrv71873fv83yi7s th.tinytable_css_izdv05w5n3bm1uvjj0aw {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: center; font-size: 0.7em }
    #tinytable_0p19vrv71873fv83yi7s td.tinytable_css_p0ch9j270k5f6vwx06ym, #tinytable_0p19vrv71873fv83yi7s th.tinytable_css_p0ch9j270k5f6vwx06ym { text-align: center; font-size: 0.7em }
    #tinytable_0p19vrv71873fv83yi7s td.tinytable_css_3wmtyfxlzmflms2mdvu2, #tinytable_0p19vrv71873fv83yi7s th.tinytable_css_3wmtyfxlzmflms2mdvu2 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; text-align: center; font-size: 0.7em }
    #tinytable_0p19vrv71873fv83yi7s td.tinytable_css_dnckrs1r0pjt0hl8ji9t, #tinytable_0p19vrv71873fv83yi7s th.tinytable_css_dnckrs1r0pjt0hl8ji9t {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: left; font-size: 0.7em }
    #tinytable_0p19vrv71873fv83yi7s td.tinytable_css_fwfmt2o26rmafs2npb2f, #tinytable_0p19vrv71873fv83yi7s th.tinytable_css_fwfmt2o26rmafs2npb2f {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: left; font-size: 0.7em }
    #tinytable_0p19vrv71873fv83yi7s td.tinytable_css_jw5xbg7lex4o14zn5n8x, #tinytable_0p19vrv71873fv83yi7s th.tinytable_css_jw5xbg7lex4o14zn5n8x { text-align: left; font-size: 0.7em }
    #tinytable_0p19vrv71873fv83yi7s td.tinytable_css_zxwyca42cibph1jzwndv, #tinytable_0p19vrv71873fv83yi7s th.tinytable_css_zxwyca42cibph1jzwndv {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; text-align: left; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_0p19vrv71873fv83yi7s" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1"> </th>
                <th scope="col" data-row="0" data-col="2">H3: Displacement of core life domain associated with lower Global NF</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">Intercept</td>
                  <td data-row="1" data-col="2">4.753</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1"></td>
                  <td data-row="2" data-col="2">[4.662, 4.843]</td>
                </tr>
                <tr>
                  <td data-row="3" data-col="1"></td>
                  <td data-row="3" data-col="2">s.e. = 0.046</td>
                </tr>
                <tr>
                  <td data-row="4" data-col="1"></td>
                  <td data-row="4" data-col="2">t = 102.550</td>
                </tr>
                <tr>
                  <td data-row="5" data-col="1"></td>
                  <td data-row="5" data-col="2">p = &lt;0.001</td>
                </tr>
                <tr>
                  <td data-row="6" data-col="1">Displaced core domain</td>
                  <td data-row="6" data-col="2">-0.048</td>
                </tr>
                <tr>
                  <td data-row="7" data-col="1"></td>
                  <td data-row="7" data-col="2">[-0.090, -0.007]</td>
                </tr>
                <tr>
                  <td data-row="8" data-col="1"></td>
                  <td data-row="8" data-col="2">s.e. = 0.021</td>
                </tr>
                <tr>
                  <td data-row="9" data-col="1"></td>
                  <td data-row="9" data-col="2">t = -2.271</td>
                </tr>
                <tr>
                  <td data-row="10" data-col="1"></td>
                  <td data-row="10" data-col="2">p = 0.023</td>
                </tr>
                <tr>
                  <td data-row="11" data-col="1">SD (Intercept pid)</td>
                  <td data-row="11" data-col="2">1.043</td>
                </tr>
                <tr>
                  <td data-row="12" data-col="1">SD (displaced_core_domainTRUE pid)</td>
                  <td data-row="12" data-col="2">0.054</td>
                </tr>
                <tr>
                  <td data-row="13" data-col="1">Cor (Intercept~displaced_core_domainTRUE pid)</td>
                  <td data-row="13" data-col="2">-0.052</td>
                </tr>
                <tr>
                  <td data-row="14" data-col="1">SD (Observations)</td>
                  <td data-row="14" data-col="2">0.815</td>
                </tr>
                <tr>
                  <td data-row="15" data-col="1">Num.Obs.</td>
                  <td data-row="15" data-col="2">12686</td>
                </tr>
                <tr>
                  <td data-row="16" data-col="1">R2 Marg.</td>
                  <td data-row="16" data-col="2">0.001</td>
                </tr>
                <tr>
                  <td data-row="17" data-col="1">AIC</td>
                  <td data-row="17" data-col="2">35301.8</td>
                </tr>
                <tr>
                  <td data-row="18" data-col="1">BIC</td>
                  <td data-row="18" data-col="2">35361.4</td>
                </tr>
                <tr>
                  <td data-row="19" data-col="1">RMSE</td>
                  <td data-row="19" data-col="2">0.72</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="study-2-game-need-satisfaction-predicts-play-behavior" class="level3" data-number="7.1.4">
<h3 data-number="7.1.4" class="anchored" data-anchor-id="study-2-game-need-satisfaction-predicts-play-behavior"><span class="header-section-number">7.1.4</span> Study 2: Game need satisfaction predicts play behavior</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Full Study 2 model output)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create model summaries for both Study 2 models</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Session Length"</span> <span class="ot">=</span> pws_m1,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Time to Next Session"</span> <span class="ot">=</span> pws_m2</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">coef_rename =</span> labels,</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">statistic =</span> <span class="fu">c</span>(</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"conf.int"</span>,</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"s.e. = {std.error}"</span>,</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"t = {statistic}"</span>,</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"p = {p.value}"</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-full-study2" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-full-study2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;8: Study 2: Complete model summaries for game NS → play behavior
</figcaption>
<div aria-describedby="tbl-full-study2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_tikocdmufc1tsaip64rd = TinyTable.createTableFunctions("tinytable_tikocdmufc1tsaip64rd");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '36', j: 2 }, { i: '36', j: 3 } ], css_id: 'tinytable_css_kum05m5w9kt54do54g7g',}, 
          { positions: [ { i: '29', j: 2 }, { i: '29', j: 3 } ], css_id: 'tinytable_css_2i1qylkzf7oap3z6udvt',}, 
          { positions: [ { i: '1', j: 2 }, { i: '2', j: 2 }, { i: '3', j: 2 }, { i: '4', j: 2 }, { i: '5', j: 2 }, { i: '6', j: 2 }, { i: '7', j: 2 }, { i: '8', j: 2 }, { i: '9', j: 2 }, { i: '10', j: 2 }, { i: '11', j: 2 }, { i: '12', j: 2 }, { i: '13', j: 2 }, { i: '14', j: 2 }, { i: '15', j: 2 }, { i: '16', j: 2 }, { i: '17', j: 2 }, { i: '18', j: 2 }, { i: '19', j: 2 }, { i: '20', j: 2 }, { i: '21', j: 2 }, { i: '22', j: 2 }, { i: '23', j: 2 }, { i: '24', j: 2 }, { i: '25', j: 2 }, { i: '26', j: 2 }, { i: '27', j: 2 }, { i: '28', j: 2 }, { i: '30', j: 2 }, { i: '31', j: 2 }, { i: '32', j: 2 }, { i: '33', j: 2 }, { i: '34', j: 2 }, { i: '35', j: 2 }, { i: '1', j: 3 }, { i: '2', j: 3 }, { i: '3', j: 3 }, { i: '4', j: 3 }, { i: '5', j: 3 }, { i: '6', j: 3 }, { i: '7', j: 3 }, { i: '8', j: 3 }, { i: '9', j: 3 }, { i: '10', j: 3 }, { i: '11', j: 3 }, { i: '12', j: 3 }, { i: '13', j: 3 }, { i: '14', j: 3 }, { i: '15', j: 3 }, { i: '16', j: 3 }, { i: '17', j: 3 }, { i: '18', j: 3 }, { i: '19', j: 3 }, { i: '20', j: 3 }, { i: '21', j: 3 }, { i: '22', j: 3 }, { i: '23', j: 3 }, { i: '24', j: 3 }, { i: '25', j: 3 }, { i: '26', j: 3 }, { i: '27', j: 3 }, { i: '28', j: 3 }, { i: '30', j: 3 }, { i: '31', j: 3 }, { i: '32', j: 3 }, { i: '33', j: 3 }, { i: '34', j: 3 }, { i: '35', j: 3 } ], css_id: 'tinytable_css_j3k28ptdei4w3iv4ca0s',}, 
          { positions: [ { i: '0', j: 2 }, { i: '0', j: 3 } ], css_id: 'tinytable_css_hl4hrbbpp37tv3hc10b0',}, 
          { positions: [ { i: '36', j: 1 } ], css_id: 'tinytable_css_ke4tamafjkewswfhj3dx',}, 
          { positions: [ { i: '29', j: 1 } ], css_id: 'tinytable_css_wzjgj6ohcqx31c6zzu4t',}, 
          { positions: [ { i: '1', j: 1 }, { i: '2', j: 1 }, { i: '3', j: 1 }, { i: '4', j: 1 }, { i: '5', j: 1 }, { i: '6', j: 1 }, { i: '7', j: 1 }, { i: '8', j: 1 }, { i: '9', j: 1 }, { i: '10', j: 1 }, { i: '11', j: 1 }, { i: '12', j: 1 }, { i: '13', j: 1 }, { i: '14', j: 1 }, { i: '15', j: 1 }, { i: '16', j: 1 }, { i: '17', j: 1 }, { i: '18', j: 1 }, { i: '19', j: 1 }, { i: '20', j: 1 }, { i: '21', j: 1 }, { i: '22', j: 1 }, { i: '23', j: 1 }, { i: '24', j: 1 }, { i: '25', j: 1 }, { i: '26', j: 1 }, { i: '27', j: 1 }, { i: '28', j: 1 }, { i: '30', j: 1 }, { i: '31', j: 1 }, { i: '32', j: 1 }, { i: '33', j: 1 }, { i: '34', j: 1 }, { i: '35', j: 1 } ], css_id: 'tinytable_css_nes6vyluq4efqaublfvc',}, 
          { positions: [ { i: '0', j: 1 } ], css_id: 'tinytable_css_1gw9meu55qhcxddd4u54',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_tikocdmufc1tsaip64rd.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_tikocdmufc1tsaip64rd td.tinytable_css_kum05m5w9kt54do54g7g, #tinytable_tikocdmufc1tsaip64rd th.tinytable_css_kum05m5w9kt54do54g7g {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: center; font-size: 0.7em }
    #tinytable_tikocdmufc1tsaip64rd td.tinytable_css_2i1qylkzf7oap3z6udvt, #tinytable_tikocdmufc1tsaip64rd th.tinytable_css_2i1qylkzf7oap3z6udvt {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: center; font-size: 0.7em }
    #tinytable_tikocdmufc1tsaip64rd td.tinytable_css_j3k28ptdei4w3iv4ca0s, #tinytable_tikocdmufc1tsaip64rd th.tinytable_css_j3k28ptdei4w3iv4ca0s { text-align: center; font-size: 0.7em }
    #tinytable_tikocdmufc1tsaip64rd td.tinytable_css_hl4hrbbpp37tv3hc10b0, #tinytable_tikocdmufc1tsaip64rd th.tinytable_css_hl4hrbbpp37tv3hc10b0 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; text-align: center; font-size: 0.7em }
    #tinytable_tikocdmufc1tsaip64rd td.tinytable_css_ke4tamafjkewswfhj3dx, #tinytable_tikocdmufc1tsaip64rd th.tinytable_css_ke4tamafjkewswfhj3dx {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: left; font-size: 0.7em }
    #tinytable_tikocdmufc1tsaip64rd td.tinytable_css_wzjgj6ohcqx31c6zzu4t, #tinytable_tikocdmufc1tsaip64rd th.tinytable_css_wzjgj6ohcqx31c6zzu4t {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: left; font-size: 0.7em }
    #tinytable_tikocdmufc1tsaip64rd td.tinytable_css_nes6vyluq4efqaublfvc, #tinytable_tikocdmufc1tsaip64rd th.tinytable_css_nes6vyluq4efqaublfvc { text-align: left; font-size: 0.7em }
    #tinytable_tikocdmufc1tsaip64rd td.tinytable_css_1gw9meu55qhcxddd4u54, #tinytable_tikocdmufc1tsaip64rd th.tinytable_css_1gw9meu55qhcxddd4u54 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; text-align: left; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_tikocdmufc1tsaip64rd" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1"> </th>
                <th scope="col" data-row="0" data-col="2">Session Length</th>
                <th scope="col" data-row="0" data-col="3">Time to Next Session</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">Intercept</td>
                  <td data-row="1" data-col="2">4.218</td>
                  <td data-row="1" data-col="3">2.414</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1"></td>
                  <td data-row="2" data-col="2">[4.202, 4.233]</td>
                  <td data-row="2" data-col="3">[2.376, 2.451]</td>
                </tr>
                <tr>
                  <td data-row="3" data-col="1"></td>
                  <td data-row="3" data-col="2">s.e. = 0.008</td>
                  <td data-row="3" data-col="3">s.e. = 0.019</td>
                </tr>
                <tr>
                  <td data-row="4" data-col="1"></td>
                  <td data-row="4" data-col="2">t = 530.451</td>
                  <td data-row="4" data-col="3">t = 125.734</td>
                </tr>
                <tr>
                  <td data-row="5" data-col="1"></td>
                  <td data-row="5" data-col="2">p = &lt;0.001</td>
                  <td data-row="5" data-col="3">p = &lt;0.001</td>
                </tr>
                <tr>
                  <td data-row="6" data-col="1">Game need satisfaction (within)</td>
                  <td data-row="6" data-col="2">0.009</td>
                  <td data-row="6" data-col="3">-0.044</td>
                </tr>
                <tr>
                  <td data-row="7" data-col="1"></td>
                  <td data-row="7" data-col="2">[-0.003, 0.021]</td>
                  <td data-row="7" data-col="3">[-0.082, -0.005]</td>
                </tr>
                <tr>
                  <td data-row="8" data-col="1"></td>
                  <td data-row="8" data-col="2">s.e. = 0.006</td>
                  <td data-row="8" data-col="3">s.e. = 0.020</td>
                </tr>
                <tr>
                  <td data-row="9" data-col="1"></td>
                  <td data-row="9" data-col="2">t = 1.409</td>
                  <td data-row="9" data-col="3">t = -2.235</td>
                </tr>
                <tr>
                  <td data-row="10" data-col="1"></td>
                  <td data-row="10" data-col="2">p = 0.159</td>
                  <td data-row="10" data-col="3">p = 0.025</td>
                </tr>
                <tr>
                  <td data-row="11" data-col="1">Game need satisfaction (between)</td>
                  <td data-row="11" data-col="2">0.011</td>
                  <td data-row="11" data-col="3">-0.009</td>
                </tr>
                <tr>
                  <td data-row="12" data-col="1"></td>
                  <td data-row="12" data-col="2">[0.003, 0.019]</td>
                  <td data-row="12" data-col="3">[-0.035, 0.016]</td>
                </tr>
                <tr>
                  <td data-row="13" data-col="1"></td>
                  <td data-row="13" data-col="2">s.e. = 0.004</td>
                  <td data-row="13" data-col="3">s.e. = 0.013</td>
                </tr>
                <tr>
                  <td data-row="14" data-col="1"></td>
                  <td data-row="14" data-col="2">t = 2.555</td>
                  <td data-row="14" data-col="3">t = -0.722</td>
                </tr>
                <tr>
                  <td data-row="15" data-col="1"></td>
                  <td data-row="15" data-col="2">p = 0.011</td>
                  <td data-row="15" data-col="3">p = 0.471</td>
                </tr>
                <tr>
                  <td data-row="16" data-col="1">prev_session_length</td>
                  <td data-row="16" data-col="2">0.001</td>
                  <td data-row="16" data-col="3"></td>
                </tr>
                <tr>
                  <td data-row="17" data-col="1"></td>
                  <td data-row="17" data-col="2">[0.001, 0.001]</td>
                  <td data-row="17" data-col="3"></td>
                </tr>
                <tr>
                  <td data-row="18" data-col="1"></td>
                  <td data-row="18" data-col="2">s.e. = 0.000</td>
                  <td data-row="18" data-col="3"></td>
                </tr>
                <tr>
                  <td data-row="19" data-col="1"></td>
                  <td data-row="19" data-col="2">t = 14.287</td>
                  <td data-row="19" data-col="3"></td>
                </tr>
                <tr>
                  <td data-row="20" data-col="1"></td>
                  <td data-row="20" data-col="2">p = &lt;0.001</td>
                  <td data-row="20" data-col="3"></td>
                </tr>
                <tr>
                  <td data-row="21" data-col="1">prev_session_gap</td>
                  <td data-row="21" data-col="2"></td>
                  <td data-row="21" data-col="3">0.000</td>
                </tr>
                <tr>
                  <td data-row="22" data-col="1"></td>
                  <td data-row="22" data-col="2"></td>
                  <td data-row="22" data-col="3">[0.000, 0.000]</td>
                </tr>
                <tr>
                  <td data-row="23" data-col="1"></td>
                  <td data-row="23" data-col="2"></td>
                  <td data-row="23" data-col="3">s.e. = 0.000</td>
                </tr>
                <tr>
                  <td data-row="24" data-col="1"></td>
                  <td data-row="24" data-col="2"></td>
                  <td data-row="24" data-col="3">t = 7.113</td>
                </tr>
                <tr>
                  <td data-row="25" data-col="1"></td>
                  <td data-row="25" data-col="2"></td>
                  <td data-row="25" data-col="3">p = &lt;0.001</td>
                </tr>
                <tr>
                  <td data-row="26" data-col="1">SD (Intercept pid)</td>
                  <td data-row="26" data-col="2">0.234</td>
                  <td data-row="26" data-col="3">0.701</td>
                </tr>
                <tr>
                  <td data-row="27" data-col="1">SD (game_ns_cw pid)</td>
                  <td data-row="27" data-col="2">0.028</td>
                  <td data-row="27" data-col="3">0.159</td>
                </tr>
                <tr>
                  <td data-row="28" data-col="1">Cor (Intercept~game_ns_cw pid)</td>
                  <td data-row="28" data-col="2">-0.441</td>
                  <td data-row="28" data-col="3">0.118</td>
                </tr>
                <tr>
                  <td data-row="29" data-col="1">SD (Observations)</td>
                  <td data-row="29" data-col="2">0.649</td>
                  <td data-row="29" data-col="3">1.896</td>
                </tr>
                <tr>
                  <td data-row="30" data-col="1">Num.Obs.</td>
                  <td data-row="30" data-col="2">22742</td>
                  <td data-row="30" data-col="3">20724</td>
                </tr>
                <tr>
                  <td data-row="31" data-col="1">R2 Marg.</td>
                  <td data-row="31" data-col="2">0.010</td>
                  <td data-row="31" data-col="3">0.003</td>
                </tr>
                <tr>
                  <td data-row="32" data-col="1">R2 Cond.</td>
                  <td data-row="32" data-col="2">0.124</td>
                  <td data-row="32" data-col="3">0.125</td>
                </tr>
                <tr>
                  <td data-row="33" data-col="1">AIC</td>
                  <td data-row="33" data-col="2">242285.4</td>
                  <td data-row="33" data-col="3">185815.0</td>
                </tr>
                <tr>
                  <td data-row="34" data-col="1">BIC</td>
                  <td data-row="34" data-col="2">242349.6</td>
                  <td data-row="34" data-col="3">185878.5</td>
                </tr>
                <tr>
                  <td data-row="35" data-col="1">ICC</td>
                  <td data-row="35" data-col="2">0.1</td>
                  <td data-row="35" data-col="3">0.1</td>
                </tr>
                <tr>
                  <td data-row="36" data-col="1">RMSE</td>
                  <td data-row="36" data-col="2">0.63</td>
                  <td data-row="36" data-col="3">1.83</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
</section>
<section id="diagnostics" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="diagnostics"><span class="header-section-number">7.2</span> Diagnostics</h2>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare observed vs imputed distributions (pooled across waves)</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>daily_imputed <span class="sc">|&gt;</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(global_ns, global_nf, game_ns),</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"variable"</span>,</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"value"</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(value)) <span class="sc">|&gt;</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">data_type =</span> <span class="fu">if_else</span>(.imp <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"Observed"</span>, <span class="st">"Imputed"</span>),</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">data_type =</span> <span class="fu">factor</span>(data_type, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Observed"</span>, <span class="st">"Imputed"</span>)),</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">variable =</span> <span class="fu">factor</span>(</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>      variable,</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"game_ns"</span>, <span class="st">"global_ns"</span>, <span class="st">"global_nf"</span>),</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">c</span>(labels[<span class="st">"game_ns"</span>], labels[<span class="st">"global_ns"</span>], labels[<span class="st">"global_nf"</span>])</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">color =</span> data_type, <span class="at">group =</span> .imp)) <span class="sc">+</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">linewidth =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Observed"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Imputed"</span> <span class="ot">=</span> <span class="st">"steelblue"</span>)</span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>variable, <span class="at">scales =</span> <span class="st">"free"</span>, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="cn">NULL</span>, <span class="at">x =</span> <span class="st">"Value"</span>, <span class="at">y =</span> <span class="st">"Density"</span>) <span class="sc">+</span></span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-imputation" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-imputation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-imputation-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-imputation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Imputed vs observed distributions for need satisfaction/frustration variables
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="sensitivity-analyses" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="sensitivity-analyses"><span class="header-section-number">7.3</span> Sensitivity Analyses</h2>
<p>We conducted several sensitivity analyses to assess the robustness of our findings regarding the relationship between need satisfaction/frustration and subsequent play behavior.</p>
<section id="s1-temporal-window-robustness" class="level3" data-number="7.3.1">
<h3 data-number="7.3.1" class="anchored" data-anchor-id="s1-temporal-window-robustness"><span class="header-section-number">7.3.1</span> S1: Temporal window robustness</h3>
<p>Testing whether the temporal window affects results. The main analysis used 24 hours post-survey. Here we test: (a) 12 hours post-survey, (b) 6 hours post-survey, and (c) 24 hours pre-survey (reverse temporal ordering to test bidirectionality).</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (S1: Fit models with 12-hour play window)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>sens1_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens1_fits.rds"</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>sens1_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens1_pooled.rds"</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens1_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(sens1_pooled_file)) {</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S1 model fits"</span>)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  sens1_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens1_cache_file)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  sens1_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens1_pooled_file)</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S1 models..."</span>)</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  sens1_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting S1 model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_12h <span class="sc">~</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>  sens1_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(sens1_fits)</span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens1_fits, sens1_cache_file)</span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens1_pooled, sens1_pooled_file)</span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S1 models saved to cache"</span>)</span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (S1b: Fit models with 6-hour play window)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>sens1b_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens1b_fits.rds"</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>sens1b_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens1b_pooled.rds"</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens1b_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(sens1b_pooled_file)) {</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S1b model fits"</span>)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  sens1b_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens1b_cache_file)</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  sens1b_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens1b_pooled_file)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S1b models..."</span>)</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>  sens1b_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting S1b model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_6h <span class="sc">~</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a>  sens1b_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(sens1b_fits)</span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens1b_fits, sens1b_cache_file)</span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens1b_pooled, sens1b_pooled_file)</span>
<span id="cb34-34"><a href="#cb34-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S1b models saved to cache"</span>)</span>
<span id="cb34-35"><a href="#cb34-35" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (S1c: Fit models with 24-hour pre-survey play window)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>sens1c_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens1c_fits.rds"</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>sens1c_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens1c_pooled.rds"</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens1c_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(sens1c_pooled_file)) {</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S1c model fits"</span>)</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  sens1c_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens1c_cache_file)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  sens1c_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens1c_pooled_file)</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S1c models..."</span>)</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>  sens1c_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting S1c model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h_pre <span class="sc">~</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a>  sens1c_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(sens1c_fits)</span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens1c_fits, sens1c_cache_file)</span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens1c_pooled, sens1c_pooled_file)</span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S1c models saved to cache"</span>)</span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Create combined temporal windows table)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all results</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_results</span>(h2_pooled, <span class="st">"24h post"</span>),</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_results</span>(sens1_pooled, <span class="st">"12h post"</span>),</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_results</span>(sens1b_pooled, <span class="st">"6h post"</span>),</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_results</span>(sens1c_pooled, <span class="st">"24h pre"</span>)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> window,</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> result,</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_sort =</span> <span class="cn">FALSE</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Parameter =</span> term) <span class="sc">|&gt;</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-s1-temporal-windows" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-s1-temporal-windows-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9: S1: H2 associations across different temporal windows. Main analysis (24h post-survey) shown for comparison. Pre-survey window tests reverse temporal ordering.
</figcaption>
<div aria-describedby="tbl-s1-temporal-windows-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_ge1r5qdupk1ivipwbvzt = TinyTable.createTableFunctions("tinytable_ge1r5qdupk1ivipwbvzt");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '2', j: 1 }, { i: '2', j: 2 }, { i: '2', j: 3 }, { i: '2', j: 4 }, { i: '2', j: 5 } ], css_id: 'tinytable_css_ze7h93thwgrk1qxxxu12',}, 
          { positions: [ { i: '1', j: 1 }, { i: '1', j: 2 }, { i: '1', j: 3 }, { i: '1', j: 4 }, { i: '1', j: 5 } ], css_id: 'tinytable_css_nq7o5subbiipi489ygl1',}, 
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 } ], css_id: 'tinytable_css_n6d8a2n5tloiq96j6efc',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_ge1r5qdupk1ivipwbvzt.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_ge1r5qdupk1ivipwbvzt td.tinytable_css_ze7h93thwgrk1qxxxu12, #tinytable_ge1r5qdupk1ivipwbvzt th.tinytable_css_ze7h93thwgrk1qxxxu12 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-size: 0.7em }
    #tinytable_ge1r5qdupk1ivipwbvzt td.tinytable_css_nq7o5subbiipi489ygl1, #tinytable_ge1r5qdupk1ivipwbvzt th.tinytable_css_nq7o5subbiipi489ygl1 { font-size: 0.7em }
    #tinytable_ge1r5qdupk1ivipwbvzt td.tinytable_css_n6d8a2n5tloiq96j6efc, #tinytable_ge1r5qdupk1ivipwbvzt th.tinytable_css_n6d8a2n5tloiq96j6efc {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_ge1r5qdupk1ivipwbvzt" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1">Parameter</th>
                <th scope="col" data-row="0" data-col="2">24h post</th>
                <th scope="col" data-row="0" data-col="3">12h post</th>
                <th scope="col" data-row="0" data-col="4">6h post</th>
                <th scope="col" data-row="0" data-col="5">24h pre</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">Game need frustration</td>
                  <td data-row="1" data-col="2">0.042 (0.277)</td>
                  <td data-row="1" data-col="3">0.04 (0.235)</td>
                  <td data-row="1" data-col="4">0.043 (0.19)</td>
                  <td data-row="1" data-col="5">0.14 (&lt;.001)</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1">Global need frustration</td>
                  <td data-row="2" data-col="2">-0.08 (0.062)</td>
                  <td data-row="2" data-col="3">-0.016 (0.668)</td>
                  <td data-row="2" data-col="4">-0.012 (0.751)</td>
                  <td data-row="2" data-col="5">-0.081 (0.07)</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="s2-random-effects-specification-robustness" class="level3" data-number="7.3.2">
<h3 data-number="7.3.2" class="anchored" data-anchor-id="s2-random-effects-specification-robustness"><span class="header-section-number">7.3.2</span> S2: Random effects specification robustness</h3>
<p>Random slopes allow associations to vary across individuals, which is theoretically appropriate for these constructs. The main analysis used a random intercept only model due to convergence issues in frequentist estimation. Here we test whether this simplification affects fixed effect estimates by comparing four specifications: (a) no random slopes (main model), (b) random slope for game NS within-person only, (c) random slope for global NF within-person only, and (d) both random slopes simultaneously using Bayesian estimation (which handles complex random effects more robustly).</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (S2: Fit Bayesian model with random slopes)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>sens2_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens2_fit.rds"</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens2_cache_file)) {</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S2 model fit"</span>)</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  sens2_fit <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens2_cache_file)</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S2 Bayesian model..."</span>)</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use complete cases only</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>  dat_complete <span class="ot">&lt;-</span> daily_imputed <span class="sc">|&gt;</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>      .imp <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(global_ns),</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(global_nf),</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(game_ns),</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(game_nf),</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(telemetry_played_any_24h)</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit Bayesian model with random slopes</span></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>  sens2_fit <span class="ot">&lt;-</span> <span class="fu">brm</span>(</span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>      game_ns_cw <span class="sc">+</span></span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>      game_ns_cb <span class="sc">+</span></span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a>      global_nf_cw <span class="sc">+</span></span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>      global_nf_cb <span class="sc">+</span></span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>      (<span class="dv">1</span> <span class="sc">+</span> game_ns_cw <span class="sc">+</span> global_nf_cw <span class="sc">|</span> pid),</span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="fu">bernoulli</span>(),</span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> dat_complete,</span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">chains =</span> <span class="dv">4</span>,</span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">cores =</span> <span class="dv">4</span>,</span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">iter =</span> <span class="dv">5000</span>,</span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">warmup =</span> <span class="dv">1000</span>,</span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">seed =</span> <span class="dv">8675309</span></span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb37-39"><a href="#cb37-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens2_fit, sens2_cache_file)</span>
<span id="cb37-40"><a href="#cb37-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S2 model saved to cache"</span>)</span>
<span id="cb37-41"><a href="#cb37-41" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (S2: Fit H2 models with one random slope at a time)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>sens2_h2a_cache <span class="ot">&lt;-</span> <span class="st">"data/models/sens2_h2a_fits.rds"</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>sens2_h2a_pooled_cache <span class="ot">&lt;-</span> <span class="st">"data/models/sens2_h2a_pooled.rds"</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>sens2_h2b_cache <span class="ot">&lt;-</span> <span class="st">"data/models/sens2_h2b_fits.rds"</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>sens2_h2b_pooled_cache <span class="ot">&lt;-</span> <span class="st">"data/models/sens2_h2b_pooled.rds"</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">file.exists</span>(sens2_h2a_cache) <span class="sc">&amp;&amp;</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">file.exists</span>(sens2_h2a_pooled_cache) <span class="sc">&amp;&amp;</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">file.exists</span>(sens2_h2b_cache) <span class="sc">&amp;&amp;</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">file.exists</span>(sens2_h2b_pooled_cache)</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>) {</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S2 one-slope model fits"</span>)</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>  s2_h2a_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens2_h2a_cache)</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>  s2_h2a_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens2_h2a_pooled_cache)</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>  s2_h2b_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens2_h2b_cache)</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>  s2_h2b_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens2_h2b_pooled_cache)</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S2 one-slope models..."</span>)</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># H2a: Random slope for game_ns_cw only</span></span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S2 H2a models..."</span>)</span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>  s2_h2a_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting S2 H2a model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">+</span> game_ns_cw <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a>  s2_h2a_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(s2_h2a_fits)</span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a>  <span class="co"># H2b: Random slope for global_nf_cw only</span></span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S2 H2b models..."</span>)</span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a>  s2_h2b_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting S2 H2b model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb38-47"><a href="#cb38-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb38-48"><a href="#cb38-48" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb38-49"><a href="#cb38-49" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb38-50"><a href="#cb38-50" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb38-51"><a href="#cb38-51" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb38-52"><a href="#cb38-52" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb38-53"><a href="#cb38-53" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">+</span> global_nf_cw <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb38-54"><a href="#cb38-54" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb38-55"><a href="#cb38-55" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb38-56"><a href="#cb38-56" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb38-57"><a href="#cb38-57" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb38-58"><a href="#cb38-58" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb38-59"><a href="#cb38-59" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb38-60"><a href="#cb38-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-61"><a href="#cb38-61" aria-hidden="true" tabindex="-1"></a>  s2_h2b_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(s2_h2b_fits)</span>
<span id="cb38-62"><a href="#cb38-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-63"><a href="#cb38-63" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb38-64"><a href="#cb38-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(s2_h2a_fits, sens2_h2a_cache)</span>
<span id="cb38-65"><a href="#cb38-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(s2_h2a_pooled, sens2_h2a_pooled_cache)</span>
<span id="cb38-66"><a href="#cb38-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(s2_h2b_fits, sens2_h2b_cache)</span>
<span id="cb38-67"><a href="#cb38-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(s2_h2b_pooled, sens2_h2b_pooled_cache)</span>
<span id="cb38-68"><a href="#cb38-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S2 one-slope models saved to cache"</span>)</span>
<span id="cb38-69"><a href="#cb38-69" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Create S2 combined specification comparison table)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract estimates from main H2 model (no random slopes)</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>h2_simple <span class="ot">&lt;-</span> <span class="fu">summary</span>(h2_pooled) <span class="sc">|&gt;</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    term <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"game_ns_cw"</span>, <span class="st">"global_nf_cw"</span>)</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">result =</span> <span class="fu">glue</span>(</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{round(estimate, 3)} ({ifelse(p.value &lt; 0.001, '&lt;.001', round(p.value, 3))})"</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, result) <span class="sc">|&gt;</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">specification =</span> <span class="st">"No slopes"</span>)</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract estimates from one-slope models</span></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>h2a_est <span class="ot">&lt;-</span> <span class="fu">summary</span>(s2_h2a_pooled) <span class="sc">|&gt;</span></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>    term <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"game_ns_cw"</span>, <span class="st">"global_nf_cw"</span>)</span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">result =</span> <span class="fu">glue</span>(</span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{round(estimate, 3)} ({ifelse(p.value &lt; 0.001, '&lt;.001', round(p.value, 3))})"</span></span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, result) <span class="sc">|&gt;</span></span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">specification =</span> <span class="st">"RS: game NS"</span>)</span>
<span id="cb39-28"><a href="#cb39-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-29"><a href="#cb39-29" aria-hidden="true" tabindex="-1"></a>h2b_est <span class="ot">&lt;-</span> <span class="fu">summary</span>(s2_h2b_pooled) <span class="sc">|&gt;</span></span>
<span id="cb39-30"><a href="#cb39-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb39-31"><a href="#cb39-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb39-32"><a href="#cb39-32" aria-hidden="true" tabindex="-1"></a>    term <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"game_ns_cw"</span>, <span class="st">"global_nf_cw"</span>)</span>
<span id="cb39-33"><a href="#cb39-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb39-34"><a href="#cb39-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb39-35"><a href="#cb39-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">result =</span> <span class="fu">glue</span>(</span>
<span id="cb39-36"><a href="#cb39-36" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{round(estimate, 3)} ({ifelse(p.value &lt; 0.001, '&lt;.001', round(p.value, 3))})"</span></span>
<span id="cb39-37"><a href="#cb39-37" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb39-38"><a href="#cb39-38" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb39-39"><a href="#cb39-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, result) <span class="sc">|&gt;</span></span>
<span id="cb39-40"><a href="#cb39-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">specification =</span> <span class="st">"RS: global NF"</span>)</span>
<span id="cb39-41"><a href="#cb39-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-42"><a href="#cb39-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract estimates from Bayesian model with both slopes</span></span>
<span id="cb39-43"><a href="#cb39-43" aria-hidden="true" tabindex="-1"></a>sens2_est <span class="ot">&lt;-</span> <span class="fu">summary</span>(sens2_fit)<span class="sc">$</span>fixed <span class="sc">|&gt;</span></span>
<span id="cb39-44"><a href="#cb39-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">rownames =</span> <span class="st">"term"</span>) <span class="sc">|&gt;</span></span>
<span id="cb39-45"><a href="#cb39-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb39-46"><a href="#cb39-46" aria-hidden="true" tabindex="-1"></a>    term <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"game_ns_cw"</span>, <span class="st">"global_nf_cw"</span>)</span>
<span id="cb39-47"><a href="#cb39-47" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb39-48"><a href="#cb39-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb39-49"><a href="#cb39-49" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Bayesian doesn't have p-values, show 95% CI instead</span></span>
<span id="cb39-50"><a href="#cb39-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">result =</span> <span class="fu">glue</span>(</span>
<span id="cb39-51"><a href="#cb39-51" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{round(Estimate, 3)} [{round(`l-95% CI`, 3)}, {round(`u-95% CI`, 3)}]"</span></span>
<span id="cb39-52"><a href="#cb39-52" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb39-53"><a href="#cb39-53" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb39-54"><a href="#cb39-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, result) <span class="sc">|&gt;</span></span>
<span id="cb39-55"><a href="#cb39-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">specification =</span> <span class="st">"Both slopes (Bayesian)"</span>)</span>
<span id="cb39-56"><a href="#cb39-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-57"><a href="#cb39-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all specifications</span></span>
<span id="cb39-58"><a href="#cb39-58" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(h2_simple, h2a_est, h2b_est, sens2_est) <span class="sc">|&gt;</span></span>
<span id="cb39-59"><a href="#cb39-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb39-60"><a href="#cb39-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term)</span>
<span id="cb39-61"><a href="#cb39-61" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb39-62"><a href="#cb39-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> specification, <span class="at">values_from =</span> result) <span class="sc">|&gt;</span></span>
<span id="cb39-63"><a href="#cb39-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Parameter =</span> term) <span class="sc">|&gt;</span></span>
<span id="cb39-64"><a href="#cb39-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb39-65"><a href="#cb39-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb39-66"><a href="#cb39-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-s2-specification-comparison" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-s2-specification-comparison-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;10: S2: H2 fixed effect estimates across random effects specifications. Frequentist estimates (first three columns) show estimate (p-value). Bayesian estimates show estimate [95% credible interval].
</figcaption>
<div aria-describedby="tbl-s2-specification-comparison-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_aa72ah0dtuvhovssjfy9 = TinyTable.createTableFunctions("tinytable_aa72ah0dtuvhovssjfy9");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '2', j: 1 }, { i: '2', j: 2 }, { i: '2', j: 3 }, { i: '2', j: 4 }, { i: '2', j: 5 } ], css_id: 'tinytable_css_kmcyy1erd9m9r6qgwpdv',}, 
          { positions: [ { i: '1', j: 1 }, { i: '1', j: 2 }, { i: '1', j: 3 }, { i: '1', j: 4 }, { i: '1', j: 5 } ], css_id: 'tinytable_css_14kxy4r5cs7ziympzjyx',}, 
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 } ], css_id: 'tinytable_css_ltbu05840geyrpn5trvw',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_aa72ah0dtuvhovssjfy9.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_aa72ah0dtuvhovssjfy9 td.tinytable_css_kmcyy1erd9m9r6qgwpdv, #tinytable_aa72ah0dtuvhovssjfy9 th.tinytable_css_kmcyy1erd9m9r6qgwpdv {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-size: 0.7em }
    #tinytable_aa72ah0dtuvhovssjfy9 td.tinytable_css_14kxy4r5cs7ziympzjyx, #tinytable_aa72ah0dtuvhovssjfy9 th.tinytable_css_14kxy4r5cs7ziympzjyx { font-size: 0.7em }
    #tinytable_aa72ah0dtuvhovssjfy9 td.tinytable_css_ltbu05840geyrpn5trvw, #tinytable_aa72ah0dtuvhovssjfy9 th.tinytable_css_ltbu05840geyrpn5trvw {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_aa72ah0dtuvhovssjfy9" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1">Parameter</th>
                <th scope="col" data-row="0" data-col="2">No slopes</th>
                <th scope="col" data-row="0" data-col="3">RS: game NS</th>
                <th scope="col" data-row="0" data-col="4">RS: global NF</th>
                <th scope="col" data-row="0" data-col="5">Both slopes (Bayesian)</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">Game need satisfaction (within)</td>
                  <td data-row="1" data-col="2">0.042 (0.277)</td>
                  <td data-row="1" data-col="3">0.036 (0.362)</td>
                  <td data-row="1" data-col="4">0.043 (0.266)</td>
                  <td data-row="1" data-col="5">0.039 [-0.034, 0.111]</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1">Global need frustration (within)</td>
                  <td data-row="2" data-col="2">-0.08 (0.062)</td>
                  <td data-row="2" data-col="3">-0.08 (0.063)</td>
                  <td data-row="2" data-col="4">-0.079 (0.093)</td>
                  <td data-row="2" data-col="5">-0.063 [-0.153, 0.028]</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="s3-play-volume-continuous-outcome" class="level3" data-number="7.3.3">
<h3 data-number="7.3.3" class="anchored" data-anchor-id="s3-play-volume-continuous-outcome"><span class="header-section-number">7.3.3</span> S3: Play volume (continuous outcome)</h3>
<p>Testing whether the predictors have a linear association with play volume in minutes, rather than binary play occurrence. Uses Gaussian family for continuous outcome.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (S3: Fit models predicting continuous play volume)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>sens3_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens3_fits.rds"</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>sens3_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens3_pooled.rds"</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens3_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(sens3_pooled_file)) {</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S3 model fits"</span>)</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  sens3_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens3_cache_file)</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>  sens3_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens3_pooled_file)</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S3 models..."</span>)</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit model to each imputed dataset</span></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>  sens3_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting S3 model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>      play_minutes_24h <span class="sc">~</span></span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">gaussian</span>()</span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a>  sens3_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(sens3_fits)</span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb40-32"><a href="#cb40-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens3_fits, sens3_cache_file)</span>
<span id="cb40-33"><a href="#cb40-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens3_pooled, sens3_pooled_file)</span>
<span id="cb40-34"><a href="#cb40-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S3 models saved to cache"</span>)</span>
<span id="cb40-35"><a href="#cb40-35" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Create S5 results table)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sens3_pooled) <span class="sc">|&gt;</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>, <span class="sc">!</span><span class="fu">str_detect</span>(term, <span class="st">"_cb"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, estimate, std.error, statistic, p.value) <span class="sc">|&gt;</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term),</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(estimate, std.error, statistic), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>)),</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">p.value =</span> <span class="fu">case_when</span>(</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;.001"</span>,</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(<span class="fu">round</span>(p.value, <span class="dv">3</span>))</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">Parameter =</span> term,</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Estimate =</span> estimate,</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">SE =</span> std.error,</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">t =</span> statistic,</span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> p.value</span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-s3-results" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-s3-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;11: S3: H2 predicting continuous play volume (minutes)
</figcaption>
<div aria-describedby="tbl-s3-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_1t855408v6836m1sqa7y = TinyTable.createTableFunctions("tinytable_1t855408v6836m1sqa7y");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '3', j: 1 }, { i: '3', j: 2 }, { i: '3', j: 3 }, { i: '3', j: 4 }, { i: '3', j: 5 } ], css_id: 'tinytable_css_er1peaxn5r0h2pcg4ls8',}, 
          { positions: [ { i: '1', j: 1 }, { i: '2', j: 1 }, { i: '1', j: 2 }, { i: '2', j: 2 }, { i: '1', j: 3 }, { i: '2', j: 3 }, { i: '1', j: 4 }, { i: '2', j: 4 }, { i: '1', j: 5 }, { i: '2', j: 5 } ], css_id: 'tinytable_css_5wz92kpj8t5w5l5krti6',}, 
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 } ], css_id: 'tinytable_css_n0g7x5l0bv15a19sllkw',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_1t855408v6836m1sqa7y.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_1t855408v6836m1sqa7y td.tinytable_css_er1peaxn5r0h2pcg4ls8, #tinytable_1t855408v6836m1sqa7y th.tinytable_css_er1peaxn5r0h2pcg4ls8 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-size: 0.7em }
    #tinytable_1t855408v6836m1sqa7y td.tinytable_css_5wz92kpj8t5w5l5krti6, #tinytable_1t855408v6836m1sqa7y th.tinytable_css_5wz92kpj8t5w5l5krti6 { font-size: 0.7em }
    #tinytable_1t855408v6836m1sqa7y td.tinytable_css_n0g7x5l0bv15a19sllkw, #tinytable_1t855408v6836m1sqa7y th.tinytable_css_n0g7x5l0bv15a19sllkw {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_1t855408v6836m1sqa7y" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1">Parameter</th>
                <th scope="col" data-row="0" data-col="2">Estimate</th>
                <th scope="col" data-row="0" data-col="3">SE</th>
                <th scope="col" data-row="0" data-col="4">t</th>
                <th scope="col" data-row="0" data-col="5">p</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">Game need frustration</td>
                  <td data-row="1" data-col="2">0.042</td>
                  <td data-row="1" data-col="3">0.038</td>
                  <td data-row="1" data-col="4">1.081</td>
                  <td data-row="1" data-col="5">0.28</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1">Global need frustration</td>
                  <td data-row="2" data-col="2">-0.076</td>
                  <td data-row="2" data-col="3">0.043</td>
                  <td data-row="2" data-col="4">-1.755</td>
                  <td data-row="2" data-col="5">0.079</td>
                </tr>
                <tr>
                  <td data-row="3" data-col="1">Time to next session</td>
                  <td data-row="3" data-col="2">0.038</td>
                  <td data-row="3" data-col="3">0.041</td>
                  <td data-row="3" data-col="4">0.921</td>
                  <td data-row="3" data-col="5">0.357</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="s4-complete-cases-only-no-imputation" class="level3" data-number="7.3.4">
<h3 data-number="7.3.4" class="anchored" data-anchor-id="s4-complete-cases-only-no-imputation"><span class="header-section-number">7.3.4</span> S4: Complete cases only (no imputation)</h3>
<p>Testing whether multiple imputation introduced bias. Main analysis used MICE with PMM; here we analyze only complete cases.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (S4: Fit models on complete cases only)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>sens4_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens4_fit.rds"</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens4_cache_file)) {</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S4 model fit"</span>)</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  sens4_fit <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens4_cache_file)</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S4 model..."</span>)</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use .imp == 0 (original data with missingness)</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to complete cases on key variables</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>  dat_complete <span class="ot">&lt;-</span> daily_imputed <span class="sc">|&gt;</span></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>      .imp <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(global_ns),</span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(global_nf),</span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(game_ns),</span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(game_nf),</span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(telemetry_played_any_24h)</span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>  sens4_fit <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(</span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a>      game_ns_cw <span class="sc">+</span></span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a>      game_ns_cb <span class="sc">+</span></span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a>      global_nf_cw <span class="sc">+</span></span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a>      global_nf_cb <span class="sc">+</span></span>
<span id="cb42-28"><a href="#cb42-28" aria-hidden="true" tabindex="-1"></a>      (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb42-29"><a href="#cb42-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb42-30"><a href="#cb42-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> dat_complete,</span>
<span id="cb42-31"><a href="#cb42-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb42-32"><a href="#cb42-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb42-33"><a href="#cb42-33" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb42-34"><a href="#cb42-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-35"><a href="#cb42-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb42-36"><a href="#cb42-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens4_fit, sens4_cache_file)</span>
<span id="cb42-37"><a href="#cb42-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S4 model saved to cache"</span>)</span>
<span id="cb42-38"><a href="#cb42-38" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Create S4 results table)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sens4_fit)<span class="sc">$</span>coefficients<span class="sc">$</span>cond <span class="sc">|&gt;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">rownames =</span> <span class="st">"term"</span>) <span class="sc">|&gt;</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>, <span class="sc">!</span><span class="fu">str_detect</span>(term, <span class="st">"_cb"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, Estimate, <span class="st">`</span><span class="at">Std. Error</span><span class="st">`</span>, <span class="st">`</span><span class="at">z value</span><span class="st">`</span>, <span class="st">`</span><span class="at">Pr(&gt;|z|)</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term),</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(Estimate, <span class="st">`</span><span class="at">Std. Error</span><span class="st">`</span>, <span class="st">`</span><span class="at">z value</span><span class="st">`</span>), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>)),</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Pr(&gt;|z|)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Pr(&gt;|z|)</span><span class="st">`</span> <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;.001"</span>,</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="st">`</span><span class="at">Pr(&gt;|z|)</span><span class="st">`</span>, <span class="dv">3</span>))</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Parameter =</span> term, <span class="at">SE =</span> <span class="st">`</span><span class="at">Std. Error</span><span class="st">`</span>, <span class="at">z =</span> <span class="st">`</span><span class="at">z value</span><span class="st">`</span>, <span class="at">p =</span> <span class="st">`</span><span class="at">Pr(&gt;|z|)</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-s4-results" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-s4-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;12: S4: H2 with complete cases only (no imputation)
</figcaption>
<div aria-describedby="tbl-s4-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_j5d3dv8rq7xme6lhlbzq = TinyTable.createTableFunctions("tinytable_j5d3dv8rq7xme6lhlbzq");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '2', j: 1 }, { i: '2', j: 2 }, { i: '2', j: 3 }, { i: '2', j: 4 }, { i: '2', j: 5 } ], css_id: 'tinytable_css_k51uxltz4lqwvatgimuv',}, 
          { positions: [ { i: '1', j: 1 }, { i: '1', j: 2 }, { i: '1', j: 3 }, { i: '1', j: 4 }, { i: '1', j: 5 } ], css_id: 'tinytable_css_7zw1er4dr3oqc93doe8i',}, 
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 } ], css_id: 'tinytable_css_8ma0mfd0acv8x8401c3v',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_j5d3dv8rq7xme6lhlbzq.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_j5d3dv8rq7xme6lhlbzq td.tinytable_css_k51uxltz4lqwvatgimuv, #tinytable_j5d3dv8rq7xme6lhlbzq th.tinytable_css_k51uxltz4lqwvatgimuv {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-size: 0.7em }
    #tinytable_j5d3dv8rq7xme6lhlbzq td.tinytable_css_7zw1er4dr3oqc93doe8i, #tinytable_j5d3dv8rq7xme6lhlbzq th.tinytable_css_7zw1er4dr3oqc93doe8i { font-size: 0.7em }
    #tinytable_j5d3dv8rq7xme6lhlbzq td.tinytable_css_8ma0mfd0acv8x8401c3v, #tinytable_j5d3dv8rq7xme6lhlbzq th.tinytable_css_8ma0mfd0acv8x8401c3v {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_j5d3dv8rq7xme6lhlbzq" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1">Parameter</th>
                <th scope="col" data-row="0" data-col="2">Estimate</th>
                <th scope="col" data-row="0" data-col="3">SE</th>
                <th scope="col" data-row="0" data-col="4">z</th>
                <th scope="col" data-row="0" data-col="5">p</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">Game need satisfaction (within)</td>
                  <td data-row="1" data-col="2">0.042</td>
                  <td data-row="1" data-col="3">0.038</td>
                  <td data-row="1" data-col="4">1.096</td>
                  <td data-row="1" data-col="5">0.273</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1">Global need frustration (within)</td>
                  <td data-row="2" data-col="2">-0.077</td>
                  <td data-row="2" data-col="3">0.043</td>
                  <td data-row="2" data-col="4">-1.797</td>
                  <td data-row="2" data-col="5">0.072</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="s5-full-sample-imputation-preregistered-approach" class="level3" data-number="7.3.5">
<h3 data-number="7.3.5" class="anchored" data-anchor-id="s5-full-sample-imputation-preregistered-approach"><span class="header-section-number">7.3.5</span> S5: Full sample imputation (preregistered approach)</h3>
<p>Main analysis imputed analytical sample only (≥15 waves, N~555) for statistical soundness. Preregistration specified imputing all participants. Here we implement that approach for comparison, though note that imputing 80%+ missing data for sparse participants is statistically questionable.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (S5: Run imputation on full sample)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set M for full sample imputation (can be lower for testing)</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>M_FULL_SAMPLE <span class="ot">&lt;-</span> <span class="dv">3</span> <span class="co"># Set to 27 for final run</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="st">"=== FULL SAMPLE IMPUTATION (PREREGISTERED) ==="</span>)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Imputing all {length(full_eligible_pids)} participants with M={M_FULL_SAMPLE}"</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Separate telemetry (no missing data) - use full sample</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>telemetry_vars_full <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    pid,</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    wave,</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    date,</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h,</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>    play_minutes_24h,</span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_12h,</span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>    play_minutes_12h,</span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_6h,</span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>    play_minutes_6h,</span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h_pre,</span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a>    play_minutes_24h_pre</span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to wide format for imputation - NO FILTER</span></span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a>surveys_wide_full <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb44-27"><a href="#cb44-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb44-28"><a href="#cb44-28" aria-hidden="true" tabindex="-1"></a>    pid,</span>
<span id="cb44-29"><a href="#cb44-29" aria-hidden="true" tabindex="-1"></a>    wave,</span>
<span id="cb44-30"><a href="#cb44-30" aria-hidden="true" tabindex="-1"></a>    age,</span>
<span id="cb44-31"><a href="#cb44-31" aria-hidden="true" tabindex="-1"></a>    gender,</span>
<span id="cb44-32"><a href="#cb44-32" aria-hidden="true" tabindex="-1"></a>    edu_level,</span>
<span id="cb44-33"><a href="#cb44-33" aria-hidden="true" tabindex="-1"></a>    employment,</span>
<span id="cb44-34"><a href="#cb44-34" aria-hidden="true" tabindex="-1"></a>    marital_status,</span>
<span id="cb44-35"><a href="#cb44-35" aria-hidden="true" tabindex="-1"></a>    life_sat_baseline,</span>
<span id="cb44-36"><a href="#cb44-36" aria-hidden="true" tabindex="-1"></a>    wemwbs,</span>
<span id="cb44-37"><a href="#cb44-37" aria-hidden="true" tabindex="-1"></a>    diaries_completed,</span>
<span id="cb44-38"><a href="#cb44-38" aria-hidden="true" tabindex="-1"></a>    self_reported_weekly_play,</span>
<span id="cb44-39"><a href="#cb44-39" aria-hidden="true" tabindex="-1"></a>    self_reported_played_24h,</span>
<span id="cb44-40"><a href="#cb44-40" aria-hidden="true" tabindex="-1"></a>    displaced_core_domain,</span>
<span id="cb44-41"><a href="#cb44-41" aria-hidden="true" tabindex="-1"></a>    bpnsfs_1,</span>
<span id="cb44-42"><a href="#cb44-42" aria-hidden="true" tabindex="-1"></a>    bpnsfs_2,</span>
<span id="cb44-43"><a href="#cb44-43" aria-hidden="true" tabindex="-1"></a>    bpnsfs_3,</span>
<span id="cb44-44"><a href="#cb44-44" aria-hidden="true" tabindex="-1"></a>    bpnsfs_4,</span>
<span id="cb44-45"><a href="#cb44-45" aria-hidden="true" tabindex="-1"></a>    bpnsfs_5,</span>
<span id="cb44-46"><a href="#cb44-46" aria-hidden="true" tabindex="-1"></a>    bpnsfs_6,</span>
<span id="cb44-47"><a href="#cb44-47" aria-hidden="true" tabindex="-1"></a>    bangs_1,</span>
<span id="cb44-48"><a href="#cb44-48" aria-hidden="true" tabindex="-1"></a>    bangs_2,</span>
<span id="cb44-49"><a href="#cb44-49" aria-hidden="true" tabindex="-1"></a>    bangs_3,</span>
<span id="cb44-50"><a href="#cb44-50" aria-hidden="true" tabindex="-1"></a>    bangs_4,</span>
<span id="cb44-51"><a href="#cb44-51" aria-hidden="true" tabindex="-1"></a>    bangs_5,</span>
<span id="cb44-52"><a href="#cb44-52" aria-hidden="true" tabindex="-1"></a>    bangs_6</span>
<span id="cb44-53"><a href="#cb44-53" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb44-54"><a href="#cb44-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb44-55"><a href="#cb44-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_cols =</span> <span class="fu">c</span>(</span>
<span id="cb44-56"><a href="#cb44-56" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb44-57"><a href="#cb44-57" aria-hidden="true" tabindex="-1"></a>      age,</span>
<span id="cb44-58"><a href="#cb44-58" aria-hidden="true" tabindex="-1"></a>      gender,</span>
<span id="cb44-59"><a href="#cb44-59" aria-hidden="true" tabindex="-1"></a>      edu_level,</span>
<span id="cb44-60"><a href="#cb44-60" aria-hidden="true" tabindex="-1"></a>      employment,</span>
<span id="cb44-61"><a href="#cb44-61" aria-hidden="true" tabindex="-1"></a>      marital_status,</span>
<span id="cb44-62"><a href="#cb44-62" aria-hidden="true" tabindex="-1"></a>      life_sat_baseline,</span>
<span id="cb44-63"><a href="#cb44-63" aria-hidden="true" tabindex="-1"></a>      wemwbs,</span>
<span id="cb44-64"><a href="#cb44-64" aria-hidden="true" tabindex="-1"></a>      diaries_completed,</span>
<span id="cb44-65"><a href="#cb44-65" aria-hidden="true" tabindex="-1"></a>      self_reported_weekly_play</span>
<span id="cb44-66"><a href="#cb44-66" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb44-67"><a href="#cb44-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> wave,</span>
<span id="cb44-68"><a href="#cb44-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> <span class="fu">c</span>(</span>
<span id="cb44-69"><a href="#cb44-69" aria-hidden="true" tabindex="-1"></a>      self_reported_played_24h,</span>
<span id="cb44-70"><a href="#cb44-70" aria-hidden="true" tabindex="-1"></a>      displaced_core_domain,</span>
<span id="cb44-71"><a href="#cb44-71" aria-hidden="true" tabindex="-1"></a>      bpnsfs_1,</span>
<span id="cb44-72"><a href="#cb44-72" aria-hidden="true" tabindex="-1"></a>      bpnsfs_2,</span>
<span id="cb44-73"><a href="#cb44-73" aria-hidden="true" tabindex="-1"></a>      bpnsfs_3,</span>
<span id="cb44-74"><a href="#cb44-74" aria-hidden="true" tabindex="-1"></a>      bpnsfs_4,</span>
<span id="cb44-75"><a href="#cb44-75" aria-hidden="true" tabindex="-1"></a>      bpnsfs_5,</span>
<span id="cb44-76"><a href="#cb44-76" aria-hidden="true" tabindex="-1"></a>      bpnsfs_6,</span>
<span id="cb44-77"><a href="#cb44-77" aria-hidden="true" tabindex="-1"></a>      bangs_1,</span>
<span id="cb44-78"><a href="#cb44-78" aria-hidden="true" tabindex="-1"></a>      bangs_2,</span>
<span id="cb44-79"><a href="#cb44-79" aria-hidden="true" tabindex="-1"></a>      bangs_3,</span>
<span id="cb44-80"><a href="#cb44-80" aria-hidden="true" tabindex="-1"></a>      bangs_4,</span>
<span id="cb44-81"><a href="#cb44-81" aria-hidden="true" tabindex="-1"></a>      bangs_5,</span>
<span id="cb44-82"><a href="#cb44-82" aria-hidden="true" tabindex="-1"></a>      bangs_6</span>
<span id="cb44-83"><a href="#cb44-83" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb44-84"><a href="#cb44-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_sep =</span> <span class="st">"_w"</span></span>
<span id="cb44-85"><a href="#cb44-85" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb44-86"><a href="#cb44-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-87"><a href="#cb44-87" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up imputation methods (same as analytical sample)</span></span>
<span id="cb44-88"><a href="#cb44-88" aria-hidden="true" tabindex="-1"></a>played_vars_full <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide_full)[<span class="fu">grepl</span>(</span>
<span id="cb44-89"><a href="#cb44-89" aria-hidden="true" tabindex="-1"></a>  <span class="st">"^self_reported_played_24h_w"</span>,</span>
<span id="cb44-90"><a href="#cb44-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(surveys_wide_full)</span>
<span id="cb44-91"><a href="#cb44-91" aria-hidden="true" tabindex="-1"></a>)]</span>
<span id="cb44-92"><a href="#cb44-92" aria-hidden="true" tabindex="-1"></a>bpnsfs_vars_full <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide_full)[<span class="fu">grepl</span>(</span>
<span id="cb44-93"><a href="#cb44-93" aria-hidden="true" tabindex="-1"></a>  <span class="st">"^bpnsfs_[1-6]_w"</span>,</span>
<span id="cb44-94"><a href="#cb44-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(surveys_wide_full)</span>
<span id="cb44-95"><a href="#cb44-95" aria-hidden="true" tabindex="-1"></a>)]</span>
<span id="cb44-96"><a href="#cb44-96" aria-hidden="true" tabindex="-1"></a>bangs_vars_full <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide_full)[<span class="fu">grepl</span>(</span>
<span id="cb44-97"><a href="#cb44-97" aria-hidden="true" tabindex="-1"></a>  <span class="st">"^bangs_[1-6]_w"</span>,</span>
<span id="cb44-98"><a href="#cb44-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(surveys_wide_full)</span>
<span id="cb44-99"><a href="#cb44-99" aria-hidden="true" tabindex="-1"></a>)]</span>
<span id="cb44-100"><a href="#cb44-100" aria-hidden="true" tabindex="-1"></a>displaced_vars_full <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide_full)[<span class="fu">grepl</span>(</span>
<span id="cb44-101"><a href="#cb44-101" aria-hidden="true" tabindex="-1"></a>  <span class="st">"^displaced_core_domain_w"</span>,</span>
<span id="cb44-102"><a href="#cb44-102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(surveys_wide_full)</span>
<span id="cb44-103"><a href="#cb44-103" aria-hidden="true" tabindex="-1"></a>)]</span>
<span id="cb44-104"><a href="#cb44-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-105"><a href="#cb44-105" aria-hidden="true" tabindex="-1"></a>methods_full <span class="ot">&lt;-</span> <span class="fu">setNames</span>(</span>
<span id="cb44-106"><a href="#cb44-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rep</span>(<span class="st">""</span>, <span class="fu">ncol</span>(surveys_wide_full)),</span>
<span id="cb44-107"><a href="#cb44-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(surveys_wide_full)</span>
<span id="cb44-108"><a href="#cb44-108" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-109"><a href="#cb44-109" aria-hidden="true" tabindex="-1"></a>methods_full[played_vars_full] <span class="ot">&lt;-</span> <span class="st">"logreg"</span></span>
<span id="cb44-110"><a href="#cb44-110" aria-hidden="true" tabindex="-1"></a>methods_full[<span class="fu">c</span>(bpnsfs_vars_full, bangs_vars_full, displaced_vars_full)] <span class="ot">&lt;-</span> <span class="st">"pmm"</span></span>
<span id="cb44-111"><a href="#cb44-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-112"><a href="#cb44-112" aria-hidden="true" tabindex="-1"></a>person_level_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb44-113"><a href="#cb44-113" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pid"</span>,</span>
<span id="cb44-114"><a href="#cb44-114" aria-hidden="true" tabindex="-1"></a>  <span class="st">"age"</span>,</span>
<span id="cb44-115"><a href="#cb44-115" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gender"</span>,</span>
<span id="cb44-116"><a href="#cb44-116" aria-hidden="true" tabindex="-1"></a>  <span class="st">"edu_level"</span>,</span>
<span id="cb44-117"><a href="#cb44-117" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employment"</span>,</span>
<span id="cb44-118"><a href="#cb44-118" aria-hidden="true" tabindex="-1"></a>  <span class="st">"marital_status"</span>,</span>
<span id="cb44-119"><a href="#cb44-119" aria-hidden="true" tabindex="-1"></a>  <span class="st">"life_sat_baseline"</span>,</span>
<span id="cb44-120"><a href="#cb44-120" aria-hidden="true" tabindex="-1"></a>  <span class="st">"wemwbs"</span>,</span>
<span id="cb44-121"><a href="#cb44-121" aria-hidden="true" tabindex="-1"></a>  <span class="st">"diaries_completed"</span>,</span>
<span id="cb44-122"><a href="#cb44-122" aria-hidden="true" tabindex="-1"></a>  <span class="st">"self_reported_weekly_play"</span></span>
<span id="cb44-123"><a href="#cb44-123" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-124"><a href="#cb44-124" aria-hidden="true" tabindex="-1"></a>methods_full[person_level_vars] <span class="ot">&lt;-</span> <span class="st">""</span></span>
<span id="cb44-125"><a href="#cb44-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-126"><a href="#cb44-126" aria-hidden="true" tabindex="-1"></a><span class="co"># Create WHERE matrix (same conditional imputation logic)</span></span>
<span id="cb44-127"><a href="#cb44-127" aria-hidden="true" tabindex="-1"></a>where_matrix_full <span class="ot">&lt;-</span> <span class="fu">is.na</span>(surveys_wide_full)</span>
<span id="cb44-128"><a href="#cb44-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-129"><a href="#cb44-129" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (bangs_var <span class="cf">in</span> bangs_vars_full) {</span>
<span id="cb44-130"><a href="#cb44-130" aria-hidden="true" tabindex="-1"></a>  wave_num <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(bangs_var, <span class="st">"</span><span class="sc">\\</span><span class="st">d+$"</span>)</span>
<span id="cb44-131"><a href="#cb44-131" aria-hidden="true" tabindex="-1"></a>  played_var <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"self_reported_played_24h_w"</span>, wave_num)</span>
<span id="cb44-132"><a href="#cb44-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-133"><a href="#cb44-133" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (played_var <span class="sc">%in%</span> <span class="fu">names</span>(surveys_wide_full)) {</span>
<span id="cb44-134"><a href="#cb44-134" aria-hidden="true" tabindex="-1"></a>    no_play <span class="ot">&lt;-</span> surveys_wide_full[[played_var]] <span class="sc">==</span> <span class="st">"No"</span> <span class="sc">&amp;</span></span>
<span id="cb44-135"><a href="#cb44-135" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(surveys_wide_full[[bangs_var]])</span>
<span id="cb44-136"><a href="#cb44-136" aria-hidden="true" tabindex="-1"></a>    where_matrix_full[no_play, bangs_var] <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb44-137"><a href="#cb44-137" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb44-138"><a href="#cb44-138" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb44-139"><a href="#cb44-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-140"><a href="#cb44-140" aria-hidden="true" tabindex="-1"></a><span class="co"># Sparse predictor matrix (same settings as analytical)</span></span>
<span id="cb44-141"><a href="#cb44-141" aria-hidden="true" tabindex="-1"></a>pred_full <span class="ot">&lt;-</span> <span class="fu">quickpred</span>(</span>
<span id="cb44-142"><a href="#cb44-142" aria-hidden="true" tabindex="-1"></a>  surveys_wide_full,</span>
<span id="cb44-143"><a href="#cb44-143" aria-hidden="true" tabindex="-1"></a>  <span class="at">mincor =</span> <span class="fl">0.3</span>,</span>
<span id="cb44-144"><a href="#cb44-144" aria-hidden="true" tabindex="-1"></a>  <span class="at">minpuc =</span> <span class="fl">0.3</span>,</span>
<span id="cb44-145"><a href="#cb44-145" aria-hidden="true" tabindex="-1"></a>  <span class="at">include =</span> <span class="fu">c</span>(<span class="st">"age"</span>, <span class="st">"wemwbs"</span>, <span class="st">"self_reported_weekly_play"</span>),</span>
<span id="cb44-146"><a href="#cb44-146" aria-hidden="true" tabindex="-1"></a>  <span class="at">exclude =</span> <span class="fu">c</span>(</span>
<span id="cb44-147"><a href="#cb44-147" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pid"</span>,</span>
<span id="cb44-148"><a href="#cb44-148" aria-hidden="true" tabindex="-1"></a>    <span class="st">"gender"</span>,</span>
<span id="cb44-149"><a href="#cb44-149" aria-hidden="true" tabindex="-1"></a>    <span class="st">"edu_level"</span>,</span>
<span id="cb44-150"><a href="#cb44-150" aria-hidden="true" tabindex="-1"></a>    <span class="st">"employment"</span>,</span>
<span id="cb44-151"><a href="#cb44-151" aria-hidden="true" tabindex="-1"></a>    <span class="st">"marital_status"</span>,</span>
<span id="cb44-152"><a href="#cb44-152" aria-hidden="true" tabindex="-1"></a>    <span class="st">"diaries_completed"</span></span>
<span id="cb44-153"><a href="#cb44-153" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb44-154"><a href="#cb44-154" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-155"><a href="#cb44-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-156"><a href="#cb44-156" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if imputation already exists</span></span>
<span id="cb44-157"><a href="#cb44-157" aria-hidden="true" tabindex="-1"></a>imp_file_full <span class="ot">&lt;-</span> <span class="st">"data/imputation_full.csv.gz"</span></span>
<span id="cb44-158"><a href="#cb44-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-159"><a href="#cb44-159" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(imp_file_full)) {</span>
<span id="cb44-160"><a href="#cb44-160" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Loading existing full sample imputation from {imp_file_full}"</span>))</span>
<span id="cb44-161"><a href="#cb44-161" aria-hidden="true" tabindex="-1"></a>  imp_long_full <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(imp_file_full, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb44-162"><a href="#cb44-162" aria-hidden="true" tabindex="-1"></a>  imp_full <span class="ot">&lt;-</span> <span class="fu">as.mids</span>(imp_long_full)</span>
<span id="cb44-163"><a href="#cb44-163" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Loaded imputation object (M={imp_full$m})"</span>))</span>
<span id="cb44-164"><a href="#cb44-164" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb44-165"><a href="#cb44-165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"No existing imputation found - running MICE on full sample"</span>))</span>
<span id="cb44-166"><a href="#cb44-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-167"><a href="#cb44-167" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb44-168"><a href="#cb44-168" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Running MICE: M={M_FULL_SAMPLE}, N={nrow(surveys_wide_full)}, started {Sys.time()}"</span></span>
<span id="cb44-169"><a href="#cb44-169" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb44-170"><a href="#cb44-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-171"><a href="#cb44-171" aria-hidden="true" tabindex="-1"></a>  imp_full <span class="ot">&lt;-</span> <span class="fu">futuremice</span>(</span>
<span id="cb44-172"><a href="#cb44-172" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> surveys_wide_full,</span>
<span id="cb44-173"><a href="#cb44-173" aria-hidden="true" tabindex="-1"></a>    <span class="at">m =</span> M_FULL_SAMPLE,</span>
<span id="cb44-174"><a href="#cb44-174" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> methods_full,</span>
<span id="cb44-175"><a href="#cb44-175" aria-hidden="true" tabindex="-1"></a>    <span class="at">predictorMatrix =</span> pred_full,</span>
<span id="cb44-176"><a href="#cb44-176" aria-hidden="true" tabindex="-1"></a>    <span class="at">where =</span> where_matrix_full,</span>
<span id="cb44-177"><a href="#cb44-177" aria-hidden="true" tabindex="-1"></a>    <span class="at">maxit =</span> <span class="dv">5</span>,</span>
<span id="cb44-178"><a href="#cb44-178" aria-hidden="true" tabindex="-1"></a>    <span class="at">n.core =</span> parallel<span class="sc">::</span><span class="fu">detectCores</span>() <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb44-179"><a href="#cb44-179" aria-hidden="true" tabindex="-1"></a>    <span class="at">parallelseed =</span> <span class="dv">8675309</span></span>
<span id="cb44-180"><a href="#cb44-180" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb44-181"><a href="#cb44-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-182"><a href="#cb44-182" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Completed {Sys.time()}"</span>))</span>
<span id="cb44-183"><a href="#cb44-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-184"><a href="#cb44-184" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save imputation results</span></span>
<span id="cb44-185"><a href="#cb44-185" aria-hidden="true" tabindex="-1"></a>  imp_long_full <span class="ot">&lt;-</span> <span class="fu">complete</span>(imp_full, <span class="at">action =</span> <span class="st">"long"</span>, <span class="at">include =</span> <span class="cn">TRUE</span>)</span>
<span id="cb44-186"><a href="#cb44-186" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_csv</span>(imp_long_full, imp_file_full)</span>
<span id="cb44-187"><a href="#cb44-187" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Saved full sample imputation to {imp_file_full}"</span>))</span>
<span id="cb44-188"><a href="#cb44-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-189"><a href="#cb44-189" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">nrow</span>(imp_full<span class="sc">$</span>loggedEvents) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb44-190"><a href="#cb44-190" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb44-191"><a href="#cb44-191" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Warning: {nrow(imp_full$loggedEvents)} logged events during full sample imputation"</span></span>
<span id="cb44-192"><a href="#cb44-192" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb44-193"><a href="#cb44-193" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb44-194"><a href="#cb44-194" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb44-195"><a href="#cb44-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-196"><a href="#cb44-196" aria-hidden="true" tabindex="-1"></a><span class="co"># Post-imputation processing for full sample</span></span>
<span id="cb44-197"><a href="#cb44-197" aria-hidden="true" tabindex="-1"></a>daily_imputed_full <span class="ot">&lt;-</span> <span class="fu">complete</span>(imp_full, <span class="at">action =</span> <span class="st">"long"</span>, <span class="at">include =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb44-198"><a href="#cb44-198" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb44-199"><a href="#cb44-199" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(</span>
<span id="cb44-200"><a href="#cb44-200" aria-hidden="true" tabindex="-1"></a>      .imp,</span>
<span id="cb44-201"><a href="#cb44-201" aria-hidden="true" tabindex="-1"></a>      .id,</span>
<span id="cb44-202"><a href="#cb44-202" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb44-203"><a href="#cb44-203" aria-hidden="true" tabindex="-1"></a>      age,</span>
<span id="cb44-204"><a href="#cb44-204" aria-hidden="true" tabindex="-1"></a>      gender,</span>
<span id="cb44-205"><a href="#cb44-205" aria-hidden="true" tabindex="-1"></a>      edu_level,</span>
<span id="cb44-206"><a href="#cb44-206" aria-hidden="true" tabindex="-1"></a>      employment,</span>
<span id="cb44-207"><a href="#cb44-207" aria-hidden="true" tabindex="-1"></a>      marital_status,</span>
<span id="cb44-208"><a href="#cb44-208" aria-hidden="true" tabindex="-1"></a>      life_sat_baseline,</span>
<span id="cb44-209"><a href="#cb44-209" aria-hidden="true" tabindex="-1"></a>      wemwbs,</span>
<span id="cb44-210"><a href="#cb44-210" aria-hidden="true" tabindex="-1"></a>      diaries_completed,</span>
<span id="cb44-211"><a href="#cb44-211" aria-hidden="true" tabindex="-1"></a>      self_reported_weekly_play</span>
<span id="cb44-212"><a href="#cb44-212" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb44-213"><a href="#cb44-213" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">".value"</span>, <span class="st">"wave"</span>),</span>
<span id="cb44-214"><a href="#cb44-214" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_pattern =</span> <span class="st">"(.+)_w(.+)"</span></span>
<span id="cb44-215"><a href="#cb44-215" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb44-216"><a href="#cb44-216" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wave =</span> <span class="fu">as.factor</span>(wave)) <span class="sc">|&gt;</span></span>
<span id="cb44-217"><a href="#cb44-217" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb44-218"><a href="#cb44-218" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(bpnsfs_1, bpnsfs_3, bpnsfs_5), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb44-219"><a href="#cb44-219" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(bpnsfs_2, bpnsfs_4, bpnsfs_6), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb44-220"><a href="#cb44-220" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(bangs_1, bangs_3, bangs_5), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb44-221"><a href="#cb44-221" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(bangs_2, bangs_4, bangs_6), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb44-222"><a href="#cb44-222" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb44-223"><a href="#cb44-223" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(telemetry_vars_full, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"wave"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb44-224"><a href="#cb44-224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(.imp, pid) <span class="sc">|&gt;</span></span>
<span id="cb44-225"><a href="#cb44-225" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb44-226"><a href="#cb44-226" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns_pm =</span> <span class="fu">mean</span>(global_ns, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb44-227"><a href="#cb44-227" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_pm =</span> <span class="fu">mean</span>(global_nf, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb44-228"><a href="#cb44-228" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_pm =</span> <span class="fu">mean</span>(game_ns, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb44-229"><a href="#cb44-229" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf_pm =</span> <span class="fu">mean</span>(game_nf, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb44-230"><a href="#cb44-230" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb44-231"><a href="#cb44-231" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb44-232"><a href="#cb44-232" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(.imp) <span class="sc">|&gt;</span></span>
<span id="cb44-233"><a href="#cb44-233" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb44-234"><a href="#cb44-234" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns_gm =</span> <span class="fu">mean</span>(global_ns_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb44-235"><a href="#cb44-235" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_gm =</span> <span class="fu">mean</span>(global_nf_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb44-236"><a href="#cb44-236" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_gm =</span> <span class="fu">mean</span>(game_ns_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb44-237"><a href="#cb44-237" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf_gm =</span> <span class="fu">mean</span>(game_nf_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb44-238"><a href="#cb44-238" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns_cw =</span> global_ns <span class="sc">-</span> global_ns_pm,</span>
<span id="cb44-239"><a href="#cb44-239" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cw =</span> global_nf <span class="sc">-</span> global_nf_pm,</span>
<span id="cb44-240"><a href="#cb44-240" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> game_ns <span class="sc">-</span> game_ns_pm,</span>
<span id="cb44-241"><a href="#cb44-241" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf_cw =</span> game_nf <span class="sc">-</span> game_nf_pm,</span>
<span id="cb44-242"><a href="#cb44-242" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns_cb =</span> global_ns_pm <span class="sc">-</span> global_ns_gm,</span>
<span id="cb44-243"><a href="#cb44-243" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cb =</span> global_nf_pm <span class="sc">-</span> global_nf_gm,</span>
<span id="cb44-244"><a href="#cb44-244" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> game_ns_pm <span class="sc">-</span> game_ns_gm,</span>
<span id="cb44-245"><a href="#cb44-245" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf_cb =</span> game_nf_pm <span class="sc">-</span> game_nf_gm</span>
<span id="cb44-246"><a href="#cb44-246" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb44-247"><a href="#cb44-247" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb44-248"><a href="#cb44-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-249"><a href="#cb44-249" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb44-250"><a href="#cb44-250" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Full sample imputation complete: {length(unique(daily_imputed_full$pid))} participants"</span></span>
<span id="cb44-251"><a href="#cb44-251" aria-hidden="true" tabindex="-1"></a>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (S5: Fit H2 models to full sample)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>sens5_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens5_fits.rds"</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>sens5_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens5_pooled.rds"</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens5_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(sens5_pooled_file)) {</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S5 model fits"</span>)</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  sens5_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens5_cache_file)</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  sens5_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens5_pooled_file)</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S5 models to full sample..."</span>)</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Prepare data for modeling</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>  dat_full <span class="ot">&lt;-</span> daily_imputed_full <span class="sc">|&gt;</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(.imp <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">pid =</span> <span class="fu">factor</span>(pid),</span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">wave =</span> <span class="fu">factor</span>(wave)</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit H2 model to each imputed dataset</span></span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>  sens5_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>M_FULL_SAMPLE, <span class="cf">function</span>(i) {</span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting S5 model to imputation {i} of {M_FULL_SAMPLE}"</span>))</span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat_full <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb45-29"><a href="#cb45-29" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb45-30"><a href="#cb45-30" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb45-31"><a href="#cb45-31" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb45-32"><a href="#cb45-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb45-33"><a href="#cb45-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb45-34"><a href="#cb45-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb45-35"><a href="#cb45-35" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb45-36"><a href="#cb45-36" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb45-37"><a href="#cb45-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-38"><a href="#cb45-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pool estimates</span></span>
<span id="cb45-39"><a href="#cb45-39" aria-hidden="true" tabindex="-1"></a>  sens5_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(sens5_fits)</span>
<span id="cb45-40"><a href="#cb45-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-41"><a href="#cb45-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb45-42"><a href="#cb45-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens5_fits, sens5_cache_file)</span>
<span id="cb45-43"><a href="#cb45-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens5_pooled, sens5_pooled_file)</span>
<span id="cb45-44"><a href="#cb45-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S5 models saved to cache"</span>)</span>
<span id="cb45-45"><a href="#cb45-45" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Create S7 comparison table)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Analytical sample results</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>analytical <span class="ot">&lt;-</span> <span class="fu">summary</span>(h2_pooled) <span class="sc">|&gt;</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>, <span class="sc">!</span><span class="fu">str_detect</span>(term, <span class="st">"_cb"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">result =</span> <span class="fu">glue</span>(</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{round(estimate, 3)} ({ifelse(p.value &lt; 0.001, '&lt;.001', round(p.value, 3))})"</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">sample =</span> <span class="st">"Analytical (≥15 waves)"</span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, sample, result)</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Full sample results</span></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>full_sample <span class="ot">&lt;-</span> <span class="fu">summary</span>(sens5_pooled) <span class="sc">|&gt;</span></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>, <span class="sc">!</span><span class="fu">str_detect</span>(term, <span class="st">"_cb"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">result =</span> <span class="fu">glue</span>(</span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{round(estimate, 3)} ({ifelse(p.value &lt; 0.001, '&lt;.001', round(p.value, 3))})"</span></span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">sample =</span> <span class="st">"Full sample"</span></span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, sample, result)</span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine</span></span>
<span id="cb46-26"><a href="#cb46-26" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(analytical, full_sample) <span class="sc">|&gt;</span></span>
<span id="cb46-27"><a href="#cb46-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-28"><a href="#cb46-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term)</span>
<span id="cb46-29"><a href="#cb46-29" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb46-30"><a href="#cb46-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> sample, <span class="at">values_from =</span> result) <span class="sc">|&gt;</span></span>
<span id="cb46-31"><a href="#cb46-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Parameter =</span> term) <span class="sc">|&gt;</span></span>
<span id="cb46-32"><a href="#cb46-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb46-33"><a href="#cb46-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb46-34"><a href="#cb46-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-s7-comparison" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-s7-comparison-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;13: S7: H2 model comparison between analytical sample (≥15 waves) and full sample (preregistered)
</figcaption>
<div aria-describedby="tbl-s7-comparison-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_i73s9x5iezxpgtpdm1n1 = TinyTable.createTableFunctions("tinytable_i73s9x5iezxpgtpdm1n1");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '2', j: 1 }, { i: '2', j: 2 }, { i: '2', j: 3 } ], css_id: 'tinytable_css_ue77jb5vk92xl4c58iw7',}, 
          { positions: [ { i: '1', j: 1 }, { i: '1', j: 2 }, { i: '1', j: 3 } ], css_id: 'tinytable_css_mbx0ff6i124yvn8dbaqq',}, 
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 } ], css_id: 'tinytable_css_vo145t16p41di0kt4xcx',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_i73s9x5iezxpgtpdm1n1.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_i73s9x5iezxpgtpdm1n1 td.tinytable_css_ue77jb5vk92xl4c58iw7, #tinytable_i73s9x5iezxpgtpdm1n1 th.tinytable_css_ue77jb5vk92xl4c58iw7 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-size: 0.7em }
    #tinytable_i73s9x5iezxpgtpdm1n1 td.tinytable_css_mbx0ff6i124yvn8dbaqq, #tinytable_i73s9x5iezxpgtpdm1n1 th.tinytable_css_mbx0ff6i124yvn8dbaqq { font-size: 0.7em }
    #tinytable_i73s9x5iezxpgtpdm1n1 td.tinytable_css_vo145t16p41di0kt4xcx, #tinytable_i73s9x5iezxpgtpdm1n1 th.tinytable_css_vo145t16p41di0kt4xcx {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_i73s9x5iezxpgtpdm1n1" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1">Parameter</th>
                <th scope="col" data-row="0" data-col="2">Analytical (≥15 waves)</th>
                <th scope="col" data-row="0" data-col="3">Full sample</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">Game need frustration</td>
                  <td data-row="1" data-col="2">0.042 (0.277)</td>
                  <td data-row="1" data-col="3">2.756 (0.09)</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1">Global need frustration</td>
                  <td data-row="2" data-col="2">-0.08 (0.062)</td>
                  <td data-row="2" data-col="3">-1.776 (0.335)</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="s6-interaction-between-game-ns-and-global-nf" class="level3" data-number="7.3.6">
<h3 data-number="7.3.6" class="anchored" data-anchor-id="s6-interaction-between-game-ns-and-global-nf"><span class="header-section-number">7.3.6</span> S6: Interaction between game NS and global NF</h3>
<p>Testing whether the association of global need frustration with play depends on recent game need satisfaction (i.e., do satisfied players respond differently to global need frustration?).</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (S6: Fit models with game NS × global NF interaction)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>sens6_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens6_fits.rds"</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>sens6_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens6_pooled.rds"</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens6_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(sens6_pooled_file)) {</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S6 model fits"</span>)</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  sens6_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens6_cache_file)</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  sens6_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens6_pooled_file)</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S6 models..."</span>)</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>  sens6_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting S6 model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>        game_ns_cw<span class="sc">:</span>global_nf_cw <span class="sc">+</span></span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb47-29"><a href="#cb47-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-30"><a href="#cb47-30" aria-hidden="true" tabindex="-1"></a>  sens6_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(sens6_fits)</span>
<span id="cb47-31"><a href="#cb47-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-32"><a href="#cb47-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb47-33"><a href="#cb47-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens6_fits, sens6_cache_file)</span>
<span id="cb47-34"><a href="#cb47-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens6_pooled, sens6_pooled_file)</span>
<span id="cb47-35"><a href="#cb47-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S6 models saved to cache"</span>)</span>
<span id="cb47-36"><a href="#cb47-36" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Create S3 results table)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sens6_pooled) <span class="sc">|&gt;</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>, <span class="sc">!</span><span class="fu">str_detect</span>(term, <span class="st">"_cb"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, estimate, std.error, statistic, p.value) <span class="sc">|&gt;</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term),</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(estimate, std.error, statistic), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>)),</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">p.value =</span> <span class="fu">case_when</span>(</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;.001"</span>,</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(<span class="fu">round</span>(p.value, <span class="dv">3</span>))</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">Parameter =</span> term,</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Estimate =</span> estimate,</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">SE =</span> std.error,</span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">z =</span> statistic,</span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> p.value</span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-s6-results" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-s6-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;14: S6: H2 with game NS × global NF interaction
</figcaption>
<div aria-describedby="tbl-s6-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_rhbt15xovq83tocvxzhi = TinyTable.createTableFunctions("tinytable_rhbt15xovq83tocvxzhi");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '3', j: 1 }, { i: '3', j: 2 }, { i: '3', j: 3 }, { i: '3', j: 4 }, { i: '3', j: 5 } ], css_id: 'tinytable_css_5sxw7fogbjpetdtmo1tu',}, 
          { positions: [ { i: '1', j: 1 }, { i: '2', j: 1 }, { i: '1', j: 2 }, { i: '2', j: 2 }, { i: '1', j: 3 }, { i: '2', j: 3 }, { i: '1', j: 4 }, { i: '2', j: 4 }, { i: '1', j: 5 }, { i: '2', j: 5 } ], css_id: 'tinytable_css_m8s8ocnljbobbdbt56va',}, 
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 } ], css_id: 'tinytable_css_yna2a54gq8o0gnlsht1m',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_rhbt15xovq83tocvxzhi.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_rhbt15xovq83tocvxzhi td.tinytable_css_5sxw7fogbjpetdtmo1tu, #tinytable_rhbt15xovq83tocvxzhi th.tinytable_css_5sxw7fogbjpetdtmo1tu {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-size: 0.7em }
    #tinytable_rhbt15xovq83tocvxzhi td.tinytable_css_m8s8ocnljbobbdbt56va, #tinytable_rhbt15xovq83tocvxzhi th.tinytable_css_m8s8ocnljbobbdbt56va { font-size: 0.7em }
    #tinytable_rhbt15xovq83tocvxzhi td.tinytable_css_yna2a54gq8o0gnlsht1m, #tinytable_rhbt15xovq83tocvxzhi th.tinytable_css_yna2a54gq8o0gnlsht1m {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_rhbt15xovq83tocvxzhi" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1">Parameter</th>
                <th scope="col" data-row="0" data-col="2">Estimate</th>
                <th scope="col" data-row="0" data-col="3">SE</th>
                <th scope="col" data-row="0" data-col="4">z</th>
                <th scope="col" data-row="0" data-col="5">p</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">Game need frustration</td>
                  <td data-row="1" data-col="2">0.042</td>
                  <td data-row="1" data-col="3">0.038</td>
                  <td data-row="1" data-col="4">1.081</td>
                  <td data-row="1" data-col="5">0.28</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1">Global need frustration</td>
                  <td data-row="2" data-col="2">-0.076</td>
                  <td data-row="2" data-col="3">0.043</td>
                  <td data-row="2" data-col="4">-1.755</td>
                  <td data-row="2" data-col="5">0.079</td>
                </tr>
                <tr>
                  <td data-row="3" data-col="1">Time to next session</td>
                  <td data-row="3" data-col="2">0.038</td>
                  <td data-row="3" data-col="3">0.041</td>
                  <td data-row="3" data-col="4">0.921</td>
                  <td data-row="3" data-col="5">0.357</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="s7-non-linearity-test-with-splines" class="level3" data-number="7.3.7">
<h3 data-number="7.3.7" class="anchored" data-anchor-id="s7-non-linearity-test-with-splines"><span class="header-section-number">7.3.7</span> S7: Non-linearity test with splines</h3>
<p>Testing whether the relationships between predictors and play behavior are non-linear by fitting natural splines to the H2 predictors. We use complete cases only (no imputation) for computational simplicity.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (S7: Fit H2 model with natural splines)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use complete cases only (no imputation)</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create this outside caching so it's available for plotting</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>dat_complete <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(.imp <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    pid,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    wave,</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    date,</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h,</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>    game_ns_cw,</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>    game_ns_cb,</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>    global_nf_cw,</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>    global_nf_cb</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">complete.cases</span>(<span class="fu">pick</span>(<span class="fu">everything</span>())))</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching</span></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>sens7_linear_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens7_linear.rds"</span></span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>sens7_spline_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens7_spline.rds"</span></span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens7_linear_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(sens7_spline_file)) {</span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S7 models"</span>)</span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a>  sens7_linear <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens7_linear_file)</span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a>  sens7_spline <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens7_spline_file)</span>
<span id="cb49-25"><a href="#cb49-25" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb49-26"><a href="#cb49-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S7 models (linear vs spline)..."</span>)</span>
<span id="cb49-27"><a href="#cb49-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-28"><a href="#cb49-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Linear model (for comparison)</span></span>
<span id="cb49-29"><a href="#cb49-29" aria-hidden="true" tabindex="-1"></a>  sens7_linear <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(</span>
<span id="cb49-30"><a href="#cb49-30" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb49-31"><a href="#cb49-31" aria-hidden="true" tabindex="-1"></a>      game_ns_cw <span class="sc">+</span></span>
<span id="cb49-32"><a href="#cb49-32" aria-hidden="true" tabindex="-1"></a>      game_ns_cb <span class="sc">+</span></span>
<span id="cb49-33"><a href="#cb49-33" aria-hidden="true" tabindex="-1"></a>      global_nf_cw <span class="sc">+</span></span>
<span id="cb49-34"><a href="#cb49-34" aria-hidden="true" tabindex="-1"></a>      global_nf_cb <span class="sc">+</span></span>
<span id="cb49-35"><a href="#cb49-35" aria-hidden="true" tabindex="-1"></a>      (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb49-36"><a href="#cb49-36" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ar1</span>(<span class="fu">factor</span>(wave) <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb49-37"><a href="#cb49-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> dat_complete,</span>
<span id="cb49-38"><a href="#cb49-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>)</span>
<span id="cb49-39"><a href="#cb49-39" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb49-40"><a href="#cb49-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-41"><a href="#cb49-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Spline model with natural splines (3 df) on within-person predictors</span></span>
<span id="cb49-42"><a href="#cb49-42" aria-hidden="true" tabindex="-1"></a>  sens7_spline <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(</span>
<span id="cb49-43"><a href="#cb49-43" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb49-44"><a href="#cb49-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ns</span>(game_ns_cw, <span class="at">df =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb49-45"><a href="#cb49-45" aria-hidden="true" tabindex="-1"></a>      game_ns_cb <span class="sc">+</span></span>
<span id="cb49-46"><a href="#cb49-46" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ns</span>(global_nf_cw, <span class="at">df =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb49-47"><a href="#cb49-47" aria-hidden="true" tabindex="-1"></a>      global_nf_cb <span class="sc">+</span></span>
<span id="cb49-48"><a href="#cb49-48" aria-hidden="true" tabindex="-1"></a>      (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb49-49"><a href="#cb49-49" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ar1</span>(<span class="fu">factor</span>(wave) <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb49-50"><a href="#cb49-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> dat_complete,</span>
<span id="cb49-51"><a href="#cb49-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>)</span>
<span id="cb49-52"><a href="#cb49-52" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb49-53"><a href="#cb49-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-54"><a href="#cb49-54" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Cache results</span></span>
<span id="cb49-55"><a href="#cb49-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="st">"data/models"</span>, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb49-56"><a href="#cb49-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens7_linear, sens7_linear_file)</span>
<span id="cb49-57"><a href="#cb49-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens7_spline, sens7_spline_file)</span>
<span id="cb49-58"><a href="#cb49-58" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Create S8 comparison table)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare model fit</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>comparison <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Model =</span> <span class="fu">c</span>(<span class="st">"Linear"</span>, <span class="st">"Spline (3 df)"</span>),</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">AIC =</span> <span class="fu">c</span>(<span class="fu">AIC</span>(sens7_linear), <span class="fu">AIC</span>(sens7_spline)),</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">BIC =</span> <span class="fu">c</span>(<span class="fu">BIC</span>(sens7_linear), <span class="fu">BIC</span>(sens7_spline)),</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">LogLik =</span> <span class="fu">c</span>(<span class="fu">logLik</span>(sens7_linear), <span class="fu">logLik</span>(sens7_spline)),</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">N =</span> <span class="fu">c</span>(<span class="fu">nobs</span>(sens7_linear), <span class="fu">nobs</span>(sens7_spline))</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">ΔAic</span><span class="st">`</span> <span class="ot">=</span> AIC <span class="sc">-</span> <span class="fu">min</span>(AIC),</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(AIC, BIC, LogLik), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">1</span>))</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>comparison <span class="sc">|&gt;</span></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-s7-results" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-s7-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;15: S7: Model comparison between linear and spline specifications
</figcaption>
<div aria-describedby="tbl-s7-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_01pedxs3xuesspu2v8vm = TinyTable.createTableFunctions("tinytable_01pedxs3xuesspu2v8vm");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '2', j: 1 }, { i: '2', j: 2 }, { i: '2', j: 3 }, { i: '2', j: 4 }, { i: '2', j: 5 }, { i: '2', j: 6 } ], css_id: 'tinytable_css_woqevgdb5otr8q2wjbfz',}, 
          { positions: [ { i: '1', j: 1 }, { i: '1', j: 2 }, { i: '1', j: 3 }, { i: '1', j: 4 }, { i: '1', j: 5 }, { i: '1', j: 6 } ], css_id: 'tinytable_css_tmw300388wlocs9851zn',}, 
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 }, { i: '0', j: 6 } ], css_id: 'tinytable_css_xc6cdez9mmdwl8wj4wea',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_01pedxs3xuesspu2v8vm.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_01pedxs3xuesspu2v8vm td.tinytable_css_woqevgdb5otr8q2wjbfz, #tinytable_01pedxs3xuesspu2v8vm th.tinytable_css_woqevgdb5otr8q2wjbfz {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-size: 0.7em }
    #tinytable_01pedxs3xuesspu2v8vm td.tinytable_css_tmw300388wlocs9851zn, #tinytable_01pedxs3xuesspu2v8vm th.tinytable_css_tmw300388wlocs9851zn { font-size: 0.7em }
    #tinytable_01pedxs3xuesspu2v8vm td.tinytable_css_xc6cdez9mmdwl8wj4wea, #tinytable_01pedxs3xuesspu2v8vm th.tinytable_css_xc6cdez9mmdwl8wj4wea {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_01pedxs3xuesspu2v8vm" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1">Model</th>
                <th scope="col" data-row="0" data-col="2">AIC</th>
                <th scope="col" data-row="0" data-col="3">BIC</th>
                <th scope="col" data-row="0" data-col="4">LogLik</th>
                <th scope="col" data-row="0" data-col="5">N</th>
                <th scope="col" data-row="0" data-col="6">ΔAic</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">Linear</td>
                  <td data-row="1" data-col="2">9726.2</td>
                  <td data-row="1" data-col="3">9784.1</td>
                  <td data-row="1" data-col="4">-4855.1</td>
                  <td data-row="1" data-col="5">10317</td>
                  <td data-row="1" data-col="6">0.000000</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1">Spline (3 df)</td>
                  <td data-row="2" data-col="2">9730.9</td>
                  <td data-row="2" data-col="3">9817.8</td>
                  <td data-row="2" data-col="4">-4853.4</td>
                  <td data-row="2" data-col="5">10317</td>
                  <td data-row="2" data-col="6">4.640006</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Plot S8 spline vs linear predictions)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate predictions across the range of predictors</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>pred_data <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">game_ns_cw =</span> <span class="fu">seq</span>(</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">min</span>(dat_complete<span class="sc">$</span>game_ns_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">max</span>(dat_complete<span class="sc">$</span>game_ns_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">length.out =</span> <span class="dv">100</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">global_nf_cw =</span> <span class="fu">seq</span>(</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">min</span>(dat_complete<span class="sc">$</span>global_nf_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">max</span>(dat_complete<span class="sc">$</span>global_nf_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">length.out =</span> <span class="dv">100</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Predictions for game NS (holding global NF at mean)</span></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>pred_game_linear <span class="ot">&lt;-</span> marginaleffects<span class="sc">::</span><span class="fu">predictions</span>(</span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>  sens7_linear,</span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> <span class="fu">unique</span>(pred_data<span class="sc">$</span>game_ns_cw),</span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cw =</span> <span class="dv">0</span>,</span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> <span class="dv">0</span>,</span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cb =</span> <span class="dv">0</span></span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">re.form =</span> <span class="cn">NA</span>,</span>
<span id="cb51-25"><a href="#cb51-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"response"</span></span>
<span id="cb51-26"><a href="#cb51-26" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb51-27"><a href="#cb51-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb51-28"><a href="#cb51-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">"Linear"</span>)</span>
<span id="cb51-29"><a href="#cb51-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-30"><a href="#cb51-30" aria-hidden="true" tabindex="-1"></a>pred_game_spline <span class="ot">&lt;-</span> marginaleffects<span class="sc">::</span><span class="fu">predictions</span>(</span>
<span id="cb51-31"><a href="#cb51-31" aria-hidden="true" tabindex="-1"></a>  sens7_spline,</span>
<span id="cb51-32"><a href="#cb51-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb51-33"><a href="#cb51-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> <span class="fu">unique</span>(pred_data<span class="sc">$</span>game_ns_cw),</span>
<span id="cb51-34"><a href="#cb51-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cw =</span> <span class="dv">0</span>,</span>
<span id="cb51-35"><a href="#cb51-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> <span class="dv">0</span>,</span>
<span id="cb51-36"><a href="#cb51-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cb =</span> <span class="dv">0</span></span>
<span id="cb51-37"><a href="#cb51-37" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb51-38"><a href="#cb51-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">re.form =</span> <span class="cn">NA</span>,</span>
<span id="cb51-39"><a href="#cb51-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"response"</span></span>
<span id="cb51-40"><a href="#cb51-40" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb51-41"><a href="#cb51-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb51-42"><a href="#cb51-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">"Spline"</span>)</span>
<span id="cb51-43"><a href="#cb51-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-44"><a href="#cb51-44" aria-hidden="true" tabindex="-1"></a>panel_a <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(pred_game_linear, pred_game_spline) <span class="sc">|&gt;</span></span>
<span id="cb51-45"><a href="#cb51-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> game_ns_cw, <span class="at">y =</span> estimate, <span class="at">color =</span> model, <span class="at">fill =</span> model)) <span class="sc">+</span></span>
<span id="cb51-46"><a href="#cb51-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> conf.low, <span class="at">ymax =</span> conf.high), <span class="at">alpha =</span> <span class="fl">0.2</span>, <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb51-47"><a href="#cb51-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">linetype =</span> model), <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb51-48"><a href="#cb51-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Linear"</span> <span class="ot">=</span> <span class="st">"#4477AA"</span>, <span class="st">"Spline"</span> <span class="ot">=</span> <span class="st">"#EE6677"</span>)) <span class="sc">+</span></span>
<span id="cb51-49"><a href="#cb51-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Linear"</span> <span class="ot">=</span> <span class="st">"#4477AA"</span>, <span class="st">"Spline"</span> <span class="ot">=</span> <span class="st">"#EE6677"</span>)) <span class="sc">+</span></span>
<span id="cb51-50"><a href="#cb51-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Linear"</span> <span class="ot">=</span> <span class="st">"solid"</span>, <span class="st">"Spline"</span> <span class="ot">=</span> <span class="st">"dashed"</span>)) <span class="sc">+</span></span>
<span id="cb51-51"><a href="#cb51-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb51-52"><a href="#cb51-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> labels[<span class="st">"game_ns (within-person)"</span>],</span>
<span id="cb51-53"><a href="#cb51-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"P(Play in next 24h)"</span>,</span>
<span id="cb51-54"><a href="#cb51-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb51-55"><a href="#cb51-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="cn">NULL</span>,</span>
<span id="cb51-56"><a href="#cb51-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">linetype =</span> <span class="cn">NULL</span></span>
<span id="cb51-57"><a href="#cb51-57" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb51-58"><a href="#cb51-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb51-59"><a href="#cb51-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-60"><a href="#cb51-60" aria-hidden="true" tabindex="-1"></a><span class="co"># Predictions for global NF (holding game NS at mean)</span></span>
<span id="cb51-61"><a href="#cb51-61" aria-hidden="true" tabindex="-1"></a>pred_nf_linear <span class="ot">&lt;-</span> marginaleffects<span class="sc">::</span><span class="fu">predictions</span>(</span>
<span id="cb51-62"><a href="#cb51-62" aria-hidden="true" tabindex="-1"></a>  sens7_linear,</span>
<span id="cb51-63"><a href="#cb51-63" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb51-64"><a href="#cb51-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> <span class="dv">0</span>,</span>
<span id="cb51-65"><a href="#cb51-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cw =</span> <span class="fu">unique</span>(pred_data<span class="sc">$</span>global_nf_cw),</span>
<span id="cb51-66"><a href="#cb51-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> <span class="dv">0</span>,</span>
<span id="cb51-67"><a href="#cb51-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cb =</span> <span class="dv">0</span></span>
<span id="cb51-68"><a href="#cb51-68" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb51-69"><a href="#cb51-69" aria-hidden="true" tabindex="-1"></a>  <span class="at">re.form =</span> <span class="cn">NA</span>,</span>
<span id="cb51-70"><a href="#cb51-70" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"response"</span></span>
<span id="cb51-71"><a href="#cb51-71" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb51-72"><a href="#cb51-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb51-73"><a href="#cb51-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">"Linear"</span>)</span>
<span id="cb51-74"><a href="#cb51-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-75"><a href="#cb51-75" aria-hidden="true" tabindex="-1"></a>pred_nf_spline <span class="ot">&lt;-</span> marginaleffects<span class="sc">::</span><span class="fu">predictions</span>(</span>
<span id="cb51-76"><a href="#cb51-76" aria-hidden="true" tabindex="-1"></a>  sens7_spline,</span>
<span id="cb51-77"><a href="#cb51-77" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb51-78"><a href="#cb51-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> <span class="dv">0</span>,</span>
<span id="cb51-79"><a href="#cb51-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cw =</span> <span class="fu">unique</span>(pred_data<span class="sc">$</span>global_nf_cw),</span>
<span id="cb51-80"><a href="#cb51-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> <span class="dv">0</span>,</span>
<span id="cb51-81"><a href="#cb51-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cb =</span> <span class="dv">0</span></span>
<span id="cb51-82"><a href="#cb51-82" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb51-83"><a href="#cb51-83" aria-hidden="true" tabindex="-1"></a>  <span class="at">re.form =</span> <span class="cn">NA</span>,</span>
<span id="cb51-84"><a href="#cb51-84" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"response"</span></span>
<span id="cb51-85"><a href="#cb51-85" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb51-86"><a href="#cb51-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb51-87"><a href="#cb51-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">"Spline"</span>)</span>
<span id="cb51-88"><a href="#cb51-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-89"><a href="#cb51-89" aria-hidden="true" tabindex="-1"></a>panel_b <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(pred_nf_linear, pred_nf_spline) <span class="sc">|&gt;</span></span>
<span id="cb51-90"><a href="#cb51-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> global_nf_cw, <span class="at">y =</span> estimate, <span class="at">color =</span> model, <span class="at">fill =</span> model)) <span class="sc">+</span></span>
<span id="cb51-91"><a href="#cb51-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> conf.low, <span class="at">ymax =</span> conf.high), <span class="at">alpha =</span> <span class="fl">0.2</span>, <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb51-92"><a href="#cb51-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">linetype =</span> model), <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb51-93"><a href="#cb51-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Linear"</span> <span class="ot">=</span> <span class="st">"#4477AA"</span>, <span class="st">"Spline"</span> <span class="ot">=</span> <span class="st">"#EE6677"</span>)) <span class="sc">+</span></span>
<span id="cb51-94"><a href="#cb51-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Linear"</span> <span class="ot">=</span> <span class="st">"#4477AA"</span>, <span class="st">"Spline"</span> <span class="ot">=</span> <span class="st">"#EE6677"</span>)) <span class="sc">+</span></span>
<span id="cb51-95"><a href="#cb51-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Linear"</span> <span class="ot">=</span> <span class="st">"solid"</span>, <span class="st">"Spline"</span> <span class="ot">=</span> <span class="st">"dashed"</span>)) <span class="sc">+</span></span>
<span id="cb51-96"><a href="#cb51-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb51-97"><a href="#cb51-97" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> labels[<span class="st">"global_nf (within-person)"</span>],</span>
<span id="cb51-98"><a href="#cb51-98" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"P(Play in next 24h)"</span>,</span>
<span id="cb51-99"><a href="#cb51-99" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb51-100"><a href="#cb51-100" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="cn">NULL</span>,</span>
<span id="cb51-101"><a href="#cb51-101" aria-hidden="true" tabindex="-1"></a>    <span class="at">linetype =</span> <span class="cn">NULL</span></span>
<span id="cb51-102"><a href="#cb51-102" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb51-103"><a href="#cb51-103" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb51-104"><a href="#cb51-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-105"><a href="#cb51-105" aria-hidden="true" tabindex="-1"></a>panel_a <span class="sc">+</span></span>
<span id="cb51-106"><a href="#cb51-106" aria-hidden="true" tabindex="-1"></a>  panel_b <span class="sc">+</span></span>
<span id="cb51-107"><a href="#cb51-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">"A"</span>) <span class="sc">+</span></span>
<span id="cb51-108"><a href="#cb51-108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">guides =</span> <span class="st">"collect"</span>) <span class="sc">&amp;</span></span>
<span id="cb51-109"><a href="#cb51-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb51-110"><a href="#cb51-110" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"top"</span>,</span>
<span id="cb51-111"><a href="#cb51-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb51-112"><a href="#cb51-112" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="cn">NA</span>)</span>
<span id="cb51-113"><a href="#cb51-113" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-s7-spline-predictions" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-s7-spline-predictions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-s7-spline-predictions-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-s7-spline-predictions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: S7: Comparison of linear vs spline predictions for H2 predictors. Points show observed data (aggregated), solid lines show linear model predictions, dashed lines show spline model predictions with 95% confidence ribbons.
</figcaption>
</figure>
</div>
</div>
</div>
<p>The spline model does not improve fit over the linear model (ΔAIC &gt; 2), suggesting that the relationships between need satisfaction/frustration and play behavior are adequately captured by linear terms.</p>
</section>
<section id="s8-separate-needs-components" class="level3" data-number="7.3.8">
<h3 data-number="7.3.8" class="anchored" data-anchor-id="s8-separate-needs-components"><span class="header-section-number">7.3.8</span> S8: Separate needs components</h3>
<p>Testing whether associations with play differ across the three basic psychological needs (autonomy, competence, relatedness) rather than using composite need satisfaction scores. We test H2 separately for each need component.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Prepare data with separate needs components)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>sens8_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens8_models.rds"</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens8_cache_file)) {</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S8 model fits"</span>)</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  sens8_cached <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens8_cache_file)</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  sens8_h2_aut <span class="ot">&lt;-</span> sens8_cached<span class="sc">$</span>h2_aut</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>  sens8_h2_com <span class="ot">&lt;-</span> sens8_cached<span class="sc">$</span>h2_com</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>  sens8_h2_rel <span class="ot">&lt;-</span> sens8_cached<span class="sc">$</span>h2_rel</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S8 models..."</span>)</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Prepare component-level data for each imputation</span></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>  sens8_data <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Preparing S6 data for imputation {i} of {m_imputations}"</span>))</span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate person means for each component (game and global)</span></span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat_i <span class="sc">|&gt;</span></span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(pid) <span class="sc">|&gt;</span></span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Game needs</span></span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_aut_pm =</span> <span class="fu">mean</span>(bangs_1, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb52-24"><a href="#cb52-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_com_pm =</span> <span class="fu">mean</span>(bangs_3, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb52-25"><a href="#cb52-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_rel_pm =</span> <span class="fu">mean</span>(bangs_5, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb52-26"><a href="#cb52-26" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Global need frustration</span></span>
<span id="cb52-27"><a href="#cb52-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_aut_nf_pm =</span> <span class="fu">mean</span>(bpnsfs_2, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb52-28"><a href="#cb52-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_com_nf_pm =</span> <span class="fu">mean</span>(bpnsfs_4, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb52-29"><a href="#cb52-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_rel_nf_pm =</span> <span class="fu">mean</span>(bpnsfs_6, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb52-30"><a href="#cb52-30" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb52-31"><a href="#cb52-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb52-32"><a href="#cb52-32" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Calculate grand means</span></span>
<span id="cb52-33"><a href="#cb52-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb52-34"><a href="#cb52-34" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Game needs</span></span>
<span id="cb52-35"><a href="#cb52-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_aut_gm =</span> <span class="fu">mean</span>(game_aut_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb52-36"><a href="#cb52-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_com_gm =</span> <span class="fu">mean</span>(game_com_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb52-37"><a href="#cb52-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_rel_gm =</span> <span class="fu">mean</span>(game_rel_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb52-38"><a href="#cb52-38" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Global need frustration</span></span>
<span id="cb52-39"><a href="#cb52-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_aut_nf_gm =</span> <span class="fu">mean</span>(global_aut_nf_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb52-40"><a href="#cb52-40" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_com_nf_gm =</span> <span class="fu">mean</span>(global_com_nf_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb52-41"><a href="#cb52-41" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_rel_nf_gm =</span> <span class="fu">mean</span>(global_rel_nf_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb52-42"><a href="#cb52-42" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb52-43"><a href="#cb52-43" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Within/between centering</span></span>
<span id="cb52-44"><a href="#cb52-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb52-45"><a href="#cb52-45" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Game needs</span></span>
<span id="cb52-46"><a href="#cb52-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_aut_cw =</span> bangs_1 <span class="sc">-</span> game_aut_pm,</span>
<span id="cb52-47"><a href="#cb52-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_aut_cb =</span> game_aut_pm <span class="sc">-</span> game_aut_gm,</span>
<span id="cb52-48"><a href="#cb52-48" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_com_cw =</span> bangs_3 <span class="sc">-</span> game_com_pm,</span>
<span id="cb52-49"><a href="#cb52-49" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_com_cb =</span> game_com_pm <span class="sc">-</span> game_com_gm,</span>
<span id="cb52-50"><a href="#cb52-50" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_rel_cw =</span> bangs_5 <span class="sc">-</span> game_rel_pm,</span>
<span id="cb52-51"><a href="#cb52-51" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_rel_cb =</span> game_rel_pm <span class="sc">-</span> game_rel_gm,</span>
<span id="cb52-52"><a href="#cb52-52" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Global need frustration</span></span>
<span id="cb52-53"><a href="#cb52-53" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_aut_nf_cw =</span> bpnsfs_2 <span class="sc">-</span> global_aut_nf_pm,</span>
<span id="cb52-54"><a href="#cb52-54" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_aut_nf_cb =</span> global_aut_nf_pm <span class="sc">-</span> global_aut_nf_gm,</span>
<span id="cb52-55"><a href="#cb52-55" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_com_nf_cw =</span> bpnsfs_4 <span class="sc">-</span> global_com_nf_pm,</span>
<span id="cb52-56"><a href="#cb52-56" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_com_nf_cb =</span> global_com_nf_pm <span class="sc">-</span> global_com_nf_gm,</span>
<span id="cb52-57"><a href="#cb52-57" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_rel_nf_cw =</span> bpnsfs_6 <span class="sc">-</span> global_rel_nf_pm,</span>
<span id="cb52-58"><a href="#cb52-58" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_rel_nf_cb =</span> global_rel_nf_pm <span class="sc">-</span> global_rel_nf_gm</span>
<span id="cb52-59"><a href="#cb52-59" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb52-60"><a href="#cb52-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-61"><a href="#cb52-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(dat_i)</span>
<span id="cb52-62"><a href="#cb52-62" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb52-63"><a href="#cb52-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-64"><a href="#cb52-64" aria-hidden="true" tabindex="-1"></a>  <span class="co"># H2 models: game component + matching global NF component → play</span></span>
<span id="cb52-65"><a href="#cb52-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S8 H2 autonomy models..."</span>)</span>
<span id="cb52-66"><a href="#cb52-66" aria-hidden="true" tabindex="-1"></a>  sens8_h2_aut <span class="ot">&lt;-</span> <span class="fu">pool</span>(<span class="fu">lapply</span>(sens8_data, <span class="cf">function</span>(dat) {</span>
<span id="cb52-67"><a href="#cb52-67" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb52-68"><a href="#cb52-68" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span> game_aut_cw <span class="sc">+</span></span>
<span id="cb52-69"><a href="#cb52-69" aria-hidden="true" tabindex="-1"></a>        global_aut_nf_cw <span class="sc">+</span></span>
<span id="cb52-70"><a href="#cb52-70" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb52-71"><a href="#cb52-71" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb52-72"><a href="#cb52-72" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat,</span>
<span id="cb52-73"><a href="#cb52-73" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb52-74"><a href="#cb52-74" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb52-75"><a href="#cb52-75" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb52-76"><a href="#cb52-76" aria-hidden="true" tabindex="-1"></a>  }))</span>
<span id="cb52-77"><a href="#cb52-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-78"><a href="#cb52-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S8 H2 competence models..."</span>)</span>
<span id="cb52-79"><a href="#cb52-79" aria-hidden="true" tabindex="-1"></a>  sens8_h2_com <span class="ot">&lt;-</span> <span class="fu">pool</span>(<span class="fu">lapply</span>(sens8_data, <span class="cf">function</span>(dat) {</span>
<span id="cb52-80"><a href="#cb52-80" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb52-81"><a href="#cb52-81" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span> game_com_cw <span class="sc">+</span></span>
<span id="cb52-82"><a href="#cb52-82" aria-hidden="true" tabindex="-1"></a>        global_com_nf_cw <span class="sc">+</span></span>
<span id="cb52-83"><a href="#cb52-83" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb52-84"><a href="#cb52-84" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb52-85"><a href="#cb52-85" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat,</span>
<span id="cb52-86"><a href="#cb52-86" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb52-87"><a href="#cb52-87" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb52-88"><a href="#cb52-88" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb52-89"><a href="#cb52-89" aria-hidden="true" tabindex="-1"></a>  }))</span>
<span id="cb52-90"><a href="#cb52-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-91"><a href="#cb52-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S8 H2 relatedness models..."</span>)</span>
<span id="cb52-92"><a href="#cb52-92" aria-hidden="true" tabindex="-1"></a>  sens8_h2_rel <span class="ot">&lt;-</span> <span class="fu">pool</span>(<span class="fu">lapply</span>(sens8_data, <span class="cf">function</span>(dat) {</span>
<span id="cb52-93"><a href="#cb52-93" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb52-94"><a href="#cb52-94" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span> game_rel_cw <span class="sc">+</span></span>
<span id="cb52-95"><a href="#cb52-95" aria-hidden="true" tabindex="-1"></a>        global_rel_nf_cw <span class="sc">+</span></span>
<span id="cb52-96"><a href="#cb52-96" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb52-97"><a href="#cb52-97" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb52-98"><a href="#cb52-98" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat,</span>
<span id="cb52-99"><a href="#cb52-99" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb52-100"><a href="#cb52-100" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb52-101"><a href="#cb52-101" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb52-102"><a href="#cb52-102" aria-hidden="true" tabindex="-1"></a>  }))</span>
<span id="cb52-103"><a href="#cb52-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-104"><a href="#cb52-104" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb52-105"><a href="#cb52-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(</span>
<span id="cb52-106"><a href="#cb52-106" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb52-107"><a href="#cb52-107" aria-hidden="true" tabindex="-1"></a>      <span class="at">h2_aut =</span> sens8_h2_aut,</span>
<span id="cb52-108"><a href="#cb52-108" aria-hidden="true" tabindex="-1"></a>      <span class="at">h2_com =</span> sens8_h2_com,</span>
<span id="cb52-109"><a href="#cb52-109" aria-hidden="true" tabindex="-1"></a>      <span class="at">h2_rel =</span> sens8_h2_rel</span>
<span id="cb52-110"><a href="#cb52-110" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb52-111"><a href="#cb52-111" aria-hidden="true" tabindex="-1"></a>    sens8_cache_file</span>
<span id="cb52-112"><a href="#cb52-112" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb52-113"><a href="#cb52-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S8 models saved to cache"</span>)</span>
<span id="cb52-114"><a href="#cb52-114" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Create S8 results table)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract within-person effects for both game and global needs from each model</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(sens8_h2_aut) <span class="sc">|&gt;</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"game_aut_cw"</span>) <span class="sc">|&gt;</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">predictor =</span> <span class="st">"Game autonomy"</span>),</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(sens8_h2_aut) <span class="sc">|&gt;</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"global_aut_nf_cw"</span>) <span class="sc">|&gt;</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">predictor =</span> <span class="st">"Global autonomy frustration"</span>),</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(sens8_h2_com) <span class="sc">|&gt;</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"game_com_cw"</span>) <span class="sc">|&gt;</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">predictor =</span> <span class="st">"Game competence"</span>),</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(sens8_h2_com) <span class="sc">|&gt;</span></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"global_com_nf_cw"</span>) <span class="sc">|&gt;</span></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">predictor =</span> <span class="st">"Global competence frustration"</span>),</span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(sens8_h2_rel) <span class="sc">|&gt;</span></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"game_rel_cw"</span>) <span class="sc">|&gt;</span></span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">predictor =</span> <span class="st">"Game relatedness"</span>),</span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(sens8_h2_rel) <span class="sc">|&gt;</span></span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"global_rel_nf_cw"</span>) <span class="sc">|&gt;</span></span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">predictor =</span> <span class="st">"Global relatedness frustration"</span>)</span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb53-29"><a href="#cb53-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(estimate, std.error, statistic), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>)),</span>
<span id="cb53-30"><a href="#cb53-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">p.value =</span> <span class="fu">case_when</span>(</span>
<span id="cb53-31"><a href="#cb53-31" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;.001"</span>,</span>
<span id="cb53-32"><a href="#cb53-32" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(<span class="fu">round</span>(p.value, <span class="dv">3</span>))</span>
<span id="cb53-33"><a href="#cb53-33" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb53-34"><a href="#cb53-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb53-35"><a href="#cb53-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb53-36"><a href="#cb53-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">Predictor =</span> predictor,</span>
<span id="cb53-37"><a href="#cb53-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">Estimate =</span> estimate,</span>
<span id="cb53-38"><a href="#cb53-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">SE =</span> std.error,</span>
<span id="cb53-39"><a href="#cb53-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">z =</span> statistic,</span>
<span id="cb53-40"><a href="#cb53-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> p.value</span>
<span id="cb53-41"><a href="#cb53-41" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb53-42"><a href="#cb53-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>(</span>
<span id="cb53-43"><a href="#cb53-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">notes =</span> <span class="st">"All predictors are within-person effects. Outcome: Probability of playing in subsequent 24 hours."</span></span>
<span id="cb53-44"><a href="#cb53-44" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb53-45"><a href="#cb53-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb53-46"><a href="#cb53-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-s8-h2-results" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-s8-h2-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;16: S8: Within-person associations between need components and probability of subsequent play
</figcaption>
<div aria-describedby="tbl-s8-h2-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_jkrxcsc86hjc8t21q03f = TinyTable.createTableFunctions("tinytable_jkrxcsc86hjc8t21q03f");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '6', j: 1 }, { i: '6', j: 2 }, { i: '6', j: 3 }, { i: '6', j: 4 }, { i: '6', j: 5 } ], css_id: 'tinytable_css_p1y8hhvkwmdnkqssapf8',}, 
          { positions: [ { i: '1', j: 1 }, { i: '2', j: 1 }, { i: '3', j: 1 }, { i: '4', j: 1 }, { i: '5', j: 1 }, { i: '1', j: 2 }, { i: '2', j: 2 }, { i: '3', j: 2 }, { i: '4', j: 2 }, { i: '5', j: 2 }, { i: '1', j: 3 }, { i: '2', j: 3 }, { i: '3', j: 3 }, { i: '4', j: 3 }, { i: '5', j: 3 }, { i: '1', j: 4 }, { i: '2', j: 4 }, { i: '3', j: 4 }, { i: '4', j: 4 }, { i: '5', j: 4 }, { i: '1', j: 5 }, { i: '2', j: 5 }, { i: '3', j: 5 }, { i: '4', j: 5 }, { i: '5', j: 5 } ], css_id: 'tinytable_css_4z5liq06blget9vu4se9',}, 
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 } ], css_id: 'tinytable_css_om9fig0pyuun22157865',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_jkrxcsc86hjc8t21q03f.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_jkrxcsc86hjc8t21q03f td.tinytable_css_p1y8hhvkwmdnkqssapf8, #tinytable_jkrxcsc86hjc8t21q03f th.tinytable_css_p1y8hhvkwmdnkqssapf8 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-size: 0.7em }
    #tinytable_jkrxcsc86hjc8t21q03f td.tinytable_css_4z5liq06blget9vu4se9, #tinytable_jkrxcsc86hjc8t21q03f th.tinytable_css_4z5liq06blget9vu4se9 { font-size: 0.7em }
    #tinytable_jkrxcsc86hjc8t21q03f td.tinytable_css_om9fig0pyuun22157865, #tinytable_jkrxcsc86hjc8t21q03f th.tinytable_css_om9fig0pyuun22157865 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_jkrxcsc86hjc8t21q03f" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1">Predictor</th>
                <th scope="col" data-row="0" data-col="2">Estimate</th>
                <th scope="col" data-row="0" data-col="3">SE</th>
                <th scope="col" data-row="0" data-col="4">z</th>
                <th scope="col" data-row="0" data-col="5">p</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="5">All predictors are within-person effects. Outcome: Probability of playing in subsequent 24 hours.</td></tr></tfoot>
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">Game autonomy</td>
                  <td data-row="1" data-col="2">-0.009</td>
                  <td data-row="1" data-col="3">0.032</td>
                  <td data-row="1" data-col="4">-0.290</td>
                  <td data-row="1" data-col="5">0.772</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1">Global autonomy frustration</td>
                  <td data-row="2" data-col="2">-0.051</td>
                  <td data-row="2" data-col="3">0.030</td>
                  <td data-row="2" data-col="4">-1.734</td>
                  <td data-row="2" data-col="5">0.083</td>
                </tr>
                <tr>
                  <td data-row="3" data-col="1">Game competence</td>
                  <td data-row="3" data-col="2">0.050</td>
                  <td data-row="3" data-col="3">0.028</td>
                  <td data-row="3" data-col="4">1.818</td>
                  <td data-row="3" data-col="5">0.069</td>
                </tr>
                <tr>
                  <td data-row="4" data-col="1">Global competence frustration</td>
                  <td data-row="4" data-col="2">-0.068</td>
                  <td data-row="4" data-col="3">0.028</td>
                  <td data-row="4" data-col="4">-2.392</td>
                  <td data-row="4" data-col="5">0.017</td>
                </tr>
                <tr>
                  <td data-row="5" data-col="1">Game relatedness</td>
                  <td data-row="5" data-col="2">0.021</td>
                  <td data-row="5" data-col="3">0.023</td>
                  <td data-row="5" data-col="4">0.934</td>
                  <td data-row="5" data-col="5">0.35</td>
                </tr>
                <tr>
                  <td data-row="6" data-col="1">Global relatedness frustration</td>
                  <td data-row="6" data-col="2">0.005</td>
                  <td data-row="6" data-col="3">0.034</td>
                  <td data-row="6" data-col="4">0.160</td>
                  <td data-row="6" data-col="5">0.873</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="s9-game-need-frustration-predicting-play" class="level3" data-number="7.3.9">
<h3 data-number="7.3.9" class="anchored" data-anchor-id="s9-game-need-frustration-predicting-play"><span class="header-section-number">7.3.9</span> S9: Game need frustration predicting play</h3>
<p>Testing whether game need frustration (rather than satisfaction) predicts subsequent play behavior. This mirrors the H2a hypothesis but uses frustration instead of satisfaction.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (S9: Fit model with game NF predicting play)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>sens9_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens9_fits.rds"</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>sens9_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens9_pooled.rds"</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens9_pooled_file)) {</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S9 pooled results"</span>)</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  sens9_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens9_pooled_file)</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S9 models..."</span>)</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Prepare data with game_nf centered</span></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>  sens9_data <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="sc">|&gt;</span></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(pid) <span class="sc">|&gt;</span></span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_nf_pm =</span> <span class="fu">mean</span>(game_nf, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_nf_gm =</span> <span class="fu">mean</span>(game_nf_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_nf_cw =</span> game_nf <span class="sc">-</span> game_nf_pm,</span>
<span id="cb54-24"><a href="#cb54-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_nf_cb =</span> game_nf_pm <span class="sc">-</span> game_nf_gm</span>
<span id="cb54-25"><a href="#cb54-25" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb54-26"><a href="#cb54-26" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb54-27"><a href="#cb54-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-28"><a href="#cb54-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit models</span></span>
<span id="cb54-29"><a href="#cb54-29" aria-hidden="true" tabindex="-1"></a>  sens9_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(sens9_data, <span class="cf">function</span>(dat_i) {</span>
<span id="cb54-30"><a href="#cb54-30" aria-hidden="true" tabindex="-1"></a>    glmmTMB<span class="sc">::</span><span class="fu">glmmTMB</span>(</span>
<span id="cb54-31"><a href="#cb54-31" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb54-32"><a href="#cb54-32" aria-hidden="true" tabindex="-1"></a>        game_nf_cw <span class="sc">+</span></span>
<span id="cb54-33"><a href="#cb54-33" aria-hidden="true" tabindex="-1"></a>        game_nf_cb <span class="sc">+</span></span>
<span id="cb54-34"><a href="#cb54-34" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid),</span>
<span id="cb54-35"><a href="#cb54-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb54-36"><a href="#cb54-36" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb54-37"><a href="#cb54-37" aria-hidden="true" tabindex="-1"></a>      <span class="at">control =</span> <span class="fu">glmmTMBControl</span>(</span>
<span id="cb54-38"><a href="#cb54-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">optimizer =</span> optim,</span>
<span id="cb54-39"><a href="#cb54-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">optArgs =</span> <span class="fu">list</span>(<span class="at">method =</span> <span class="st">"BFGS"</span>)</span>
<span id="cb54-40"><a href="#cb54-40" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb54-41"><a href="#cb54-41" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb54-42"><a href="#cb54-42" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb54-43"><a href="#cb54-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-44"><a href="#cb54-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pool results</span></span>
<span id="cb54-45"><a href="#cb54-45" aria-hidden="true" tabindex="-1"></a>  sens9_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(sens9_fits)</span>
<span id="cb54-46"><a href="#cb54-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-47"><a href="#cb54-47" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb54-48"><a href="#cb54-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens9_fits, sens9_cache_file)</span>
<span id="cb54-49"><a href="#cb54-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens9_pooled, sens9_pooled_file)</span>
<span id="cb54-50"><a href="#cb54-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S9 models saved to cache"</span>)</span>
<span id="cb54-51"><a href="#cb54-51" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Create S10 results table)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sens9_pooled) <span class="sc">|&gt;</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>, <span class="sc">!</span><span class="fu">str_detect</span>(term, <span class="st">"_cb"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, estimate, std.error, statistic, p.value) <span class="sc">|&gt;</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term),</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(estimate, std.error, statistic), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>)),</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">p.value =</span> <span class="fu">case_when</span>(</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;.001"</span>,</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(<span class="fu">round</span>(p.value, <span class="dv">3</span>))</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">Parameter =</span> term,</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Estimate =</span> estimate,</span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">SE =</span> std.error,</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">z =</span> statistic,</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> p.value</span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-s9-results" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-s9-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;17: S9: Game need frustration predicting subsequent play
</figcaption>
<div aria-describedby="tbl-s9-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_1nsed1cn74hntsqb9d0a = TinyTable.createTableFunctions("tinytable_1nsed1cn74hntsqb9d0a");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '1', j: 1 }, { i: '1', j: 2 }, { i: '1', j: 3 }, { i: '1', j: 4 }, { i: '1', j: 5 } ], css_id: 'tinytable_css_fm7llci5mue41k3u3wy3',}, 
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 } ], css_id: 'tinytable_css_kors84eop2sq7629xjys',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_1nsed1cn74hntsqb9d0a.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_1nsed1cn74hntsqb9d0a td.tinytable_css_fm7llci5mue41k3u3wy3, #tinytable_1nsed1cn74hntsqb9d0a th.tinytable_css_fm7llci5mue41k3u3wy3 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-size: 0.7em }
    #tinytable_1nsed1cn74hntsqb9d0a td.tinytable_css_kors84eop2sq7629xjys, #tinytable_1nsed1cn74hntsqb9d0a th.tinytable_css_kors84eop2sq7629xjys {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; font-size: 0.7em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_1nsed1cn74hntsqb9d0a" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1">Parameter</th>
                <th scope="col" data-row="0" data-col="2">Estimate</th>
                <th scope="col" data-row="0" data-col="3">SE</th>
                <th scope="col" data-row="0" data-col="4">z</th>
                <th scope="col" data-row="0" data-col="5">p</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">Game need frustration</td>
                  <td data-row="1" data-col="2">-0.07</td>
                  <td data-row="1" data-col="3">0.035</td>
                  <td data-row="1" data-col="4">-2.009</td>
                  <td data-row="1" data-col="5">0.045</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
<p>Results show that when people experience higher than usual in-game need frustration, they are less likely to play on the following day—but that this relationship is very small. Nonetheless, in contrast to the robust null results for game need satisfaction across various specifications, this provides some initial evidence that need frustration may be more salient for day-to-day change in gaming behavior than need satisfaction.</p>
</section>
<section id="s10-h3-displacement-by-specific-core-life-domain" class="level3" data-number="7.3.10">
<h3 data-number="7.3.10" class="anchored" data-anchor-id="s10-h3-displacement-by-specific-core-life-domain"><span class="header-section-number">7.3.10</span> S10: H3 displacement by specific core life domain</h3>
<p>The main H3 analysis aggregated all core life domains (work/school, social engagements, sleep/eating/fitness, caretaking) into a single binary indicator. Here we test whether specific domains show differential relationships with global need satisfaction.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (S10: Prepare domain-specific displacement indicators)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create domain-specific displacement indicators</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>dat_domains <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>    activity_categories <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, wave, activity_label),</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"wave"</span>)</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">displaced_work_school =</span> activity_label <span class="sc">==</span> <span class="st">"work_school"</span>,</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">displaced_social =</span> activity_label <span class="sc">==</span> <span class="st">"social_engagement"</span>,</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">displaced_health_sleep =</span> activity_label <span class="sc">==</span> <span class="st">"sleep_eat_fitness"</span>,</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">displaced_caretaking =</span> activity_label <span class="sc">==</span> <span class="st">"caretaking"</span></span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (S10: Fit H3 models for each core life domain)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>s10_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/s10_fits.rds"</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>s10_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/s10_pooled.rds"</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(s10_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(s10_pooled_file)) {</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S10 model fits"</span>)</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>  s10_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(s10_cache_file)</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>  s10_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(s10_pooled_file)</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S10 models..."</span>)</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit separate model for each domain</span></span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>  domains <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"displaced_work_school"</span>,</span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"displaced_social"</span>,</span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"displaced_health_sleep"</span>,</span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"displaced_caretaking"</span></span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a>  s10_fits <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a>  s10_pooled <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-23"><a href="#cb57-23" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (domain <span class="cf">in</span> domains) {</span>
<span id="cb57-24"><a href="#cb57-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting model for {domain}"</span>))</span>
<span id="cb57-25"><a href="#cb57-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-26"><a href="#cb57-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Filter to only observations where this specific domain could be displaced</span></span>
<span id="cb57-27"><a href="#cb57-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># (i.e., where the activity_label indicates this domain or other)</span></span>
<span id="cb57-28"><a href="#cb57-28" aria-hidden="true" tabindex="-1"></a>    domain_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb57-29"><a href="#cb57-29" aria-hidden="true" tabindex="-1"></a>      dat_i <span class="ot">&lt;-</span> dat_domains <span class="sc">|&gt;</span></span>
<span id="cb57-30"><a href="#cb57-30" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(.imp <span class="sc">==</span> i, <span class="sc">!</span><span class="fu">is.na</span>(<span class="sc">!!</span><span class="fu">sym</span>(domain)))</span>
<span id="cb57-31"><a href="#cb57-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-32"><a href="#cb57-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">glmmTMB</span>(</span>
<span id="cb57-33"><a href="#cb57-33" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as.formula</span>(<span class="fu">glue</span>(</span>
<span id="cb57-34"><a href="#cb57-34" aria-hidden="true" tabindex="-1"></a>          <span class="st">"global_ns ~ {domain} + (1 + {domain} | pid) + ar1(wave + 0 | pid)"</span></span>
<span id="cb57-35"><a href="#cb57-35" aria-hidden="true" tabindex="-1"></a>        )),</span>
<span id="cb57-36"><a href="#cb57-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> dat_i</span>
<span id="cb57-37"><a href="#cb57-37" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb57-38"><a href="#cb57-38" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb57-39"><a href="#cb57-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-40"><a href="#cb57-40" aria-hidden="true" tabindex="-1"></a>    s10_fits[[domain]] <span class="ot">&lt;-</span> domain_fits</span>
<span id="cb57-41"><a href="#cb57-41" aria-hidden="true" tabindex="-1"></a>    s10_pooled[[domain]] <span class="ot">&lt;-</span> <span class="fu">pool</span>(domain_fits)</span>
<span id="cb57-42"><a href="#cb57-42" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb57-43"><a href="#cb57-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-44"><a href="#cb57-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb57-45"><a href="#cb57-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="st">"data/models"</span>, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb57-46"><a href="#cb57-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(s10_fits, s10_cache_file)</span>
<span id="cb57-47"><a href="#cb57-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(s10_pooled, s10_pooled_file)</span>
<span id="cb57-48"><a href="#cb57-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S10 models saved to cache"</span>)</span>
<span id="cb57-49"><a href="#cb57-49" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show code (Create S10 results table)</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract results for each domain</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>s10_results <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lapply</span>(<span class="fu">names</span>(s10_pooled), <span class="cf">function</span>(domain) {</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summary</span>(s10_pooled[[domain]]) <span class="sc">|&gt;</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">str_detect</span>(term, <span class="st">"TRUE"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(term, estimate, std.error, statistic, p.value) <span class="sc">|&gt;</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">Domain =</span> <span class="fu">case_when</span>(</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>          domain <span class="sc">==</span> <span class="st">"displaced_work_school"</span> <span class="sc">~</span> <span class="st">"Work/School"</span>,</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>          domain <span class="sc">==</span> <span class="st">"displaced_social"</span> <span class="sc">~</span> <span class="st">"Social Engagement"</span>,</span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>          domain <span class="sc">==</span> <span class="st">"displaced_health_sleep"</span> <span class="sc">~</span> <span class="st">"Sleep/Eating/Fitness"</span>,</span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>          domain <span class="sc">==</span> <span class="st">"displaced_caretaking"</span> <span class="sc">~</span> <span class="st">"Caretaking"</span>,</span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>          <span class="cn">TRUE</span> <span class="sc">~</span> domain</span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(Domain, estimate, std.error, statistic, p.value)</span>
<span id="cb58-18"><a href="#cb58-18" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb58-19"><a href="#cb58-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb58-20"><a href="#cb58-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-21"><a href="#cb58-21" aria-hidden="true" tabindex="-1"></a>s10_results <span class="sc">|&gt;</span></span>
<span id="cb58-22"><a href="#cb58-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb58-23"><a href="#cb58-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(estimate, std.error, statistic), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>)),</span>
<span id="cb58-24"><a href="#cb58-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">p.value =</span> <span class="fu">case_when</span>(</span>
<span id="cb58-25"><a href="#cb58-25" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;.001"</span>,</span>
<span id="cb58-26"><a href="#cb58-26" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.01</span> <span class="sc">~</span> <span class="fu">sprintf</span>(<span class="st">"%.3f"</span>, p.value),</span>
<span id="cb58-27"><a href="#cb58-27" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">sprintf</span>(<span class="st">"%.2f"</span>, p.value)</span>
<span id="cb58-28"><a href="#cb58-28" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb58-29"><a href="#cb58-29" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb58-30"><a href="#cb58-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>(</span>
<span id="cb58-31"><a href="#cb58-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">escape =</span> <span class="cn">TRUE</span>,</span>
<span id="cb58-32"><a href="#cb58-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">notes =</span> <span class="st">"All models include random intercepts, random slopes, and AR(1) autocorrelation. Estimates represent the difference in global need satisfaction when the specific domain was displaced vs. not displaced."</span></span>
<span id="cb58-33"><a href="#cb58-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb58-34"><a href="#cb58-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.8</span>) <span class="sc">|&gt;</span></span>
<span id="cb58-35"><a href="#cb58-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="tbl-s10-domain-results" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-s10-domain-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;18: H3 sensitivity analysis: Effect of displacing specific core life domains on global need satisfaction
</figcaption>
<div aria-describedby="tbl-s10-domain-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_w9due2fm8jobgeu6ryph = TinyTable.createTableFunctions("tinytable_w9due2fm8jobgeu6ryph");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '4', j: 1 }, { i: '4', j: 2 }, { i: '4', j: 3 }, { i: '4', j: 4 }, { i: '4', j: 5 } ], css_id: 'tinytable_css_g309sdqd11c5u20js1xl',}, 
          { positions: [ { i: '1', j: 1 }, { i: '2', j: 1 }, { i: '3', j: 1 }, { i: '1', j: 2 }, { i: '2', j: 2 }, { i: '3', j: 2 }, { i: '1', j: 3 }, { i: '2', j: 3 }, { i: '3', j: 3 }, { i: '1', j: 4 }, { i: '2', j: 4 }, { i: '3', j: 4 }, { i: '1', j: 5 }, { i: '2', j: 5 }, { i: '3', j: 5 } ], css_id: 'tinytable_css_ksh6unaau414r04mcjk8',}, 
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 } ], css_id: 'tinytable_css_ppcuem84xfmq9pwbhki8',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_w9due2fm8jobgeu6ryph.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_w9due2fm8jobgeu6ryph td.tinytable_css_g309sdqd11c5u20js1xl, #tinytable_w9due2fm8jobgeu6ryph th.tinytable_css_g309sdqd11c5u20js1xl {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-size: 0.8em }
    #tinytable_w9due2fm8jobgeu6ryph td.tinytable_css_ksh6unaau414r04mcjk8, #tinytable_w9due2fm8jobgeu6ryph th.tinytable_css_ksh6unaau414r04mcjk8 { font-size: 0.8em }
    #tinytable_w9due2fm8jobgeu6ryph td.tinytable_css_ppcuem84xfmq9pwbhki8, #tinytable_w9due2fm8jobgeu6ryph th.tinytable_css_ppcuem84xfmq9pwbhki8 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; font-weight: bold; font-size: 0.8em }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_w9due2fm8jobgeu6ryph" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1">Domain</th>
                <th scope="col" data-row="0" data-col="2">estimate</th>
                <th scope="col" data-row="0" data-col="3">std.error</th>
                <th scope="col" data-row="0" data-col="4">statistic</th>
                <th scope="col" data-row="0" data-col="5">p.value</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="5">All models include random intercepts, random slopes, and AR(1) autocorrelation. Estimates represent the difference in global need satisfaction when the specific domain was displaced vs. not displaced.</td></tr></tfoot>
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">Work/School</td>
                  <td data-row="1" data-col="2">-0.034</td>
                  <td data-row="1" data-col="3">0.029</td>
                  <td data-row="1" data-col="4">-1.199</td>
                  <td data-row="1" data-col="5">0.23</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1">Social Engagement</td>
                  <td data-row="2" data-col="2">0.138</td>
                  <td data-row="2" data-col="3">0.060</td>
                  <td data-row="2" data-col="4">2.286</td>
                  <td data-row="2" data-col="5">0.02</td>
                </tr>
                <tr>
                  <td data-row="3" data-col="1">Sleep/Eating/Fitness</td>
                  <td data-row="3" data-col="2">-0.087</td>
                  <td data-row="3" data-col="3">0.024</td>
                  <td data-row="3" data-col="4">-3.573</td>
                  <td data-row="3" data-col="5">&lt;.001</td>
                </tr>
                <tr>
                  <td data-row="4" data-col="1">Caretaking</td>
                  <td data-row="4" data-col="2">0.278</td>
                  <td data-row="4" data-col="3">0.136</td>
                  <td data-row="4" data-col="4">2.048</td>
                  <td data-row="4" data-col="5">0.04</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
<p>Results showed that global need satisfaction was lower when gaming displaced work/school responsibilities and sleep/eating/fitness, but—contrary to expectations—tended to be higher when gaming displaced social engagements or caretaking. We return to this in the discussion.</p>


<!-- -->


</section>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-AalbersEtAl2021Caught" class="csl-entry" role="listitem">
Aalbers, G., vanden Abeele, M. M. P., Hendrickson, A. T., de Marez, L., &amp; Keijsers, L. (2021). Caught in the moment: Are there person-specific associations between momentary procrastination and passively measured smartphone use? <em>Mobile Media &amp; Communication</em>, <em>10</em>(1), 205015792199389. <a href="https://doi.org/10.1177/2050157921993896">https://doi.org/10.1177/2050157921993896</a>
</div>
<div id="ref-AdinolfTurkay2019differences" class="csl-entry" role="listitem">
Adinolf, S., &amp; Türkay, S. (2019). Differences in player experiences of need satisfaction across four games. <em>Proceedings of DiGRA 2019</em>, 12.
</div>
<div id="ref-AllenAnderson2018satisfaction" class="csl-entry" role="listitem">
Allen, J. J., &amp; Anderson, C. A. (2018). Satisfaction and frustration of basic psychological needs in the real world and in video games predict internet gaming disorder scores and well-being. <em>Computers in Human Behavior</em>, <em>84</em>, 220–229. <a href="https://doi.org/10.1016/j.chb.2018.02.034">https://doi.org/10.1016/j.chb.2018.02.034</a>
</div>
<div id="ref-Ballou2023Manifesto" class="csl-entry" role="listitem">
Ballou, N. (2023). A manifesto for more productive psychological games research. <em>Games: Research and Practice</em>, <em>1</em>(1), 1–26. <a href="https://doi.org/10.1145/3582929">https://doi.org/10.1145/3582929</a>
</div>
<div id="ref-BallouEtAl2024Basic" class="csl-entry" role="listitem">
Ballou, N., Denisova, A., Ryan, R., Rigby, C. S., &amp; Deterding, S. (2024). The basic needs in games scale (BANGS): A new tool for investigating positive and negative video game experiences. <em>International Journal of Human-Computer Studies</em>, <em>188</em>, 103289. <a href="https://doi.org/10.1016/j.ijhcs.2024.103289">https://doi.org/10.1016/j.ijhcs.2024.103289</a>
</div>
<div id="ref-BallouDeterding2023Just" class="csl-entry" role="listitem">
Ballou, N., &amp; Deterding, S. (2023). <span>“I just wanted to get it over and done with”</span>: A grounded theory of psychological need frustration in video games. <em>The Annual Symposium on Computer-Human Interaction in Play - CHI PLAY ’23</em>, 382. <a href="https://doi.org/10.1145/3611028">https://doi.org/10.1145/3611028</a>
</div>
<div id="ref-BallouDeterding2024Basic" class="csl-entry" role="listitem">
Ballou, N., &amp; Deterding, S. (2024). The basic needs in games model of video game play and mental health. <em>Interacting with Computers</em>, iwae042. <a href="https://doi.org/10.1093/iwc/iwae042">https://doi.org/10.1093/iwc/iwae042</a>
</div>
<div id="ref-BallouEtAl2022People" class="csl-entry" role="listitem">
Ballou, N., Deterding, S., Iacovides, I., &amp; Helsby, L. (2022). Do people use games to compensate for psychological needs during crises? A mixed-methods study of gaming during COVID-19 lockdowns. In S. Barbosa, C. Lampe, C. Appert, D. A. Shamma, S. Drucker, J. Williamson, &amp; K. Yatani (Eds.), <em>CHI ’22</em> (pp. 1–15). ACM Press. <a href="https://doi.org/10.1145/3491102.3501858">https://doi.org/10.1145/3491102.3501858</a>
</div>
<div id="ref-BallouEtAl2025Psychological" class="csl-entry" role="listitem">
Ballou, N., Földes, T. A., Hakman, T., Vuorre, M., Magnusson, K., &amp; Przybylski, A. K. (2025). <em>Psychological wellbeing, sleep, and video gaming: Analyses of comprehensive digital traces [stage 1 programmatic registered report]</em>. PsyArXiv. <a href="https://doi.org/10.31234/osf.io/kvqdy_v1">https://doi.org/10.31234/osf.io/kvqdy_v1</a>
</div>
<div id="ref-BallouEtAl2025Open" class="csl-entry" role="listitem">
Ballou, N., Földes, T. A., Vuorre, M., Hakman, T., Magnusson, K., &amp; Przybylski, A. K. (2025). <em>Open play: A longitudinal dataset of multi-platform video game digital trace data and psychological measures</em>. PsyArXiv. <a href="https://doi.org/10.31234/osf.io/nz96c_v1">https://doi.org/10.31234/osf.io/nz96c_v1</a>
</div>
<div id="ref-BallouEtAl2025How" class="csl-entry" role="listitem">
Ballou, N., Hakman, T., Vuorre, M., Magnusson, K., &amp; Przybylski, A. K. (2025). How do video games affect mental health? A narrative review of 13 proposed mechanisms. <em>Technology, Mind, and Behavior</em>, <em>6</em>(2), 1–21. <a href="https://doi.org/10.1037/tmb0000152">https://doi.org/10.1037/tmb0000152</a>
</div>
<div id="ref-BallouEtAl2024Registered" class="csl-entry" role="listitem">
Ballou, N., Sewall, C. J. R., Ratcliffe, J., Zendle, D., Tokarchuk, L., &amp; Deterding, S. (2024). Registered report evidence suggests no relationship between objectively-tracked video game playtime and wellbeing over 3 months. <em>Technology, Mind, and Behavior</em>, <em>5</em>(1), 1–15. <a href="https://doi.org/10.1037/tmb0000124">https://doi.org/10.1037/tmb0000124</a>
</div>
<div id="ref-BallouEtAl2025Perceived" class="csl-entry" role="listitem">
Ballou, N., Vuorre, M., Hakman, T., &amp; Przybylski, A. K. (2025). Perceived value of video games, but not hours played, predicts mental well-being in casual adult nintendo players. <em>Royal Society Open Science</em>, <em>12</em>, 241174. <a href="https://doi.org/10.1098/rsos.241174">https://doi.org/10.1098/rsos.241174</a>
</div>
<div id="ref-BradtEtAl2024Are" class="csl-entry" role="listitem">
Bradt, L., Vermote, B., Zaman, B., Vansteenkiste, M., Van De Casteele, M., &amp; Soenens, B. (2024). Are video games and school conflictual or complementary contexts for affording psychological need fulfillment? Implications for adolescents’ problematic gaming and school adjustment. <em>Interacting with Computers</em>, iwae020. <a href="https://doi.org/10.1093/iwc/iwae020">https://doi.org/10.1093/iwc/iwae020</a>
</div>
<div id="ref-BrooksEtAl2017glmmTMB" class="csl-entry" role="listitem">
Brooks, M. E., Kristensen, K., van Benthem, K. J., Magnusson, A., Berg, C. W., Nielsen, A., Skaug, H. J., Maechler, M., &amp; Bolker, B. M. (2017). glmmTMB balances speed and flexibility among packages for zero-inflated generalized linear mixed modeling. <em>The R Journal</em>, <em>9</em>(2), 378–400. <a href="https://journal.r-project.org/archive/2017/RJ-2017-066/index.html">https://journal.r-project.org/archive/2017/RJ-2017-066/index.html</a>
</div>
<div id="ref-BruhlmannEtAl2020Motivational" class="csl-entry" role="listitem">
Brühlmann, F., Baumgartner, P., Wallner, G., Kriglstein, S., &amp; Mekler, E. D. (2020). Motivational profiling of league of legends players. <em>Frontiers in Psychology</em>, <em>11</em>, 1307. <a href="https://doi.org/10.3389/fpsyg.2020.01307">https://doi.org/10.3389/fpsyg.2020.01307</a>
</div>
<div id="ref-Buchi2024Digital" class="csl-entry" role="listitem">
Büchi, M. (2024). Digital well-being theory and research. <em>New Media &amp; Society</em>, <em>26</em>(1), 172–189. <a href="https://doi.org/10.1177/14614448211056851">https://doi.org/10.1177/14614448211056851</a>
</div>
<div id="ref-CarverScheier2001selfregulation" class="csl-entry" role="listitem">
Carver, C. S., &amp; Scheier, M. F. (2001). <em>On the self-regulation of behavior</em> (First paperback edtion). Cambridge University Press.
</div>
<div id="ref-ChangEtAl2014effects" class="csl-entry" role="listitem">
Chang, I.-C., Liu, C.-C., &amp; Chen, K. (2014). The effects of hedonic/utilitarian expectations and social influence on continuance intention to play online games. <em>Internet Research</em>, <em>24</em>(1), 21–45. <a href="https://doi.org/10.1108/IntR-02-2012-0025">https://doi.org/10.1108/IntR-02-2012-0025</a>
</div>
<div id="ref-ChenEtAl2015Basic" class="csl-entry" role="listitem">
Chen, B., Vansteenkiste, M., Beyers, W., Boone, L., Deci, E. L., Van der Kaap-Deeder, J., Duriez, B., Lens, W., Matos, L., Mouratidis, A., Ryan, R. M., Sheldon, K. M., Soenens, B., Van Petegem, S., &amp; Verstuyf, J. (2015). Basic psychological need satisfaction, need frustration, and need strength across four cultures. <em>Motivation and Emotion</em>, <em>39</em>(2), 216–236. <a href="https://doi.org/10.1007/s11031-014-9450-1">https://doi.org/10.1007/s11031-014-9450-1</a>
</div>
<div id="ref-DeciRyan1985Intrinsic" class="csl-entry" role="listitem">
Deci, E. L., &amp; Ryan, R. M. (1985). <em>Intrinsic motivation and self-determination in human behavior</em>. Springer US. <a href="https://doi.org/10.1007/978-1-4899-2271-7">https://doi.org/10.1007/978-1-4899-2271-7</a>
</div>
<div id="ref-DomahidiEtAl2018Longitudinal" class="csl-entry" role="listitem">
Domahidi, E., Breuer, J., Kowert, R., Festl, R., &amp; Quandt, T. (2018). A longitudinal analysis of gaming- and non-gaming-related friendships and social support among social online game players. <em>Media Psychology</em>, <em>21</em>(2), 288–307. <a href="https://doi.org/10.1080/15213269.2016.1257393">https://doi.org/10.1080/15213269.2016.1257393</a>
</div>
<div id="ref-DrummondSauer2020Timesplitters" class="csl-entry" role="listitem">
Drummond, A., &amp; Sauer, J. D. (2020). Timesplitters: Playing video games before (but not after) school on weekdays is associated with poorer adolescent academic performance. A test of competing theoretical accounts. <em>Computers &amp; Education</em>, <em>144</em>, 103704. <a href="https://doi.org/10.1016/j.compedu.2019.103704">https://doi.org/10.1016/j.compedu.2019.103704</a>
</div>
<div id="ref-El-NasrEtAl2021Game" class="csl-entry" role="listitem">
El-Nasr, M. S., Nguyen, T.-H. D., Canossa, A., &amp; Drachen, A. (2021). <em>Game data science</em> (First edition). Oxford University Press.
</div>
<div id="ref-EntertainmentSoftwareAssociation20242024" class="csl-entry" role="listitem">
Entertainment Software Association. (2024). <em>2024 essential facts about the u.s. Video game industry</em>. Entertainment Software Association. <a href="https://www.theesa.com/wp-content/uploads/2024/05/Essential-Facts-2024-FINAL.pdf">https://www.theesa.com/wp-content/uploads/2024/05/Essential-Facts-2024-FINAL.pdf</a>
</div>
<div id="ref-ErnalaEtAl2020How" class="csl-entry" role="listitem">
Ernala, S. K., Burke, M., Leavitt, A., &amp; Ellison, N. B. (2020). How well do people report time spent on facebook?: An evaluation of established survey questions with recommendations. <em>Proceedings of the 2020 CHI Conference on Human Factors in Computing Systems</em>, 1–14. <a href="https://doi.org/10.1145/3313831.3376435">https://doi.org/10.1145/3313831.3376435</a>
</div>
<div id="ref-FormosaEtAl2022Need" class="csl-entry" role="listitem">
Formosa, J., Johnson, D., Türkay, S., &amp; Mandryk, R. L. (2022). Need satisfaction, passion and wellbeing effects of videogame play prior to and during the COVID-19 pandemic. <em>Computers in Human Behavior</em>, <em>131</em>, 107232. <a href="https://doi.org/10.1016/j.chb.2022.107232">https://doi.org/10.1016/j.chb.2022.107232</a>
</div>
<div id="ref-Hull1943Principles" class="csl-entry" role="listitem">
Hull, C. L. (1943). <em>Principles of behavior an introduction to behavior theory</em>. Appleton-Century-Crofts.
</div>
<div id="ref-JohannesEtAl2024How" class="csl-entry" role="listitem">
Johannes, N., Masur, P. K., Vuorre, M., &amp; Przybylski, A. K. (2024). How should we investigate variation in the relation between social media and well-being? <em>Meta-Psychology</em>, <em>8</em>, 2022.3322. <a href="https://doi.org/10.15626/MP.2022.3322">https://doi.org/10.15626/MP.2022.3322</a>
</div>
<div id="ref-JohannesEtAl2021Video" class="csl-entry" role="listitem">
Johannes, N., Vuorre, M., &amp; Przybylski, A. K. (2021). Video game play is positively correlated with well-being. <em>Royal Society Open Science</em>, <em>8</em>(2), rsos.202049, 202049. <a href="https://doi.org/10.1098/rsos.202049">https://doi.org/10.1098/rsos.202049</a>
</div>
<div id="ref-KahnEtAl2014why" class="csl-entry" role="listitem">
Kahn, A. S., Ratan, R., &amp; Williams, D. (2014). Why we distort in self-report: Predictors of self-report errors in video game play. <em>Journal of Computer-Mediated Communication</em>, <em>19</em>(4), 1010–1023. <a href="https://doi.org/10.1111/jcc4.12056">https://doi.org/10.1111/jcc4.12056</a>
</div>
<div id="ref-KaoEtAl2024How" class="csl-entry" role="listitem">
Kao, D., Ballou, N., Gerling, K., Breitsohl, H., &amp; Deterding, S. (2024). How does juicy game feedback motivate? Testing curiosity, competence, and effectance. <em>Proceedings of the CHI Conference on Human Factors in Computing Systems</em>, 1–16. <a href="https://doi.org/10.1145/3613904.3642656">https://doi.org/10.1145/3613904.3642656</a>
</div>
<div id="ref-KocakAlanEtAl2022Replaying" class="csl-entry" role="listitem">
Kocak Alan, A., Tumer Kabadayi, E., &amp; Cavdar Aksoy, N. (2022). Replaying online games for flow experience and outcome expectations: An exploratory study for the moderating role of external locus of control based on turkish gamers’ evaluations. <em>Entertainment Computing</em>, <em>40</em>, 100460. <a href="https://doi.org/10.1016/j.entcom.2021.100460">https://doi.org/10.1016/j.entcom.2021.100460</a>
</div>
<div id="ref-KosaUysal2024Exploration" class="csl-entry" role="listitem">
Kosa, M., &amp; Uysal, A. (2024). Exploration of novelty as part of the player experience of need satisfaction in games. <em>Interacting with Computers</em>, iwae006. <a href="https://doi.org/10.1093/iwc/iwae006">https://doi.org/10.1093/iwc/iwae006</a>
</div>
<div id="ref-LaroseEtAl2001Understanding" class="csl-entry" role="listitem">
Larose, R., Mastro, D., &amp; Eastin, M. S. (2001). Understanding internet usage: A social-cognitive approach to uses and gratifications. <em>Social Science Computer Review</em>, <em>19</em>(4), 395–413. <a href="https://doi.org/10.1177/089443930101900401">https://doi.org/10.1177/089443930101900401</a>
</div>
<div id="ref-LarrieuEtAl2023How" class="csl-entry" role="listitem">
Larrieu, M., Fombouchet, Y., Billieux, J., &amp; Decamps, G. (2023). How gaming motives affect the reciprocal relationships between video game use and quality of life: A prospective study using objective playtime indicators. <em>Computers in Human Behavior</em>, <em>147</em>, 107824. <a href="https://doi.org/10.1016/j.chb.2023.107824">https://doi.org/10.1016/j.chb.2023.107824</a>
</div>
<div id="ref-LuhmannEtAl2021Subjective" class="csl-entry" role="listitem">
Luhmann, M., Krasko, J., &amp; Terwiel, S. (2021). Subjective well-being as a dynamic construct. In <em>The handbook of personality dynamics and processes</em> (pp. 1231–1249). Elsevier. <a href="https://doi.org/10.1016/B978-0-12-813995-0.00048-0">https://doi.org/10.1016/B978-0-12-813995-0.00048-0</a>
</div>
<div id="ref-MartelaRyan2024Assessing" class="csl-entry" role="listitem">
Martela, F., &amp; Ryan, R. M. (2024). Assessing autonomy, competence, and relatedness briefly: Validating single-item scales for basic psychological need satisfaction. <em>European Journal of Psychological Assessment</em>, 1015–5759/a000846. <a href="https://doi.org/10.1027/1015-5759/a000846">https://doi.org/10.1027/1015-5759/a000846</a>
</div>
<div id="ref-Meehl1990Why" class="csl-entry" role="listitem">
Meehl, P. E. (1990). Why summaries of research on psychological theories are often uninterpretable. <em>Psychological Reports</em>, <em>66</em>, 195–244. <a href="https://doi.org/10.2466/pr0.1990.66.1.195">https://doi.org/10.2466/pr0.1990.66.1.195</a>
</div>
<div id="ref-MillsEtAl2018exploring" class="csl-entry" role="listitem">
Mills, D. J., Milyavskaya, M., Mettler, J., &amp; Heath, N. L. (2018). Exploring the pull and push underlying problem video game use: A self-determination theory approach. <em>Personality and Individual Differences</em>, <em>135</em>, 176–181. <a href="https://doi.org/10.1016/j.paid.2018.07.007">https://doi.org/10.1016/j.paid.2018.07.007</a>
</div>
<div id="ref-MurayamaJach2023critique" class="csl-entry" role="listitem">
Murayama, K., &amp; Jach, H. (2023). <em>A critique of motivation constructs to explain higher-order behavior: We should unpack the black box</em> [Preprint]. PsyArXiv. <a href="https://doi.org/10.31234/osf.io/juxkh">https://doi.org/10.31234/osf.io/juxkh</a>
</div>
<div id="ref-NeysEtAl2014exploring" class="csl-entry" role="listitem">
Neys, J. L. D., Jansz, J., &amp; Tan, E. S. H. (2014). Exploring persistence in gaming: The role of self-determination and social identity. <em>Computers in Human Behavior</em>, <em>37</em>, 196–209. <a href="https://doi.org/10.1016/j.chb.2014.04.047">https://doi.org/10.1016/j.chb.2014.04.047</a>
</div>
<div id="ref-Niv2009Reinforcement" class="csl-entry" role="listitem">
Niv, Y. (2009). Reinforcement learning in the brain. <em>Journal of Mathematical Psychology</em>, <em>53</em>(3), 139–154. <a href="https://doi.org/10.1016/j.jmp.2008.12.005">https://doi.org/10.1016/j.jmp.2008.12.005</a>
</div>
<div id="ref-NorwoodPrzybylski2025new" class="csl-entry" role="listitem">
Norwood, S. F., &amp; Przybylski, A. K. (2025). <em>A new lens for understanding how digital technologies facilitate human behaviour</em>. PsyArXiv. <a href="https://doi.org/10.31234/osf.io/ztev4_v1">https://doi.org/10.31234/osf.io/ztev4_v1</a>
</div>
<div id="ref-Ofcom2023Online" class="csl-entry" role="listitem">
Ofcom. (2023). <em>Online nation 2023 report</em> (p. 106). Ofcom. <a href="https://www.ofcom.org.uk/siteassets/resources/documents/research-and-data/online-research/online-nation/2023/online-nation-2023-report.pdf?v=368355">https://www.ofcom.org.uk/siteassets/resources/documents/research-and-data/online-research/online-nation/2023/online-nation-2023-report.pdf?v=368355</a>
</div>
<div id="ref-OliverEtAl2016video" class="csl-entry" role="listitem">
Oliver, M. B., Bowman, N. D., Woolley, J. K., Rogers, R., Sherrick, B. I., &amp; Chung, M.-Y. (2016). Video games as meaningful entertainment experiences. <em>Psychology of Popular Media Culture</em>, <em>5</em>(4), 390–405. <a href="https://doi.org/10.1037/ppm0000066">https://doi.org/10.1037/ppm0000066</a>
</div>
<div id="ref-Orben2022Digital" class="csl-entry" role="listitem">
Orben, A. (2022). Digital diet: A 21st century approach to understanding digital technologies and development. <em>Infant and Child Development</em>, e2228. <a href="https://doi.org/10.1002/icd.2228">https://doi.org/10.1002/icd.2228</a>
</div>
<div id="ref-OuelletteWood1998Habit" class="csl-entry" role="listitem">
Ouellette, J. A., &amp; Wood, W. (1998). Habit and intention in everyday life: The multiple processes by which past behavior predicts future behavior. <em>Psychological Bulletin</em>, <em>124</em>(1), 54–74. <a href="https://doi.org/10.1037/0033-2909.124.1.54">https://doi.org/10.1037/0033-2909.124.1.54</a>
</div>
<div id="ref-ParryEtAl2021systematic" class="csl-entry" role="listitem">
Parry, D. A., Davidson, B. I., Sewall, C. J. R., Fisher, J. T., Mieczkowski, H., &amp; Quintana, D. S. (2021). A systematic review and meta-analysis of discrepancies between logged and self-reported digital media use. <em>Nature Human Behaviour</em>, <em>5</em>, 1535–1547. <a href="https://doi.org/10.1038/s41562-021-01117-5">https://doi.org/10.1038/s41562-021-01117-5</a>
</div>
<div id="ref-PrzybylskiEtAl2010motivational" class="csl-entry" role="listitem">
Przybylski, A. K., Rigby, C. S., &amp; Ryan, R. M. (2010). A motivational model of video game engagement. <em>Review of General Psychology</em>, <em>14</em>(2), 154–166. <a href="https://doi.org/10.1037/A0019440">https://doi.org/10.1037/A0019440</a>
</div>
<div id="ref-ReerQuandt2020Digital" class="csl-entry" role="listitem">
Reer, F., &amp; Quandt, T. (2020). Digital games and well-being: An overview. In R. Kowert (Ed.), <em>Video games and well-being</em> (pp. 1–21). Springer International Publishing. <a href="https://doi.org/10.1007/978-3-030-32770-5_1">https://doi.org/10.1007/978-3-030-32770-5_1</a>
</div>
<div id="ref-RohrerMurayama2021These" class="csl-entry" role="listitem">
Rohrer, J. M., &amp; Murayama, K. (2021). <em>These are not the effects you are looking for: Causality and the within-/between-person distinction in longitudinal data analysis</em> [Preprint]. PsyArXiv. <a href="https://doi.org/10.31234/osf.io/tg4vj">https://doi.org/10.31234/osf.io/tg4vj</a>
</div>
<div id="ref-Ryan2023Oxforda" class="csl-entry" role="listitem">
Ryan, R. M. (Ed.). (2023). <em>The oxford handbook of self-determination theory</em> (1st ed.). Oxford University Press. <a href="https://doi.org/10.1093/oxfordhb/9780197600047.001.0001">https://doi.org/10.1093/oxfordhb/9780197600047.001.0001</a>
</div>
<div id="ref-RyanDeci2017Selfdetermination" class="csl-entry" role="listitem">
Ryan, R. M., &amp; Deci, E. L. (2017). <em>Self-determination theory: Basic psychological needs in motivation, development, and wellness</em>. Guilford Press.
</div>
<div id="ref-SheeranWebb2016Intention" class="csl-entry" role="listitem">
Sheeran, P., &amp; Webb, T. L. (2016). The intention–behavior gap. <em>Social and Personality Psychology Compass</em>, <em>10</em>(9), 503–518. <a href="https://doi.org/10.1111/spc3.12265">https://doi.org/10.1111/spc3.12265</a>
</div>
<div id="ref-SheldonEtAl2011twoprocess" class="csl-entry" role="listitem">
Sheldon, K. M., Abad, N., &amp; Hinsch, C. (2011). A two-process view of facebook use and relatedness need-satisfaction: Disconnection drives use, and connection rewards it. <em>Journal of Personality and Social Psychology</em>, <em>100</em>(4), 766–775. <a href="https://doi.org/10.1037/a0022407">https://doi.org/10.1037/a0022407</a>
</div>
<div id="ref-SheldonGunz2009psychological" class="csl-entry" role="listitem">
Sheldon, K. M., &amp; Gunz, A. (2009). Psychological needs as basic motives, not just experiential requirements. <em>Journal of Personality</em>, <em>77</em>(5), 1467–1492. <a href="https://doi.org/10.1111/j.1467-6494.2009.00589.x">https://doi.org/10.1111/j.1467-6494.2009.00589.x</a>
</div>
<div id="ref-SiebersEtAl2021Explaining" class="csl-entry" role="listitem">
Siebers, T., Beyens, I., Pouwels, J. L., &amp; Valkenburg, P. M. (2021). <em>Explaining variation in adolescents’ social media-related distraction: The role of social connectivity and disconnectivity factors</em> [Preprint]. PsyArXiv. <a href="https://doi.org/10.31234/osf.io/g6na7">https://doi.org/10.31234/osf.io/g6na7</a>
</div>
<div id="ref-Skinner1965Science" class="csl-entry" role="listitem">
Skinner, B. F. (1965). <em>Science and human behavior</em>. Free Press.
</div>
<div id="ref-TamboriniEtAl2011Media" class="csl-entry" role="listitem">
Tamborini, R., Grizzard, M., Bowman, N. D., Reinecke, L., Lewis, R. J., &amp; Eden, A. (2011). Media enjoyment as need satisfaction: The contribution of hedonic and nonhedonic needs. <em>Journal of Communication</em>, <em>61</em>(6), 1025–U55. <a href="https://doi.org/10.1111/j.1460-2466.2011.01593.x">https://doi.org/10.1111/j.1460-2466.2011.01593.x</a>
</div>
<div id="ref-Toates1986Motivational" class="csl-entry" role="listitem">
Toates, F. (1986). <em>Motivational systems</em> (1. publ). Cambridge Univ. Press.
</div>
<div id="ref-TyackMekler2020Selfdetermination" class="csl-entry" role="listitem">
Tyack, A., &amp; Mekler, E. D. (2020). Self-determination theory in HCI games research – current uses and open questions. <em>CHI</em>, 21. <a href="https://doi.org/10.1145/3313831.3376723">https://doi.org/10.1145/3313831.3376723</a>
</div>
<div id="ref-TyackEtAl2020Restorative" class="csl-entry" role="listitem">
Tyack, A., Wyeth, P., &amp; Johnson, D. (2020). Restorative play: Videogames improve player wellbeing after a need-frustrating event. In R. Bernhaupt, F. Muller, D. Verweij, &amp; J. Andres (Eds.), <em>Proceedings of the 2020 CHI conference on human factors in computing systems</em> (p. 15). ACM Press. <a href="https://doi.org/10.1145/3313831.3376332">https://doi.org/10.1145/3313831.3376332</a>
</div>
<div id="ref-Vallerand1997Hierarchical" class="csl-entry" role="listitem">
Vallerand, R. J. (1997). Toward a hierarchical model of intrinsic and extrinsic motivation. In <em>Advances in experimental social psychology</em> (Vol. 29, pp. 271–360). Elsevier. <a href="https://doi.org/10.1016/S0065-2601(08)60019-2">https://doi.org/10.1016/S0065-2601(08)60019-2</a>
</div>
<div id="ref-vanBuurenGroothuis-Oudshoorn2011mice" class="csl-entry" role="listitem">
van Buuren, S., &amp; Groothuis-Oudshoorn, K. (2011). <span class="nocase">mice</span>: Multivariate imputation by chained equations in r. <em>Journal of Statistical Software</em>, <em>45</em>(3), 1–67. <a href="https://doi.org/10.18637/jss.v045.i03">https://doi.org/10.18637/jss.v045.i03</a>
</div>
<div id="ref-VansteenkisteEtAl2020basic" class="csl-entry" role="listitem">
Vansteenkiste, M., Ryan, R. M., &amp; Soenens, B. (2020). Basic psychological need theory: Advancements, critical themes, and future directions. <em>Motivation and Emotion</em>, <em>44</em>(1), 1–31. <a href="https://doi.org/10.1007/s11031-019-09818-1">https://doi.org/10.1007/s11031-019-09818-1</a>
</div>
<div id="ref-VellaJohnson2012Flourishing" class="csl-entry" role="listitem">
Vella, K., &amp; Johnson, D. (2012). Flourishing and video games. In C. T. Tan (Ed.), <em>Proceedings of the 8th australasian conference on interactive entertainment: Playing the system</em> (pp. 1–3). ACM Press. <a href="https://doi.org/10.1145/2336727.2336746">https://doi.org/10.1145/2336727.2336746</a>
</div>
<div id="ref-VonHippel2020How" class="csl-entry" role="listitem">
Von Hippel, P. T. (2020). How many imputations do you need? A two-stage calculation using a quadratic rule. <em>Sociological Methods &amp; Research</em>, <em>49</em>(3), 699–718. <a href="https://doi.org/10.1177/0049124117747303">https://doi.org/10.1177/0049124117747303</a>
</div>
<div id="ref-VuorreEtAl2022Time" class="csl-entry" role="listitem">
Vuorre, M., Johannes, N., Magnusson, K., &amp; Przybylski, A. K. (2022). Time spent playing video games is unlikely to impact well-being. <em>Royal Society Open Science</em>, <em>9</em>(7), 220411. <a href="https://doi.org/10.1098/rsos.220411">https://doi.org/10.1098/rsos.220411</a>
</div>
<div id="ref-VuorreEtAl2023intensivea" class="csl-entry" role="listitem">
Vuorre, M., Magnusson, K., Johannes, N., Butlin, J., &amp; Przybylski, A. K. (2023). An intensive longitudinal dataset of in-game player behaviour and well-being in PowerWash simulator. <em>Scientific Data</em>, <em>10</em>(1), 622. <a href="https://doi.org/10.1038/s41597-023-02530-3">https://doi.org/10.1038/s41597-023-02530-3</a>
</div>
<div id="ref-WoodRunger2016Psychology" class="csl-entry" role="listitem">
Wood, W., &amp; Rünger, D. (2016). Psychology of habit. <em>Annual Review of Psychology</em>, <em>67</em>(1), 289–314. <a href="https://doi.org/10.1146/annurev-psych-122414-033417">https://doi.org/10.1146/annurev-psych-122414-033417</a>
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb59" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> |</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="co">  All BANG, little buck: Need-related experiences are weak predictors of behaviour in the video game domain</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="co">  - name: Nick Ballou</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="co">    corresponding: true</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a><span class="co">    orcid: 0000-0003-4126-0696</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a><span class="co">    email: nick@nickballou.com</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a><span class="co">    affiliations:</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a><span class="co">      - ref: 1</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a><span class="co">    roles:</span></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a><span class="co">      - conceptualization</span></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a><span class="co">      - data curation</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a><span class="co">      - investigation</span></span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a><span class="co">      - methodology</span></span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a><span class="co">      - formal analysis</span></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a><span class="co">      - visualization</span></span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a><span class="co">      - writing</span></span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a><span class="co">      - editing</span></span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a><span class="co">  - name: Tamás Andrei Földes</span></span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a><span class="co">    corresponding: false</span></span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a><span class="co">    orcid: 0000-0002-0623-9149</span></span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a><span class="co">    email: tamas.foldes@oii.ox.ac.uk</span></span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a><span class="co">    affiliations:</span></span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a><span class="co">      - ref: 1</span></span>
<span id="cb59-27"><a href="#cb59-27" aria-hidden="true" tabindex="-1"></a><span class="co">    roles:</span></span>
<span id="cb59-28"><a href="#cb59-28" aria-hidden="true" tabindex="-1"></a><span class="co">      - data curation</span></span>
<span id="cb59-29"><a href="#cb59-29" aria-hidden="true" tabindex="-1"></a><span class="co">      - methodology</span></span>
<span id="cb59-30"><a href="#cb59-30" aria-hidden="true" tabindex="-1"></a><span class="co">      - validation</span></span>
<span id="cb59-31"><a href="#cb59-31" aria-hidden="true" tabindex="-1"></a><span class="co">      - editing</span></span>
<span id="cb59-32"><a href="#cb59-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-33"><a href="#cb59-33" aria-hidden="true" tabindex="-1"></a><span class="co">  - name: Matti Vuorre</span></span>
<span id="cb59-34"><a href="#cb59-34" aria-hidden="true" tabindex="-1"></a><span class="co">    corresponding: false</span></span>
<span id="cb59-35"><a href="#cb59-35" aria-hidden="true" tabindex="-1"></a><span class="co">    orcid: 0000-0001-5052-066X</span></span>
<span id="cb59-36"><a href="#cb59-36" aria-hidden="true" tabindex="-1"></a><span class="co">    email: mjvuorre@uvt.nl</span></span>
<span id="cb59-37"><a href="#cb59-37" aria-hidden="true" tabindex="-1"></a><span class="co">    affiliations:</span></span>
<span id="cb59-38"><a href="#cb59-38" aria-hidden="true" tabindex="-1"></a><span class="co">      - ref: 2</span></span>
<span id="cb59-39"><a href="#cb59-39" aria-hidden="true" tabindex="-1"></a><span class="co">    roles:</span></span>
<span id="cb59-40"><a href="#cb59-40" aria-hidden="true" tabindex="-1"></a><span class="co">      - methodology</span></span>
<span id="cb59-41"><a href="#cb59-41" aria-hidden="true" tabindex="-1"></a><span class="co">      - funding acquisition</span></span>
<span id="cb59-42"><a href="#cb59-42" aria-hidden="true" tabindex="-1"></a><span class="co">      - editing</span></span>
<span id="cb59-43"><a href="#cb59-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-44"><a href="#cb59-44" aria-hidden="true" tabindex="-1"></a><span class="co">  - name: Thomas Hakman</span></span>
<span id="cb59-45"><a href="#cb59-45" aria-hidden="true" tabindex="-1"></a><span class="co">    corresponding: false</span></span>
<span id="cb59-46"><a href="#cb59-46" aria-hidden="true" tabindex="-1"></a><span class="co">    orcid: 0009-0009-8292-2482</span></span>
<span id="cb59-47"><a href="#cb59-47" aria-hidden="true" tabindex="-1"></a><span class="co">    email: thomas.hakman@oii.ox.ac.uk</span></span>
<span id="cb59-48"><a href="#cb59-48" aria-hidden="true" tabindex="-1"></a><span class="co">    affiliations:</span></span>
<span id="cb59-49"><a href="#cb59-49" aria-hidden="true" tabindex="-1"></a><span class="co">      - ref: 1</span></span>
<span id="cb59-50"><a href="#cb59-50" aria-hidden="true" tabindex="-1"></a><span class="co">    roles:</span></span>
<span id="cb59-51"><a href="#cb59-51" aria-hidden="true" tabindex="-1"></a><span class="co">      - investigation</span></span>
<span id="cb59-52"><a href="#cb59-52" aria-hidden="true" tabindex="-1"></a><span class="co">      - data curation</span></span>
<span id="cb59-53"><a href="#cb59-53" aria-hidden="true" tabindex="-1"></a><span class="co">      - editing</span></span>
<span id="cb59-54"><a href="#cb59-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-55"><a href="#cb59-55" aria-hidden="true" tabindex="-1"></a><span class="co">  - name: Kristoffer Magnusson</span></span>
<span id="cb59-56"><a href="#cb59-56" aria-hidden="true" tabindex="-1"></a><span class="co">    corresponding: false</span></span>
<span id="cb59-57"><a href="#cb59-57" aria-hidden="true" tabindex="-1"></a><span class="co">    orcid: 0000-0003-0713-0556</span></span>
<span id="cb59-58"><a href="#cb59-58" aria-hidden="true" tabindex="-1"></a><span class="co">    affiliations:</span></span>
<span id="cb59-59"><a href="#cb59-59" aria-hidden="true" tabindex="-1"></a><span class="co">      - ref: 3</span></span>
<span id="cb59-60"><a href="#cb59-60" aria-hidden="true" tabindex="-1"></a><span class="co">      - ref: 1</span></span>
<span id="cb59-61"><a href="#cb59-61" aria-hidden="true" tabindex="-1"></a><span class="co">    roles:</span></span>
<span id="cb59-62"><a href="#cb59-62" aria-hidden="true" tabindex="-1"></a><span class="co">      - software</span></span>
<span id="cb59-63"><a href="#cb59-63" aria-hidden="true" tabindex="-1"></a><span class="co">      - editing</span></span>
<span id="cb59-64"><a href="#cb59-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-65"><a href="#cb59-65" aria-hidden="true" tabindex="-1"></a><span class="co">  - name: Andrew K Przybylski</span></span>
<span id="cb59-66"><a href="#cb59-66" aria-hidden="true" tabindex="-1"></a><span class="co">    corresponding: true</span></span>
<span id="cb59-67"><a href="#cb59-67" aria-hidden="true" tabindex="-1"></a><span class="co">    email: andy.przybylski@oii.ox.ac.uk</span></span>
<span id="cb59-68"><a href="#cb59-68" aria-hidden="true" tabindex="-1"></a><span class="co">    orcid: 0000-0001-5547-2185</span></span>
<span id="cb59-69"><a href="#cb59-69" aria-hidden="true" tabindex="-1"></a><span class="co">    affiliations:</span></span>
<span id="cb59-70"><a href="#cb59-70" aria-hidden="true" tabindex="-1"></a><span class="co">      - ref: 1</span></span>
<span id="cb59-71"><a href="#cb59-71" aria-hidden="true" tabindex="-1"></a><span class="co">    roles:</span></span>
<span id="cb59-72"><a href="#cb59-72" aria-hidden="true" tabindex="-1"></a><span class="co">      - conceptualization</span></span>
<span id="cb59-73"><a href="#cb59-73" aria-hidden="true" tabindex="-1"></a><span class="co">      - funding acquisition</span></span>
<span id="cb59-74"><a href="#cb59-74" aria-hidden="true" tabindex="-1"></a><span class="co">      - project administration</span></span>
<span id="cb59-75"><a href="#cb59-75" aria-hidden="true" tabindex="-1"></a><span class="co">      - editing</span></span>
<span id="cb59-76"><a href="#cb59-76" aria-hidden="true" tabindex="-1"></a><span class="an">affiliations:</span></span>
<span id="cb59-77"><a href="#cb59-77" aria-hidden="true" tabindex="-1"></a><span class="co">  - id: 1</span></span>
<span id="cb59-78"><a href="#cb59-78" aria-hidden="true" tabindex="-1"></a><span class="co">    name: University of Oxford</span></span>
<span id="cb59-79"><a href="#cb59-79" aria-hidden="true" tabindex="-1"></a><span class="co">    department: Oxford Internet Institute</span></span>
<span id="cb59-80"><a href="#cb59-80" aria-hidden="true" tabindex="-1"></a><span class="co">  - id: 2</span></span>
<span id="cb59-81"><a href="#cb59-81" aria-hidden="true" tabindex="-1"></a><span class="co">    name: Tilburg University</span></span>
<span id="cb59-82"><a href="#cb59-82" aria-hidden="true" tabindex="-1"></a><span class="co">    department: Department of Social Psychology</span></span>
<span id="cb59-83"><a href="#cb59-83" aria-hidden="true" tabindex="-1"></a><span class="co">  - id: 3</span></span>
<span id="cb59-84"><a href="#cb59-84" aria-hidden="true" tabindex="-1"></a><span class="co">    name: Karolinska Institute</span></span>
<span id="cb59-85"><a href="#cb59-85" aria-hidden="true" tabindex="-1"></a><span class="an">csl:</span><span class="co"> https://www.zotero.org/styles/apa</span></span>
<span id="cb59-86"><a href="#cb59-86" aria-hidden="true" tabindex="-1"></a><span class="an">bibliography:</span><span class="co"> references.bib</span></span>
<span id="cb59-87"><a href="#cb59-87" aria-hidden="true" tabindex="-1"></a><span class="an">keywords:</span><span class="co"> [motivation, digital trace data, video games, self-determination theory, displacement, compensatory behaviour]</span></span>
<span id="cb59-88"><a href="#cb59-88" aria-hidden="true" tabindex="-1"></a><span class="an">editor_options:</span></span>
<span id="cb59-89"><a href="#cb59-89" aria-hidden="true" tabindex="-1"></a><span class="co">  chunk_output_type: console</span></span>
<span id="cb59-90"><a href="#cb59-90" aria-hidden="true" tabindex="-1"></a><span class="co">  markdown:</span></span>
<span id="cb59-91"><a href="#cb59-91" aria-hidden="true" tabindex="-1"></a><span class="co">    wrap: none</span></span>
<span id="cb59-92"><a href="#cb59-92" aria-hidden="true" tabindex="-1"></a><span class="an">knitr:</span></span>
<span id="cb59-93"><a href="#cb59-93" aria-hidden="true" tabindex="-1"></a><span class="co">  opts_chunk:</span></span>
<span id="cb59-94"><a href="#cb59-94" aria-hidden="true" tabindex="-1"></a><span class="co">    cache: true</span></span>
<span id="cb59-95"><a href="#cb59-95" aria-hidden="true" tabindex="-1"></a><span class="co">    warning: false</span></span>
<span id="cb59-96"><a href="#cb59-96" aria-hidden="true" tabindex="-1"></a><span class="co">    message: false</span></span>
<span id="cb59-97"><a href="#cb59-97" aria-hidden="true" tabindex="-1"></a><span class="co">    fig-width: 6</span></span>
<span id="cb59-98"><a href="#cb59-98" aria-hidden="true" tabindex="-1"></a><span class="co">    fig-asp: 0.618</span></span>
<span id="cb59-99"><a href="#cb59-99" aria-hidden="true" tabindex="-1"></a><span class="co">    out-width: 80%</span></span>
<span id="cb59-100"><a href="#cb59-100" aria-hidden="true" tabindex="-1"></a><span class="co">    fig-align: center</span></span>
<span id="cb59-101"><a href="#cb59-101" aria-hidden="true" tabindex="-1"></a><span class="an">code-links:</span><span class="co"> repo</span></span>
<span id="cb59-102"><a href="#cb59-102" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb59-103"><a href="#cb59-103" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb59-104"><a href="#cb59-104" aria-hidden="true" tabindex="-1"></a><span class="co">    theme:</span></span>
<span id="cb59-105"><a href="#cb59-105" aria-hidden="true" tabindex="-1"></a><span class="co">      light: united</span></span>
<span id="cb59-106"><a href="#cb59-106" aria-hidden="true" tabindex="-1"></a><span class="co">      dark: darkly</span></span>
<span id="cb59-107"><a href="#cb59-107" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb59-108"><a href="#cb59-108" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-depth: 2</span></span>
<span id="cb59-109"><a href="#cb59-109" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-location: right</span></span>
<span id="cb59-110"><a href="#cb59-110" aria-hidden="true" tabindex="-1"></a><span class="co">    number-sections: true</span></span>
<span id="cb59-111"><a href="#cb59-111" aria-hidden="true" tabindex="-1"></a><span class="co">    fontsize: 13pt</span></span>
<span id="cb59-112"><a href="#cb59-112" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb59-113"><a href="#cb59-113" aria-hidden="true" tabindex="-1"></a><span class="co">    code-summary: "Show code"</span></span>
<span id="cb59-114"><a href="#cb59-114" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb59-115"><a href="#cb59-115" aria-hidden="true" tabindex="-1"></a><span class="co">    echo: true</span></span>
<span id="cb59-116"><a href="#cb59-116" aria-hidden="true" tabindex="-1"></a><span class="co">    embed-resources: false</span></span>
<span id="cb59-117"><a href="#cb59-117" aria-hidden="true" tabindex="-1"></a><span class="co">    page-layout: article</span></span>
<span id="cb59-118"><a href="#cb59-118" aria-hidden="true" tabindex="-1"></a><span class="co">    grid:</span></span>
<span id="cb59-119"><a href="#cb59-119" aria-hidden="true" tabindex="-1"></a><span class="co">      body-width: 900px</span></span>
<span id="cb59-120"><a href="#cb59-120" aria-hidden="true" tabindex="-1"></a><span class="co">      margin-width: 250px</span></span>
<span id="cb59-121"><a href="#cb59-121" aria-hidden="true" tabindex="-1"></a><span class="co">    other-links:</span></span>
<span id="cb59-122"><a href="#cb59-122" aria-hidden="true" tabindex="-1"></a><span class="co">      - text: Stage 1 Registered Report</span></span>
<span id="cb59-123"><a href="#cb59-123" aria-hidden="true" tabindex="-1"></a><span class="co">        href: https://osf.io/pb5nu</span></span>
<span id="cb59-124"><a href="#cb59-124" aria-hidden="true" tabindex="-1"></a><span class="co">        icon: file-pdf</span></span>
<span id="cb59-125"><a href="#cb59-125" aria-hidden="true" tabindex="-1"></a><span class="co">  preprint-typst:</span></span>
<span id="cb59-126"><a href="#cb59-126" aria-hidden="true" tabindex="-1"></a><span class="co">    echo: false</span></span>
<span id="cb59-127"><a href="#cb59-127" aria-hidden="true" tabindex="-1"></a><span class="co">    wordcount: true</span></span>
<span id="cb59-128"><a href="#cb59-128" aria-hidden="true" tabindex="-1"></a><span class="co">    theme: jou</span></span>
<span id="cb59-129"><a href="#cb59-129" aria-hidden="true" tabindex="-1"></a><span class="co">    citeproc: true</span></span>
<span id="cb59-130"><a href="#cb59-130" aria-hidden="true" tabindex="-1"></a><span class="co">    mainfont: "Liberation Serif"</span></span>
<span id="cb59-131"><a href="#cb59-131" aria-hidden="true" tabindex="-1"></a><span class="co">    sansfont: "Liberation Sans"</span></span>
<span id="cb59-132"><a href="#cb59-132" aria-hidden="true" tabindex="-1"></a><span class="co">    include-before-body:</span></span>
<span id="cb59-133"><a href="#cb59-133" aria-hidden="true" tabindex="-1"></a><span class="co">      - text: "#show &lt;refs&gt;: set par(hanging-indent: 1.4em)"</span></span>
<span id="cb59-134"><a href="#cb59-134" aria-hidden="true" tabindex="-1"></a><span class="co">  docx:</span></span>
<span id="cb59-135"><a href="#cb59-135" aria-hidden="true" tabindex="-1"></a><span class="co">    echo: false</span></span>
<span id="cb59-136"><a href="#cb59-136" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb59-137"><a href="#cb59-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-140"><a href="#cb59-140" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-141"><a href="#cb59-141" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: libraries</span></span>
<span id="cb59-142"><a href="#cb59-142" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Load required R packages)"</span></span>
<span id="cb59-143"><a href="#cb59-143" aria-hidden="true" tabindex="-1"></a><span class="co">#| cache: false</span></span>
<span id="cb59-144"><a href="#cb59-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-145"><a href="#cb59-145" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb59-146"><a href="#cb59-146" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glue)</span>
<span id="cb59-147"><a href="#cb59-147" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glmmTMB)</span>
<span id="cb59-148"><a href="#cb59-148" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lme4)</span>
<span id="cb59-149"><a href="#cb59-149" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(marginaleffects)</span>
<span id="cb59-150"><a href="#cb59-150" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mice)</span>
<span id="cb59-151"><a href="#cb59-151" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(howManyImputations)</span>
<span id="cb59-152"><a href="#cb59-152" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(future)</span>
<span id="cb59-153"><a href="#cb59-153" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelsummary)</span>
<span id="cb59-154"><a href="#cb59-154" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb59-155"><a href="#cb59-155" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DHARMa)</span>
<span id="cb59-156"><a href="#cb59-156" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(brms)</span>
<span id="cb59-157"><a href="#cb59-157" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom.mixed)</span>
<span id="cb59-158"><a href="#cb59-158" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb59-159"><a href="#cb59-159" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tinytable)</span>
<span id="cb59-160"><a href="#cb59-160" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(litedown)</span>
<span id="cb59-161"><a href="#cb59-161" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb59-162"><a href="#cb59-162" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb59-163"><a href="#cb59-163" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggdist)</span>
<span id="cb59-164"><a href="#cb59-164" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(splines)</span>
<span id="cb59-165"><a href="#cb59-165" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb59-166"><a href="#cb59-166" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb59-167"><a href="#cb59-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-168"><a href="#cb59-168" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-169"><a href="#cb59-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-172"><a href="#cb59-172" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-173"><a href="#cb59-173" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup</span></span>
<span id="cb59-174"><a href="#cb59-174" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Set random seed and global options)"</span></span>
<span id="cb59-175"><a href="#cb59-175" aria-hidden="true" tabindex="-1"></a><span class="co">#| cache: false</span></span>
<span id="cb59-176"><a href="#cb59-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-177"><a href="#cb59-177" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">8675309</span>)</span>
<span id="cb59-178"><a href="#cb59-178" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>, <span class="at">timeout =</span> <span class="dv">600</span>)</span>
<span id="cb59-179"><a href="#cb59-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-180"><a href="#cb59-180" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span>
<span id="cb59-181"><a href="#cb59-181" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_update</span>(</span>
<span id="cb59-182"><a href="#cb59-182" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb59-183"><a href="#cb59-183" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb59-184"><a href="#cb59-184" aria-hidden="true" tabindex="-1"></a>  <span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"black"</span>),</span>
<span id="cb59-185"><a href="#cb59-185" aria-hidden="true" tabindex="-1"></a>  <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb59-186"><a href="#cb59-186" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb59-187"><a href="#cb59-187" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb59-188"><a href="#cb59-188" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb59-189"><a href="#cb59-189" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel.border =</span> <span class="fu">element_rect</span>(</span>
<span id="cb59-190"><a href="#cb59-190" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">"black"</span>,</span>
<span id="cb59-191"><a href="#cb59-191" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="cn">NA</span>,</span>
<span id="cb59-192"><a href="#cb59-192" aria-hidden="true" tabindex="-1"></a>    <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb59-193"><a href="#cb59-193" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-194"><a href="#cb59-194" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-195"><a href="#cb59-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-196"><a href="#cb59-196" aria-hidden="true" tabindex="-1"></a><span class="co"># Define consistent color palette for all visualizations</span></span>
<span id="cb59-197"><a href="#cb59-197" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb59-198"><a href="#cb59-198" aria-hidden="true" tabindex="-1"></a>  <span class="at">game_ns =</span> <span class="st">"#4477AA"</span>, <span class="co"># Blue for game need satisfaction</span></span>
<span id="cb59-199"><a href="#cb59-199" aria-hidden="true" tabindex="-1"></a>  <span class="at">global_ns =</span> <span class="st">"#66CCEE"</span>, <span class="co"># Cyan for global need satisfaction</span></span>
<span id="cb59-200"><a href="#cb59-200" aria-hidden="true" tabindex="-1"></a>  <span class="at">global_nf =</span> <span class="st">"#EE6677"</span>, <span class="co"># Red for global need frustration</span></span>
<span id="cb59-201"><a href="#cb59-201" aria-hidden="true" tabindex="-1"></a>  <span class="at">nintendo =</span> <span class="st">"#E60012"</span>, <span class="co"># Nintendo red</span></span>
<span id="cb59-202"><a href="#cb59-202" aria-hidden="true" tabindex="-1"></a>  <span class="at">xbox =</span> <span class="st">"#107C10"</span>, <span class="co"># Xbox green</span></span>
<span id="cb59-203"><a href="#cb59-203" aria-hidden="true" tabindex="-1"></a>  <span class="at">steam =</span> <span class="st">"#171A21"</span>, <span class="co"># Steam dark</span></span>
<span id="cb59-204"><a href="#cb59-204" aria-hidden="true" tabindex="-1"></a>  <span class="at">within =</span> <span class="st">"#228833"</span>, <span class="co"># Green for within-person variance</span></span>
<span id="cb59-205"><a href="#cb59-205" aria-hidden="true" tabindex="-1"></a>  <span class="at">between =</span> <span class="st">"#BBBBBB"</span> <span class="co"># Gray for between-person variance</span></span>
<span id="cb59-206"><a href="#cb59-206" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-207"><a href="#cb59-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-208"><a href="#cb59-208" aria-hidden="true" tabindex="-1"></a><span class="co"># Define human-readable labels for snake_case column names</span></span>
<span id="cb59-209"><a href="#cb59-209" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb59-210"><a href="#cb59-210" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Base variables</span></span>
<span id="cb59-211"><a href="#cb59-211" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_ns"</span> <span class="ot">=</span> <span class="st">"Game need satisfaction"</span>,</span>
<span id="cb59-212"><a href="#cb59-212" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_nf"</span> <span class="ot">=</span> <span class="st">"Game need frustration"</span>,</span>
<span id="cb59-213"><a href="#cb59-213" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_ns"</span> <span class="ot">=</span> <span class="st">"Global need satisfaction"</span>,</span>
<span id="cb59-214"><a href="#cb59-214" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_nf"</span> <span class="ot">=</span> <span class="st">"Global need frustration"</span>,</span>
<span id="cb59-215"><a href="#cb59-215" aria-hidden="true" tabindex="-1"></a>  <span class="st">"session_length"</span> <span class="ot">=</span> <span class="st">"Session length"</span>,</span>
<span id="cb59-216"><a href="#cb59-216" aria-hidden="true" tabindex="-1"></a>  <span class="st">"session_gap"</span> <span class="ot">=</span> <span class="st">"Time to next session"</span>,</span>
<span id="cb59-217"><a href="#cb59-217" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Within-person</span></span>
<span id="cb59-218"><a href="#cb59-218" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_ns_cw"</span> <span class="ot">=</span> <span class="st">"Game need satisfaction (within)"</span>,</span>
<span id="cb59-219"><a href="#cb59-219" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_nf_cw"</span> <span class="ot">=</span> <span class="st">"Game need frustration (within)"</span>,</span>
<span id="cb59-220"><a href="#cb59-220" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_ns_cw"</span> <span class="ot">=</span> <span class="st">"Global need satisfaction (within)"</span>,</span>
<span id="cb59-221"><a href="#cb59-221" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_nf_cw"</span> <span class="ot">=</span> <span class="st">"Global need frustration (within)"</span>,</span>
<span id="cb59-222"><a href="#cb59-222" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Between-person</span></span>
<span id="cb59-223"><a href="#cb59-223" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_ns_cb"</span> <span class="ot">=</span> <span class="st">"Game need satisfaction (between)"</span>,</span>
<span id="cb59-224"><a href="#cb59-224" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_nf_cb"</span> <span class="ot">=</span> <span class="st">"Game need frustration (between)"</span>,</span>
<span id="cb59-225"><a href="#cb59-225" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_ns_cb"</span> <span class="ot">=</span> <span class="st">"Global need satisfaction (between)"</span>,</span>
<span id="cb59-226"><a href="#cb59-226" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_nf_cb"</span> <span class="ot">=</span> <span class="st">"Global need frustration (between)"</span>,</span>
<span id="cb59-227"><a href="#cb59-227" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Within-person (alternate)</span></span>
<span id="cb59-228"><a href="#cb59-228" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_ns (within-person)"</span> <span class="ot">=</span> <span class="st">"Game need satisfaction (within-person)"</span>,</span>
<span id="cb59-229"><a href="#cb59-229" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_ns (within-person)"</span> <span class="ot">=</span> <span class="st">"Global need satisfaction (within-person)"</span>,</span>
<span id="cb59-230"><a href="#cb59-230" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_nf (within-person)"</span> <span class="ot">=</span> <span class="st">"Global need frustration (within-person)"</span>,</span>
<span id="cb59-231"><a href="#cb59-231" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Between-person (alternate)</span></span>
<span id="cb59-232"><a href="#cb59-232" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_ns (between-person)"</span> <span class="ot">=</span> <span class="st">"Game need satisfaction (between-person)"</span>,</span>
<span id="cb59-233"><a href="#cb59-233" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_ns (between-person)"</span> <span class="ot">=</span> <span class="st">"Global need satisfaction (between-person)"</span>,</span>
<span id="cb59-234"><a href="#cb59-234" aria-hidden="true" tabindex="-1"></a>  <span class="st">"global_nf (between-person)"</span> <span class="ot">=</span> <span class="st">"Global need frustration (between-person)"</span>,</span>
<span id="cb59-235"><a href="#cb59-235" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Interaction</span></span>
<span id="cb59-236"><a href="#cb59-236" aria-hidden="true" tabindex="-1"></a>  <span class="st">"game_ns_cw:global_nf_cw"</span> <span class="ot">=</span> <span class="st">"Game need satisfaction × Global need frustration (within)"</span>,</span>
<span id="cb59-237"><a href="#cb59-237" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Displacement</span></span>
<span id="cb59-238"><a href="#cb59-238" aria-hidden="true" tabindex="-1"></a>  <span class="st">"displaced_core_domain"</span> <span class="ot">=</span> <span class="st">"Displaced core domain"</span>,</span>
<span id="cb59-239"><a href="#cb59-239" aria-hidden="true" tabindex="-1"></a>  <span class="st">"displaced_core_domainTRUE"</span> <span class="ot">=</span> <span class="st">"Displaced core domain"</span>,</span>
<span id="cb59-240"><a href="#cb59-240" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Variance components</span></span>
<span id="cb59-241"><a href="#cb59-241" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Within-person"</span> <span class="ot">=</span> <span class="st">"Within-person"</span>,</span>
<span id="cb59-242"><a href="#cb59-242" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Between-person"</span> <span class="ot">=</span> <span class="st">"Between-person"</span>,</span>
<span id="cb59-243"><a href="#cb59-243" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Other</span></span>
<span id="cb59-244"><a href="#cb59-244" aria-hidden="true" tabindex="-1"></a>  <span class="st">"(Intercept)"</span> <span class="ot">=</span> <span class="st">"Intercept"</span></span>
<span id="cb59-245"><a href="#cb59-245" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-246"><a href="#cb59-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-247"><a href="#cb59-247" aria-hidden="true" tabindex="-1"></a><span class="co"># Load custom plotting functions</span></span>
<span id="cb59-248"><a href="#cb59-248" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"R/plot_marginal_effects.R"</span>)</span>
<span id="cb59-249"><a href="#cb59-249" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"R/helpers.R"</span>)</span>
<span id="cb59-250"><a href="#cb59-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-251"><a href="#cb59-251" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-252"><a href="#cb59-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-255"><a href="#cb59-255" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-256"><a href="#cb59-256" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: load-data</span></span>
<span id="cb59-257"><a href="#cb59-257" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Download and load raw data from Zenodo)"</span></span>
<span id="cb59-258"><a href="#cb59-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-259"><a href="#cb59-259" aria-hidden="true" tabindex="-1"></a><span class="co"># Download data from Zenodo (one-time download, then cached locally)</span></span>
<span id="cb59-260"><a href="#cb59-260" aria-hidden="true" tabindex="-1"></a>zenodo_url <span class="ot">&lt;-</span> <span class="st">"https://zenodo.org/records/17609160/files/digital-wellbeing/open-play-v1.0.0.zip?download=1"</span></span>
<span id="cb59-261"><a href="#cb59-261" aria-hidden="true" tabindex="-1"></a>zip_path <span class="ot">&lt;-</span> <span class="st">"data/open-play-v1.0.0.zip"</span></span>
<span id="cb59-262"><a href="#cb59-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-263"><a href="#cb59-263" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(zip_path)) {</span>
<span id="cb59-264"><a href="#cb59-264" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="fu">dirname</span>(zip_path), <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-265"><a href="#cb59-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-266"><a href="#cb59-266" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set longer timeout for large file (194MB) - default is 60 seconds</span></span>
<span id="cb59-267"><a href="#cb59-267" aria-hidden="true" tabindex="-1"></a>  <span class="fu">options</span>(<span class="at">timeout =</span> <span class="fu">max</span>(<span class="dv">600</span>, <span class="fu">getOption</span>(<span class="st">"timeout"</span>)))</span>
<span id="cb59-268"><a href="#cb59-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-269"><a href="#cb59-269" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Downloading 194MB file from Zenodo (may take a few minutes)..."</span>)</span>
<span id="cb59-270"><a href="#cb59-270" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tryCatch</span>(</span>
<span id="cb59-271"><a href="#cb59-271" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb59-272"><a href="#cb59-272" aria-hidden="true" tabindex="-1"></a>      <span class="fu">download.file</span>(zenodo_url, zip_path, <span class="at">mode =</span> <span class="st">"wb"</span>, <span class="at">method =</span> <span class="st">"libcurl"</span>)</span>
<span id="cb59-273"><a href="#cb59-273" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="st">"Download complete!"</span>)</span>
<span id="cb59-274"><a href="#cb59-274" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb59-275"><a href="#cb59-275" aria-hidden="true" tabindex="-1"></a>    <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb59-276"><a href="#cb59-276" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="st">"Download failed. Please download manually from:"</span>)</span>
<span id="cb59-277"><a href="#cb59-277" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(zenodo_url)</span>
<span id="cb59-278"><a href="#cb59-278" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"And save to: {normalizePath(zip_path, mustWork = FALSE)}"</span>))</span>
<span id="cb59-279"><a href="#cb59-279" aria-hidden="true" tabindex="-1"></a>      <span class="fu">stop</span>(e)</span>
<span id="cb59-280"><a href="#cb59-280" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb59-281"><a href="#cb59-281" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-282"><a href="#cb59-282" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-283"><a href="#cb59-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-284"><a href="#cb59-284" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract zip if not already extracted</span></span>
<span id="cb59-285"><a href="#cb59-285" aria-hidden="true" tabindex="-1"></a>extract_dir <span class="ot">&lt;-</span> <span class="st">"data/open-play-v1.0.0"</span></span>
<span id="cb59-286"><a href="#cb59-286" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">dir.exists</span>(extract_dir)) {</span>
<span id="cb59-287"><a href="#cb59-287" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Extracting zip archive..."</span>)</span>
<span id="cb59-288"><a href="#cb59-288" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unzip</span>(zip_path, <span class="at">exdir =</span> <span class="st">"data"</span>)</span>
<span id="cb59-289"><a href="#cb59-289" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename the extracted folder to a simpler name</span></span>
<span id="cb59-290"><a href="#cb59-290" aria-hidden="true" tabindex="-1"></a>  extracted_folder <span class="ot">&lt;-</span> <span class="fu">list.dirs</span>(<span class="st">"data"</span>, <span class="at">recursive =</span> <span class="cn">FALSE</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-291"><a href="#cb59-291" aria-hidden="true" tabindex="-1"></a>  extracted_folder <span class="ot">&lt;-</span> extracted_folder[<span class="fu">grepl</span>(</span>
<span id="cb59-292"><a href="#cb59-292" aria-hidden="true" tabindex="-1"></a>    <span class="st">"digital-wellbeing-open-play"</span>,</span>
<span id="cb59-293"><a href="#cb59-293" aria-hidden="true" tabindex="-1"></a>    extracted_folder</span>
<span id="cb59-294"><a href="#cb59-294" aria-hidden="true" tabindex="-1"></a>  )]</span>
<span id="cb59-295"><a href="#cb59-295" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(extracted_folder) <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;&amp;</span> extracted_folder <span class="sc">!=</span> extract_dir) {</span>
<span id="cb59-296"><a href="#cb59-296" aria-hidden="true" tabindex="-1"></a>    <span class="fu">file.rename</span>(extracted_folder, extract_dir)</span>
<span id="cb59-297"><a href="#cb59-297" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb59-298"><a href="#cb59-298" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-299"><a href="#cb59-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-300"><a href="#cb59-300" aria-hidden="true" tabindex="-1"></a><span class="co"># Read files from extracted directory</span></span>
<span id="cb59-301"><a href="#cb59-301" aria-hidden="true" tabindex="-1"></a>intake <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb59-302"><a href="#cb59-302" aria-hidden="true" tabindex="-1"></a>  <span class="fu">file.path</span>(extract_dir, <span class="st">"data/clean/survey_intake.csv.gz"</span>),</span>
<span id="cb59-303"><a href="#cb59-303" aria-hidden="true" tabindex="-1"></a>  <span class="at">guess_max =</span> <span class="dv">10000</span></span>
<span id="cb59-304"><a href="#cb59-304" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-305"><a href="#cb59-305" aria-hidden="true" tabindex="-1"></a>surveys <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">file.path</span>(</span>
<span id="cb59-306"><a href="#cb59-306" aria-hidden="true" tabindex="-1"></a>  extract_dir,</span>
<span id="cb59-307"><a href="#cb59-307" aria-hidden="true" tabindex="-1"></a>  <span class="st">"data/clean/survey_daily.csv.gz"</span></span>
<span id="cb59-308"><a href="#cb59-308" aria-hidden="true" tabindex="-1"></a>)) <span class="sc">|&gt;</span></span>
<span id="cb59-309"><a href="#cb59-309" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pid <span class="sc">%in%</span> intake<span class="sc">$</span>pid)</span>
<span id="cb59-310"><a href="#cb59-310" aria-hidden="true" tabindex="-1"></a>xbox <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">file.path</span>(extract_dir, <span class="st">"data/clean/xbox.csv.gz"</span>))</span>
<span id="cb59-311"><a href="#cb59-311" aria-hidden="true" tabindex="-1"></a>nintendo <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">file.path</span>(extract_dir, <span class="st">"data/clean/nintendo.csv.gz"</span>))</span>
<span id="cb59-312"><a href="#cb59-312" aria-hidden="true" tabindex="-1"></a>steam <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb59-313"><a href="#cb59-313" aria-hidden="true" tabindex="-1"></a>  <span class="fu">file.path</span>(extract_dir, <span class="st">"data/clean/steam.csv.gz"</span>),</span>
<span id="cb59-314"><a href="#cb59-314" aria-hidden="true" tabindex="-1"></a>  <span class="at">guess_max =</span> <span class="dv">10000</span></span>
<span id="cb59-315"><a href="#cb59-315" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-316"><a href="#cb59-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-317"><a href="#cb59-317" aria-hidden="true" tabindex="-1"></a><span class="co"># Load helper functions</span></span>
<span id="cb59-318"><a href="#cb59-318" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="fu">file.path</span>(extract_dir, <span class="st">"R/helpers.R"</span>))</span>
<span id="cb59-319"><a href="#cb59-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-320"><a href="#cb59-320" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-321"><a href="#cb59-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-324"><a href="#cb59-324" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-325"><a href="#cb59-325" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: prepare-telemetry</span></span>
<span id="cb59-326"><a href="#cb59-326" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Process telemetry into hourly playtime with timezone adjustments)"</span></span>
<span id="cb59-327"><a href="#cb59-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-328"><a href="#cb59-328" aria-hidden="true" tabindex="-1"></a><span class="co"># merge with the local time zone offsets from intake</span></span>
<span id="cb59-329"><a href="#cb59-329" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: We keep country and local_timezone for DST-aware conversion</span></span>
<span id="cb59-330"><a href="#cb59-330" aria-hidden="true" tabindex="-1"></a>tz_map <span class="ot">&lt;-</span> intake <span class="sc">|&gt;</span></span>
<span id="cb59-331"><a href="#cb59-331" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-332"><a href="#cb59-332" aria-hidden="true" tabindex="-1"></a>    <span class="at">pid =</span> <span class="fu">as.character</span>(pid),</span>
<span id="cb59-333"><a href="#cb59-333" aria-hidden="true" tabindex="-1"></a>    country,</span>
<span id="cb59-334"><a href="#cb59-334" aria-hidden="true" tabindex="-1"></a>    local_timezone,</span>
<span id="cb59-335"><a href="#cb59-335" aria-hidden="true" tabindex="-1"></a>    <span class="at">.keep =</span> <span class="st">"none"</span></span>
<span id="cb59-336"><a href="#cb59-336" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-337"><a href="#cb59-337" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(pid, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-338"><a href="#cb59-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-339"><a href="#cb59-339" aria-hidden="true" tabindex="-1"></a><span class="co"># aggregate data at each level of granularity (session, hourly, daily)</span></span>
<span id="cb59-340"><a href="#cb59-340" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 1) SESSION-LEVEL (Nintendo + Xbox) ------------------------------------</span></span>
<span id="cb59-341"><a href="#cb59-341" aria-hidden="true" tabindex="-1"></a>sessions_telemetry <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb59-342"><a href="#cb59-342" aria-hidden="true" tabindex="-1"></a>  xbox <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">platform =</span> <span class="st">"Xbox"</span>),</span>
<span id="cb59-343"><a href="#cb59-343" aria-hidden="true" tabindex="-1"></a>  nintendo <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">platform =</span> <span class="st">"Nintendo"</span>)</span>
<span id="cb59-344"><a href="#cb59-344" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-345"><a href="#cb59-345" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(tz_map, <span class="at">by =</span> <span class="st">"pid"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-346"><a href="#cb59-346" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(local_timezone)) <span class="sc">|&gt;</span></span>
<span id="cb59-347"><a href="#cb59-347" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-348"><a href="#cb59-348" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate DST-aware offset for each timestamp</span></span>
<span id="cb59-349"><a href="#cb59-349" aria-hidden="true" tabindex="-1"></a>    <span class="at">offset_start =</span> <span class="fu">get_dst_offset</span>(session_start, country, local_timezone),</span>
<span id="cb59-350"><a href="#cb59-350" aria-hidden="true" tabindex="-1"></a>    <span class="at">offset_end =</span> <span class="fu">get_dst_offset</span>(session_end, country, local_timezone),</span>
<span id="cb59-351"><a href="#cb59-351" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add offset to get local time values (keeping UTC label for compatibility)</span></span>
<span id="cb59-352"><a href="#cb59-352" aria-hidden="true" tabindex="-1"></a>    <span class="at">start_local =</span> session_start <span class="sc">+</span> offset_start,</span>
<span id="cb59-353"><a href="#cb59-353" aria-hidden="true" tabindex="-1"></a>    <span class="at">end_local =</span> session_end <span class="sc">+</span> offset_end,</span>
<span id="cb59-354"><a href="#cb59-354" aria-hidden="true" tabindex="-1"></a>    <span class="at">duration_min =</span> <span class="fu">as.numeric</span>(<span class="fu">difftime</span>(</span>
<span id="cb59-355"><a href="#cb59-355" aria-hidden="true" tabindex="-1"></a>      session_end,</span>
<span id="cb59-356"><a href="#cb59-356" aria-hidden="true" tabindex="-1"></a>      session_start,</span>
<span id="cb59-357"><a href="#cb59-357" aria-hidden="true" tabindex="-1"></a>      <span class="at">units =</span> <span class="st">"mins"</span></span>
<span id="cb59-358"><a href="#cb59-358" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb59-359"><a href="#cb59-359" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-360"><a href="#cb59-360" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb59-361"><a href="#cb59-361" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(session_start),</span>
<span id="cb59-362"><a href="#cb59-362" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(session_end),</span>
<span id="cb59-363"><a href="#cb59-363" aria-hidden="true" tabindex="-1"></a>    session_end <span class="sc">&gt;</span> session_start,</span>
<span id="cb59-364"><a href="#cb59-364" aria-hidden="true" tabindex="-1"></a>    duration_min <span class="sc">&gt;=</span> <span class="dv">1</span></span>
<span id="cb59-365"><a href="#cb59-365" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-366"><a href="#cb59-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-367"><a href="#cb59-367" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 2) HOURLY (Nintendo + Xbox expanded) ----------------------------------</span></span>
<span id="cb59-368"><a href="#cb59-368" aria-hidden="true" tabindex="-1"></a><span class="co"># expand sessions into local-hour bins, compute overlap minutes, and add UTC hour</span></span>
<span id="cb59-369"><a href="#cb59-369" aria-hidden="true" tabindex="-1"></a>hourly_from_sessions <span class="ot">&lt;-</span> sessions_telemetry <span class="sc">|&gt;</span></span>
<span id="cb59-370"><a href="#cb59-370" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(start_local), <span class="sc">!</span><span class="fu">is.na</span>(end_local)) <span class="sc">|&gt;</span></span>
<span id="cb59-371"><a href="#cb59-371" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-372"><a href="#cb59-372" aria-hidden="true" tabindex="-1"></a>    <span class="at">h0_local =</span> <span class="fu">floor_date</span>(start_local, <span class="st">"hour"</span>),</span>
<span id="cb59-373"><a href="#cb59-373" aria-hidden="true" tabindex="-1"></a>    <span class="at">h1_local =</span> <span class="fu">floor_date</span>(end_local <span class="sc">-</span> <span class="fu">seconds</span>(<span class="dv">1</span>), <span class="st">"hour"</span>),</span>
<span id="cb59-374"><a href="#cb59-374" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_hours =</span> <span class="fu">as.integer</span>(<span class="fu">difftime</span>(h1_local, h0_local, <span class="at">units =</span> <span class="st">"hours"</span>)) <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb59-375"><a href="#cb59-375" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-376"><a href="#cb59-376" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(n_hours), n_hours <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-377"><a href="#cb59-377" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">uncount</span>(n_hours, <span class="at">.remove =</span> <span class="cn">FALSE</span>, <span class="at">.id =</span> <span class="st">"k"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-378"><a href="#cb59-378" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-379"><a href="#cb59-379" aria-hidden="true" tabindex="-1"></a>    <span class="at">hour_start_local =</span> h0_local <span class="sc">+</span> <span class="fu">hours</span>(k <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb59-380"><a href="#cb59-380" aria-hidden="true" tabindex="-1"></a>    <span class="at">minutes =</span> <span class="fu">pmax</span>(</span>
<span id="cb59-381"><a href="#cb59-381" aria-hidden="true" tabindex="-1"></a>      <span class="dv">0</span>,</span>
<span id="cb59-382"><a href="#cb59-382" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.numeric</span>(<span class="fu">difftime</span>(</span>
<span id="cb59-383"><a href="#cb59-383" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pmin</span>(end_local, hour_start_local <span class="sc">+</span> <span class="fu">hours</span>(<span class="dv">1</span>)),</span>
<span id="cb59-384"><a href="#cb59-384" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pmax</span>(start_local, hour_start_local),</span>
<span id="cb59-385"><a href="#cb59-385" aria-hidden="true" tabindex="-1"></a>        <span class="at">units =</span> <span class="st">"mins"</span></span>
<span id="cb59-386"><a href="#cb59-386" aria-hidden="true" tabindex="-1"></a>      ))</span>
<span id="cb59-387"><a href="#cb59-387" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-388"><a href="#cb59-388" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert back to UTC (this preserves the instant, just changes label)</span></span>
<span id="cb59-389"><a href="#cb59-389" aria-hidden="true" tabindex="-1"></a>    <span class="at">hour_start_utc =</span> <span class="fu">with_tz</span>(hour_start_local, <span class="at">tzone =</span> <span class="st">"UTC"</span>)</span>
<span id="cb59-390"><a href="#cb59-390" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-391"><a href="#cb59-391" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pid, platform, title_id, hour_start_local, hour_start_utc, minutes) <span class="sc">|&gt;</span></span>
<span id="cb59-392"><a href="#cb59-392" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, platform, title_id, hour_start_local, hour_start_utc) <span class="sc">|&gt;</span></span>
<span id="cb59-393"><a href="#cb59-393" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">minutes =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb59-394"><a href="#cb59-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-395"><a href="#cb59-395" aria-hidden="true" tabindex="-1"></a>hourly_from_steam <span class="ot">&lt;-</span> steam <span class="sc">|&gt;</span></span>
<span id="cb59-396"><a href="#cb59-396" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pid, title_id, datetime_hour_start, minutes) <span class="sc">|&gt;</span></span>
<span id="cb59-397"><a href="#cb59-397" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pid =</span> <span class="fu">as.character</span>(pid)) <span class="sc">|&gt;</span></span>
<span id="cb59-398"><a href="#cb59-398" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(tz_map, <span class="at">by =</span> <span class="st">"pid"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-399"><a href="#cb59-399" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(local_timezone)) <span class="sc">|&gt;</span></span>
<span id="cb59-400"><a href="#cb59-400" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-401"><a href="#cb59-401" aria-hidden="true" tabindex="-1"></a>    <span class="at">platform =</span> <span class="st">"Steam"</span>,</span>
<span id="cb59-402"><a href="#cb59-402" aria-hidden="true" tabindex="-1"></a>    <span class="at">hour_start_utc =</span> datetime_hour_start,</span>
<span id="cb59-403"><a href="#cb59-403" aria-hidden="true" tabindex="-1"></a>    <span class="at">offset =</span> <span class="fu">get_dst_offset</span>(datetime_hour_start, country, local_timezone),</span>
<span id="cb59-404"><a href="#cb59-404" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Note: These are local time values with UTC labels due to R's POSIXct limitation</span></span>
<span id="cb59-405"><a href="#cb59-405" aria-hidden="true" tabindex="-1"></a>    <span class="at">hour_start_local =</span> datetime_hour_start <span class="sc">+</span> offset</span>
<span id="cb59-406"><a href="#cb59-406" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-407"><a href="#cb59-407" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pid, platform, title_id, hour_start_local, hour_start_utc, minutes) <span class="sc">|&gt;</span></span>
<span id="cb59-408"><a href="#cb59-408" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, platform, title_id, hour_start_local, hour_start_utc) <span class="sc">|&gt;</span></span>
<span id="cb59-409"><a href="#cb59-409" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">minutes =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb59-410"><a href="#cb59-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-411"><a href="#cb59-411" aria-hidden="true" tabindex="-1"></a>hourly_telemetry <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(hourly_from_sessions, hourly_from_steam)</span>
<span id="cb59-412"><a href="#cb59-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-413"><a href="#cb59-413" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 3) DAILY (Nintendo + Xbox + Steam; collapse hourly to days) -----------</span></span>
<span id="cb59-414"><a href="#cb59-414" aria-hidden="true" tabindex="-1"></a>daily_telemetry <span class="ot">&lt;-</span> hourly_telemetry <span class="sc">|&gt;</span></span>
<span id="cb59-415"><a href="#cb59-415" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-416"><a href="#cb59-416" aria-hidden="true" tabindex="-1"></a>    <span class="at">day_local =</span> <span class="fu">as.Date</span>(hour_start_local),</span>
<span id="cb59-417"><a href="#cb59-417" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-418"><a href="#cb59-418" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, platform, day_local) <span class="sc">|&gt;</span></span>
<span id="cb59-419"><a href="#cb59-419" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">minutes =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb59-420"><a href="#cb59-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-421"><a href="#cb59-421" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 4) weekly</span></span>
<span id="cb59-422"><a href="#cb59-422" aria-hidden="true" tabindex="-1"></a>weekly_telemetry <span class="ot">&lt;-</span> daily_telemetry <span class="sc">|&gt;</span></span>
<span id="cb59-423"><a href="#cb59-423" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-424"><a href="#cb59-424" aria-hidden="true" tabindex="-1"></a>    <span class="at">week =</span> <span class="fu">floor_date</span>(day_local, <span class="st">"week"</span>)</span>
<span id="cb59-425"><a href="#cb59-425" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-426"><a href="#cb59-426" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, platform, week) <span class="sc">|&gt;</span></span>
<span id="cb59-427"><a href="#cb59-427" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">minutes =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb59-428"><a href="#cb59-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-429"><a href="#cb59-429" aria-hidden="true" tabindex="-1"></a>telemetry_spans <span class="ot">&lt;-</span> daily_telemetry <span class="sc">|&gt;</span></span>
<span id="cb59-430"><a href="#cb59-430" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, platform) <span class="sc">|&gt;</span></span>
<span id="cb59-431"><a href="#cb59-431" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb59-432"><a href="#cb59-432" aria-hidden="true" tabindex="-1"></a>    <span class="at">telemetry_start =</span> <span class="fu">min</span>(day_local, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-433"><a href="#cb59-433" aria-hidden="true" tabindex="-1"></a>    <span class="at">telemetry_end =</span> <span class="fu">max</span>(day_local, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="fu">hours</span>(<span class="dv">1</span>), <span class="co"># end of last hour bin</span></span>
<span id="cb59-434"><a href="#cb59-434" aria-hidden="true" tabindex="-1"></a>    <span class="at">week =</span> <span class="fu">floor_date</span>(telemetry_end, <span class="st">"week"</span>),</span>
<span id="cb59-435"><a href="#cb59-435" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_weeks =</span> <span class="fu">as.integer</span>(<span class="fu">difftime</span>(</span>
<span id="cb59-436"><a href="#cb59-436" aria-hidden="true" tabindex="-1"></a>      telemetry_end,</span>
<span id="cb59-437"><a href="#cb59-437" aria-hidden="true" tabindex="-1"></a>      telemetry_start,</span>
<span id="cb59-438"><a href="#cb59-438" aria-hidden="true" tabindex="-1"></a>      <span class="at">units =</span> <span class="st">"weeks"</span></span>
<span id="cb59-439"><a href="#cb59-439" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb59-440"><a href="#cb59-440" aria-hidden="true" tabindex="-1"></a>      <span class="dv">1</span>,</span>
<span id="cb59-441"><a href="#cb59-441" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb59-442"><a href="#cb59-442" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-443"><a href="#cb59-443" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-444"><a href="#cb59-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-447"><a href="#cb59-447" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-448"><a href="#cb59-448" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: prepare-survey</span></span>
<span id="cb59-449"><a href="#cb59-449" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Prepare survey data and calculate play windows)"</span></span>
<span id="cb59-450"><a href="#cb59-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-451"><a href="#cb59-451" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Prepare data for imputation</span></span>
<span id="cb59-452"><a href="#cb59-452" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: We only impute individual items, not composites (to avoid collinearity)</span></span>
<span id="cb59-453"><a href="#cb59-453" aria-hidden="true" tabindex="-1"></a><span class="co"># Composites will be calculated post-imputation</span></span>
<span id="cb59-454"><a href="#cb59-454" aria-hidden="true" tabindex="-1"></a>surveys <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb59-455"><a href="#cb59-455" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>bpnsfs_failed_att_check) <span class="sc">|&gt;</span></span>
<span id="cb59-456"><a href="#cb59-456" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wave =</span> <span class="fu">as.factor</span>(wave))</span>
<span id="cb59-457"><a href="#cb59-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-458"><a href="#cb59-458" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate play windows (both 24h and 12h for sensitivity analyses)</span></span>
<span id="cb59-459"><a href="#cb59-459" aria-hidden="true" tabindex="-1"></a>play_24h <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb59-460"><a href="#cb59-460" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-461"><a href="#cb59-461" aria-hidden="true" tabindex="-1"></a>    <span class="at">survey_time =</span> <span class="fu">as.POSIXct</span>(date, <span class="at">tz =</span> <span class="st">"UTC"</span>),</span>
<span id="cb59-462"><a href="#cb59-462" aria-hidden="true" tabindex="-1"></a>    <span class="at">window_end =</span> survey_time <span class="sc">+</span> <span class="fu">hours</span>(<span class="dv">24</span>)</span>
<span id="cb59-463"><a href="#cb59-463" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-464"><a href="#cb59-464" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb59-465"><a href="#cb59-465" aria-hidden="true" tabindex="-1"></a>    hourly_telemetry <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, hour_start_utc, minutes),</span>
<span id="cb59-466"><a href="#cb59-466" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">join_by</span>(</span>
<span id="cb59-467"><a href="#cb59-467" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb59-468"><a href="#cb59-468" aria-hidden="true" tabindex="-1"></a>      y<span class="sc">$</span>hour_start_utc <span class="sc">&gt;=</span> x<span class="sc">$</span>survey_time,</span>
<span id="cb59-469"><a href="#cb59-469" aria-hidden="true" tabindex="-1"></a>      y<span class="sc">$</span>hour_start_utc <span class="sc">&lt;</span> x<span class="sc">$</span>window_end</span>
<span id="cb59-470"><a href="#cb59-470" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-471"><a href="#cb59-471" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-472"><a href="#cb59-472" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb59-473"><a href="#cb59-473" aria-hidden="true" tabindex="-1"></a>    <span class="at">play_minutes_24h =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-474"><a href="#cb59-474" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> <span class="fu">c</span>(pid, survey_time)</span>
<span id="cb59-475"><a href="#cb59-475" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-476"><a href="#cb59-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-477"><a href="#cb59-477" aria-hidden="true" tabindex="-1"></a>play_12h <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb59-478"><a href="#cb59-478" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-479"><a href="#cb59-479" aria-hidden="true" tabindex="-1"></a>    <span class="at">survey_time =</span> <span class="fu">as.POSIXct</span>(date, <span class="at">tz =</span> <span class="st">"UTC"</span>),</span>
<span id="cb59-480"><a href="#cb59-480" aria-hidden="true" tabindex="-1"></a>    <span class="at">window_end =</span> survey_time <span class="sc">+</span> <span class="fu">hours</span>(<span class="dv">12</span>)</span>
<span id="cb59-481"><a href="#cb59-481" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-482"><a href="#cb59-482" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb59-483"><a href="#cb59-483" aria-hidden="true" tabindex="-1"></a>    hourly_telemetry <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, hour_start_utc, minutes),</span>
<span id="cb59-484"><a href="#cb59-484" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">join_by</span>(</span>
<span id="cb59-485"><a href="#cb59-485" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb59-486"><a href="#cb59-486" aria-hidden="true" tabindex="-1"></a>      y<span class="sc">$</span>hour_start_utc <span class="sc">&gt;=</span> x<span class="sc">$</span>survey_time,</span>
<span id="cb59-487"><a href="#cb59-487" aria-hidden="true" tabindex="-1"></a>      y<span class="sc">$</span>hour_start_utc <span class="sc">&lt;</span> x<span class="sc">$</span>window_end</span>
<span id="cb59-488"><a href="#cb59-488" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-489"><a href="#cb59-489" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-490"><a href="#cb59-490" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb59-491"><a href="#cb59-491" aria-hidden="true" tabindex="-1"></a>    <span class="at">play_minutes_12h =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-492"><a href="#cb59-492" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> <span class="fu">c</span>(pid, survey_time)</span>
<span id="cb59-493"><a href="#cb59-493" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-494"><a href="#cb59-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-495"><a href="#cb59-495" aria-hidden="true" tabindex="-1"></a>play_6h <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb59-496"><a href="#cb59-496" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-497"><a href="#cb59-497" aria-hidden="true" tabindex="-1"></a>    <span class="at">survey_time =</span> <span class="fu">as.POSIXct</span>(date, <span class="at">tz =</span> <span class="st">"UTC"</span>),</span>
<span id="cb59-498"><a href="#cb59-498" aria-hidden="true" tabindex="-1"></a>    <span class="at">window_end =</span> survey_time <span class="sc">+</span> <span class="fu">hours</span>(<span class="dv">6</span>)</span>
<span id="cb59-499"><a href="#cb59-499" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-500"><a href="#cb59-500" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb59-501"><a href="#cb59-501" aria-hidden="true" tabindex="-1"></a>    hourly_telemetry <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, hour_start_utc, minutes),</span>
<span id="cb59-502"><a href="#cb59-502" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">join_by</span>(</span>
<span id="cb59-503"><a href="#cb59-503" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb59-504"><a href="#cb59-504" aria-hidden="true" tabindex="-1"></a>      y<span class="sc">$</span>hour_start_utc <span class="sc">&gt;=</span> x<span class="sc">$</span>survey_time,</span>
<span id="cb59-505"><a href="#cb59-505" aria-hidden="true" tabindex="-1"></a>      y<span class="sc">$</span>hour_start_utc <span class="sc">&lt;</span> x<span class="sc">$</span>window_end</span>
<span id="cb59-506"><a href="#cb59-506" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-507"><a href="#cb59-507" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-508"><a href="#cb59-508" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb59-509"><a href="#cb59-509" aria-hidden="true" tabindex="-1"></a>    <span class="at">play_minutes_6h =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-510"><a href="#cb59-510" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> <span class="fu">c</span>(pid, survey_time)</span>
<span id="cb59-511"><a href="#cb59-511" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-512"><a href="#cb59-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-513"><a href="#cb59-513" aria-hidden="true" tabindex="-1"></a>play_24h_pre <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb59-514"><a href="#cb59-514" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-515"><a href="#cb59-515" aria-hidden="true" tabindex="-1"></a>    <span class="at">survey_time =</span> <span class="fu">as.POSIXct</span>(date, <span class="at">tz =</span> <span class="st">"UTC"</span>),</span>
<span id="cb59-516"><a href="#cb59-516" aria-hidden="true" tabindex="-1"></a>    <span class="at">window_start =</span> survey_time <span class="sc">-</span> <span class="fu">hours</span>(<span class="dv">24</span>)</span>
<span id="cb59-517"><a href="#cb59-517" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-518"><a href="#cb59-518" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb59-519"><a href="#cb59-519" aria-hidden="true" tabindex="-1"></a>    hourly_telemetry <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, hour_start_utc, minutes),</span>
<span id="cb59-520"><a href="#cb59-520" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">join_by</span>(</span>
<span id="cb59-521"><a href="#cb59-521" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb59-522"><a href="#cb59-522" aria-hidden="true" tabindex="-1"></a>      y<span class="sc">$</span>hour_start_utc <span class="sc">&gt;=</span> x<span class="sc">$</span>window_start,</span>
<span id="cb59-523"><a href="#cb59-523" aria-hidden="true" tabindex="-1"></a>      y<span class="sc">$</span>hour_start_utc <span class="sc">&lt;</span> x<span class="sc">$</span>survey_time</span>
<span id="cb59-524"><a href="#cb59-524" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-525"><a href="#cb59-525" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-526"><a href="#cb59-526" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb59-527"><a href="#cb59-527" aria-hidden="true" tabindex="-1"></a>    <span class="at">play_minutes_24h_pre =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-528"><a href="#cb59-528" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> <span class="fu">c</span>(pid, survey_time)</span>
<span id="cb59-529"><a href="#cb59-529" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-530"><a href="#cb59-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-531"><a href="#cb59-531" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare intake auxiliary variables</span></span>
<span id="cb59-532"><a href="#cb59-532" aria-hidden="true" tabindex="-1"></a>intake_aux <span class="ot">&lt;-</span> intake <span class="sc">|&gt;</span></span>
<span id="cb59-533"><a href="#cb59-533" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-534"><a href="#cb59-534" aria-hidden="true" tabindex="-1"></a>    <span class="at">gender =</span> <span class="fu">ifelse</span>(gender <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Man"</span>, <span class="st">"Woman"</span>), gender, <span class="st">"Non-binary/other"</span>),</span>
<span id="cb59-535"><a href="#cb59-535" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Extract numeric values from WEMWBS response strings</span></span>
<span id="cb59-536"><a href="#cb59-536" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(wemwbs_1<span class="sc">:</span>wemwbs_7, <span class="sc">~</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(.x, <span class="st">"^</span><span class="sc">\\</span><span class="st">d+"</span>))),</span>
<span id="cb59-537"><a href="#cb59-537" aria-hidden="true" tabindex="-1"></a>    <span class="at">wemwbs =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(wemwbs_1<span class="sc">:</span>wemwbs_7), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-538"><a href="#cb59-538" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-539"><a href="#cb59-539" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb59-540"><a href="#cb59-540" aria-hidden="true" tabindex="-1"></a>    pid,</span>
<span id="cb59-541"><a href="#cb59-541" aria-hidden="true" tabindex="-1"></a>    age,</span>
<span id="cb59-542"><a href="#cb59-542" aria-hidden="true" tabindex="-1"></a>    gender,</span>
<span id="cb59-543"><a href="#cb59-543" aria-hidden="true" tabindex="-1"></a>    edu_level,</span>
<span id="cb59-544"><a href="#cb59-544" aria-hidden="true" tabindex="-1"></a>    employment,</span>
<span id="cb59-545"><a href="#cb59-545" aria-hidden="true" tabindex="-1"></a>    marital_status,</span>
<span id="cb59-546"><a href="#cb59-546" aria-hidden="true" tabindex="-1"></a>    <span class="at">life_sat_baseline =</span> life_sat,</span>
<span id="cb59-547"><a href="#cb59-547" aria-hidden="true" tabindex="-1"></a>    wemwbs,</span>
<span id="cb59-548"><a href="#cb59-548" aria-hidden="true" tabindex="-1"></a>    diaries_completed,</span>
<span id="cb59-549"><a href="#cb59-549" aria-hidden="true" tabindex="-1"></a>    self_reported_weekly_play</span>
<span id="cb59-550"><a href="#cb59-550" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-551"><a href="#cb59-551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-552"><a href="#cb59-552" aria-hidden="true" tabindex="-1"></a><span class="co"># Load pre-classified activity categories</span></span>
<span id="cb59-553"><a href="#cb59-553" aria-hidden="true" tabindex="-1"></a>activity_categories <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/activity_categories.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-554"><a href="#cb59-554" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wave =</span> <span class="fu">as.factor</span>(wave))</span>
<span id="cb59-555"><a href="#cb59-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-556"><a href="#cb59-556" aria-hidden="true" tabindex="-1"></a>surveys <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb59-557"><a href="#cb59-557" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">survey_time =</span> <span class="fu">as.POSIXct</span>(date, <span class="at">tz =</span> <span class="st">"UTC"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-558"><a href="#cb59-558" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(play_24h, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"survey_time"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-559"><a href="#cb59-559" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(play_12h, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"survey_time"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-560"><a href="#cb59-560" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(play_6h, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"survey_time"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-561"><a href="#cb59-561" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(play_24h_pre, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"survey_time"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-562"><a href="#cb59-562" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(intake_aux, <span class="at">by =</span> <span class="st">"pid"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-563"><a href="#cb59-563" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(activity_categories, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"wave"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-564"><a href="#cb59-564" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-565"><a href="#cb59-565" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Rename self-reported play to distinguish from telemetry</span></span>
<span id="cb59-566"><a href="#cb59-566" aria-hidden="true" tabindex="-1"></a>    <span class="at">self_reported_played_24h =</span> played24hr,</span>
<span id="cb59-567"><a href="#cb59-567" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Telemetry-based play (post-survey windows)</span></span>
<span id="cb59-568"><a href="#cb59-568" aria-hidden="true" tabindex="-1"></a>    <span class="at">telemetry_played_any_24h =</span> play_minutes_24h <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb59-569"><a href="#cb59-569" aria-hidden="true" tabindex="-1"></a>    <span class="at">telemetry_played_any_12h =</span> play_minutes_12h <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb59-570"><a href="#cb59-570" aria-hidden="true" tabindex="-1"></a>    <span class="at">telemetry_played_any_6h =</span> play_minutes_6h <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb59-571"><a href="#cb59-571" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Telemetry-based play (pre-survey window)</span></span>
<span id="cb59-572"><a href="#cb59-572" aria-hidden="true" tabindex="-1"></a>    <span class="at">telemetry_played_any_24h_pre =</span> play_minutes_24h_pre <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb59-573"><a href="#cb59-573" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-574"><a href="#cb59-574" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb59-575"><a href="#cb59-575" aria-hidden="true" tabindex="-1"></a>    pid,</span>
<span id="cb59-576"><a href="#cb59-576" aria-hidden="true" tabindex="-1"></a>    wave,</span>
<span id="cb59-577"><a href="#cb59-577" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Auxiliary predictors (not imputed)</span></span>
<span id="cb59-578"><a href="#cb59-578" aria-hidden="true" tabindex="-1"></a>    date,</span>
<span id="cb59-579"><a href="#cb59-579" aria-hidden="true" tabindex="-1"></a>    age,</span>
<span id="cb59-580"><a href="#cb59-580" aria-hidden="true" tabindex="-1"></a>    gender,</span>
<span id="cb59-581"><a href="#cb59-581" aria-hidden="true" tabindex="-1"></a>    edu_level,</span>
<span id="cb59-582"><a href="#cb59-582" aria-hidden="true" tabindex="-1"></a>    employment,</span>
<span id="cb59-583"><a href="#cb59-583" aria-hidden="true" tabindex="-1"></a>    marital_status,</span>
<span id="cb59-584"><a href="#cb59-584" aria-hidden="true" tabindex="-1"></a>    life_sat_baseline,</span>
<span id="cb59-585"><a href="#cb59-585" aria-hidden="true" tabindex="-1"></a>    wemwbs,</span>
<span id="cb59-586"><a href="#cb59-586" aria-hidden="true" tabindex="-1"></a>    diaries_completed,</span>
<span id="cb59-587"><a href="#cb59-587" aria-hidden="true" tabindex="-1"></a>    self_reported_weekly_play,</span>
<span id="cb59-588"><a href="#cb59-588" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Self-reported play (used to control BANGS imputation)</span></span>
<span id="cb59-589"><a href="#cb59-589" aria-hidden="true" tabindex="-1"></a>    self_reported_played_24h,</span>
<span id="cb59-590"><a href="#cb59-590" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Variables to impute: individual items only (composites calculated post-imputation)</span></span>
<span id="cb59-591"><a href="#cb59-591" aria-hidden="true" tabindex="-1"></a>    bpnsfs_1,</span>
<span id="cb59-592"><a href="#cb59-592" aria-hidden="true" tabindex="-1"></a>    bpnsfs_2,</span>
<span id="cb59-593"><a href="#cb59-593" aria-hidden="true" tabindex="-1"></a>    bpnsfs_3,</span>
<span id="cb59-594"><a href="#cb59-594" aria-hidden="true" tabindex="-1"></a>    bpnsfs_4,</span>
<span id="cb59-595"><a href="#cb59-595" aria-hidden="true" tabindex="-1"></a>    bpnsfs_5,</span>
<span id="cb59-596"><a href="#cb59-596" aria-hidden="true" tabindex="-1"></a>    bpnsfs_6,</span>
<span id="cb59-597"><a href="#cb59-597" aria-hidden="true" tabindex="-1"></a>    bangs_1,</span>
<span id="cb59-598"><a href="#cb59-598" aria-hidden="true" tabindex="-1"></a>    bangs_2,</span>
<span id="cb59-599"><a href="#cb59-599" aria-hidden="true" tabindex="-1"></a>    bangs_3,</span>
<span id="cb59-600"><a href="#cb59-600" aria-hidden="true" tabindex="-1"></a>    bangs_4,</span>
<span id="cb59-601"><a href="#cb59-601" aria-hidden="true" tabindex="-1"></a>    bangs_5,</span>
<span id="cb59-602"><a href="#cb59-602" aria-hidden="true" tabindex="-1"></a>    bangs_6,</span>
<span id="cb59-603"><a href="#cb59-603" aria-hidden="true" tabindex="-1"></a>    displaced_core_domain,</span>
<span id="cb59-604"><a href="#cb59-604" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Telemetry (not imputed in mice, but needed for analysis)</span></span>
<span id="cb59-605"><a href="#cb59-605" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h,</span>
<span id="cb59-606"><a href="#cb59-606" aria-hidden="true" tabindex="-1"></a>    play_minutes_24h,</span>
<span id="cb59-607"><a href="#cb59-607" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_12h,</span>
<span id="cb59-608"><a href="#cb59-608" aria-hidden="true" tabindex="-1"></a>    play_minutes_12h,</span>
<span id="cb59-609"><a href="#cb59-609" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_6h,</span>
<span id="cb59-610"><a href="#cb59-610" aria-hidden="true" tabindex="-1"></a>    play_minutes_6h,</span>
<span id="cb59-611"><a href="#cb59-611" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h_pre,</span>
<span id="cb59-612"><a href="#cb59-612" aria-hidden="true" tabindex="-1"></a>    play_minutes_24h_pre</span>
<span id="cb59-613"><a href="#cb59-613" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-614"><a href="#cb59-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-615"><a href="#cb59-615" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-616"><a href="#cb59-616" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-619"><a href="#cb59-619" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-620"><a href="#cb59-620" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: mice</span></span>
<span id="cb59-621"><a href="#cb59-621" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Run MICE imputation on analytical sample)"</span></span>
<span id="cb59-622"><a href="#cb59-622" aria-hidden="true" tabindex="-1"></a><span class="co">#| results: hide</span></span>
<span id="cb59-623"><a href="#cb59-623" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-show: hide</span></span>
<span id="cb59-624"><a href="#cb59-624" aria-hidden="true" tabindex="-1"></a><span class="co">#| freeze: false</span></span>
<span id="cb59-625"><a href="#cb59-625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-626"><a href="#cb59-626" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Multiple imputation in wide format</span></span>
<span id="cb59-627"><a href="#cb59-627" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb59-628"><a href="#cb59-628" aria-hidden="true" tabindex="-1"></a><span class="co"># Main analysis uses analytical sample only (≥15 waves, N~555)</span></span>
<span id="cb59-629"><a href="#cb59-629" aria-hidden="true" tabindex="-1"></a><span class="co"># - Higher quality data → stable FMI estimates</span></span>
<span id="cb59-630"><a href="#cb59-630" aria-hidden="true" tabindex="-1"></a><span class="co"># - Run determine_m_imputations.qmd to calculate required M</span></span>
<span id="cb59-631"><a href="#cb59-631" aria-hidden="true" tabindex="-1"></a><span class="co"># - Update M_IMPUTATIONS to recommended value</span></span>
<span id="cb59-632"><a href="#cb59-632" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb59-633"><a href="#cb59-633" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analysis (full sample imputation) in separate chunk below</span></span>
<span id="cb59-634"><a href="#cb59-634" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-635"><a href="#cb59-635" aria-hidden="true" tabindex="-1"></a><span class="co"># Define minimum waves threshold for analytical sample</span></span>
<span id="cb59-636"><a href="#cb59-636" aria-hidden="true" tabindex="-1"></a>min_waves <span class="ot">&lt;-</span> <span class="dv">15</span></span>
<span id="cb59-637"><a href="#cb59-637" aria-hidden="true" tabindex="-1"></a>full_eligible_pids <span class="ot">&lt;-</span> <span class="fu">unique</span>(surveys<span class="sc">$</span>pid)</span>
<span id="cb59-638"><a href="#cb59-638" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-639"><a href="#cb59-639" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb59-640"><a href="#cb59-640" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Imputing analytical sample: {length(unique(surveys$pid[surveys$diaries_completed &gt;= min_waves]))}/{length(full_eligible_pids)} participants with ≥{min_waves} waves"</span></span>
<span id="cb59-641"><a href="#cb59-641" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb59-642"><a href="#cb59-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-643"><a href="#cb59-643" aria-hidden="true" tabindex="-1"></a><span class="co"># Separate telemetry (no missing data) from survey variables (to be imputed)</span></span>
<span id="cb59-644"><a href="#cb59-644" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter to analytical sample here without overwriting surveys</span></span>
<span id="cb59-645"><a href="#cb59-645" aria-hidden="true" tabindex="-1"></a>telemetry_vars <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb59-646"><a href="#cb59-646" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(diaries_completed <span class="sc">&gt;=</span> min_waves) <span class="sc">|&gt;</span></span>
<span id="cb59-647"><a href="#cb59-647" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb59-648"><a href="#cb59-648" aria-hidden="true" tabindex="-1"></a>    pid,</span>
<span id="cb59-649"><a href="#cb59-649" aria-hidden="true" tabindex="-1"></a>    wave,</span>
<span id="cb59-650"><a href="#cb59-650" aria-hidden="true" tabindex="-1"></a>    date,</span>
<span id="cb59-651"><a href="#cb59-651" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h,</span>
<span id="cb59-652"><a href="#cb59-652" aria-hidden="true" tabindex="-1"></a>    play_minutes_24h,</span>
<span id="cb59-653"><a href="#cb59-653" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_12h,</span>
<span id="cb59-654"><a href="#cb59-654" aria-hidden="true" tabindex="-1"></a>    play_minutes_12h,</span>
<span id="cb59-655"><a href="#cb59-655" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_6h,</span>
<span id="cb59-656"><a href="#cb59-656" aria-hidden="true" tabindex="-1"></a>    play_minutes_6h,</span>
<span id="cb59-657"><a href="#cb59-657" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h_pre,</span>
<span id="cb59-658"><a href="#cb59-658" aria-hidden="true" tabindex="-1"></a>    play_minutes_24h_pre</span>
<span id="cb59-659"><a href="#cb59-659" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-660"><a href="#cb59-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-661"><a href="#cb59-661" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to wide format for imputation</span></span>
<span id="cb59-662"><a href="#cb59-662" aria-hidden="true" tabindex="-1"></a><span class="co"># Auxiliary variables go in id_cols (used as predictors, not imputed)</span></span>
<span id="cb59-663"><a href="#cb59-663" aria-hidden="true" tabindex="-1"></a><span class="co"># Only impute individual items, not composite scores (to avoid collinearity)</span></span>
<span id="cb59-664"><a href="#cb59-664" aria-hidden="true" tabindex="-1"></a>surveys_wide <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb59-665"><a href="#cb59-665" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(diaries_completed <span class="sc">&gt;=</span> min_waves) <span class="sc">|&gt;</span></span>
<span id="cb59-666"><a href="#cb59-666" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb59-667"><a href="#cb59-667" aria-hidden="true" tabindex="-1"></a>    pid,</span>
<span id="cb59-668"><a href="#cb59-668" aria-hidden="true" tabindex="-1"></a>    wave,</span>
<span id="cb59-669"><a href="#cb59-669" aria-hidden="true" tabindex="-1"></a>    age,</span>
<span id="cb59-670"><a href="#cb59-670" aria-hidden="true" tabindex="-1"></a>    gender,</span>
<span id="cb59-671"><a href="#cb59-671" aria-hidden="true" tabindex="-1"></a>    edu_level,</span>
<span id="cb59-672"><a href="#cb59-672" aria-hidden="true" tabindex="-1"></a>    employment,</span>
<span id="cb59-673"><a href="#cb59-673" aria-hidden="true" tabindex="-1"></a>    marital_status,</span>
<span id="cb59-674"><a href="#cb59-674" aria-hidden="true" tabindex="-1"></a>    life_sat_baseline,</span>
<span id="cb59-675"><a href="#cb59-675" aria-hidden="true" tabindex="-1"></a>    wemwbs,</span>
<span id="cb59-676"><a href="#cb59-676" aria-hidden="true" tabindex="-1"></a>    diaries_completed,</span>
<span id="cb59-677"><a href="#cb59-677" aria-hidden="true" tabindex="-1"></a>    self_reported_weekly_play,</span>
<span id="cb59-678"><a href="#cb59-678" aria-hidden="true" tabindex="-1"></a>    self_reported_played_24h,</span>
<span id="cb59-679"><a href="#cb59-679" aria-hidden="true" tabindex="-1"></a>    displaced_core_domain,</span>
<span id="cb59-680"><a href="#cb59-680" aria-hidden="true" tabindex="-1"></a>    bpnsfs_1,</span>
<span id="cb59-681"><a href="#cb59-681" aria-hidden="true" tabindex="-1"></a>    bpnsfs_2,</span>
<span id="cb59-682"><a href="#cb59-682" aria-hidden="true" tabindex="-1"></a>    bpnsfs_3,</span>
<span id="cb59-683"><a href="#cb59-683" aria-hidden="true" tabindex="-1"></a>    bpnsfs_4,</span>
<span id="cb59-684"><a href="#cb59-684" aria-hidden="true" tabindex="-1"></a>    bpnsfs_5,</span>
<span id="cb59-685"><a href="#cb59-685" aria-hidden="true" tabindex="-1"></a>    bpnsfs_6,</span>
<span id="cb59-686"><a href="#cb59-686" aria-hidden="true" tabindex="-1"></a>    bangs_1,</span>
<span id="cb59-687"><a href="#cb59-687" aria-hidden="true" tabindex="-1"></a>    bangs_2,</span>
<span id="cb59-688"><a href="#cb59-688" aria-hidden="true" tabindex="-1"></a>    bangs_3,</span>
<span id="cb59-689"><a href="#cb59-689" aria-hidden="true" tabindex="-1"></a>    bangs_4,</span>
<span id="cb59-690"><a href="#cb59-690" aria-hidden="true" tabindex="-1"></a>    bangs_5,</span>
<span id="cb59-691"><a href="#cb59-691" aria-hidden="true" tabindex="-1"></a>    bangs_6</span>
<span id="cb59-692"><a href="#cb59-692" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-693"><a href="#cb59-693" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb59-694"><a href="#cb59-694" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_cols =</span> <span class="fu">c</span>(</span>
<span id="cb59-695"><a href="#cb59-695" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb59-696"><a href="#cb59-696" aria-hidden="true" tabindex="-1"></a>      age,</span>
<span id="cb59-697"><a href="#cb59-697" aria-hidden="true" tabindex="-1"></a>      gender,</span>
<span id="cb59-698"><a href="#cb59-698" aria-hidden="true" tabindex="-1"></a>      edu_level,</span>
<span id="cb59-699"><a href="#cb59-699" aria-hidden="true" tabindex="-1"></a>      employment,</span>
<span id="cb59-700"><a href="#cb59-700" aria-hidden="true" tabindex="-1"></a>      marital_status,</span>
<span id="cb59-701"><a href="#cb59-701" aria-hidden="true" tabindex="-1"></a>      life_sat_baseline,</span>
<span id="cb59-702"><a href="#cb59-702" aria-hidden="true" tabindex="-1"></a>      wemwbs,</span>
<span id="cb59-703"><a href="#cb59-703" aria-hidden="true" tabindex="-1"></a>      diaries_completed,</span>
<span id="cb59-704"><a href="#cb59-704" aria-hidden="true" tabindex="-1"></a>      self_reported_weekly_play</span>
<span id="cb59-705"><a href="#cb59-705" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-706"><a href="#cb59-706" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> wave,</span>
<span id="cb59-707"><a href="#cb59-707" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> <span class="fu">c</span>(</span>
<span id="cb59-708"><a href="#cb59-708" aria-hidden="true" tabindex="-1"></a>      self_reported_played_24h,</span>
<span id="cb59-709"><a href="#cb59-709" aria-hidden="true" tabindex="-1"></a>      displaced_core_domain,</span>
<span id="cb59-710"><a href="#cb59-710" aria-hidden="true" tabindex="-1"></a>      bpnsfs_1,</span>
<span id="cb59-711"><a href="#cb59-711" aria-hidden="true" tabindex="-1"></a>      bpnsfs_2,</span>
<span id="cb59-712"><a href="#cb59-712" aria-hidden="true" tabindex="-1"></a>      bpnsfs_3,</span>
<span id="cb59-713"><a href="#cb59-713" aria-hidden="true" tabindex="-1"></a>      bpnsfs_4,</span>
<span id="cb59-714"><a href="#cb59-714" aria-hidden="true" tabindex="-1"></a>      bpnsfs_5,</span>
<span id="cb59-715"><a href="#cb59-715" aria-hidden="true" tabindex="-1"></a>      bpnsfs_6,</span>
<span id="cb59-716"><a href="#cb59-716" aria-hidden="true" tabindex="-1"></a>      bangs_1,</span>
<span id="cb59-717"><a href="#cb59-717" aria-hidden="true" tabindex="-1"></a>      bangs_2,</span>
<span id="cb59-718"><a href="#cb59-718" aria-hidden="true" tabindex="-1"></a>      bangs_3,</span>
<span id="cb59-719"><a href="#cb59-719" aria-hidden="true" tabindex="-1"></a>      bangs_4,</span>
<span id="cb59-720"><a href="#cb59-720" aria-hidden="true" tabindex="-1"></a>      bangs_5,</span>
<span id="cb59-721"><a href="#cb59-721" aria-hidden="true" tabindex="-1"></a>      bangs_6</span>
<span id="cb59-722"><a href="#cb59-722" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-723"><a href="#cb59-723" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_sep =</span> <span class="st">"_w"</span></span>
<span id="cb59-724"><a href="#cb59-724" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-725"><a href="#cb59-725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-726"><a href="#cb59-726" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up imputation model</span></span>
<span id="cb59-727"><a href="#cb59-727" aria-hidden="true" tabindex="-1"></a>M_IMPUTATIONS <span class="ot">&lt;-</span> <span class="dv">27</span></span>
<span id="cb59-728"><a href="#cb59-728" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-729"><a href="#cb59-729" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up imputation methods</span></span>
<span id="cb59-730"><a href="#cb59-730" aria-hidden="true" tabindex="-1"></a><span class="co"># Self-reported play: use logistic regression (binary Yes/No)</span></span>
<span id="cb59-731"><a href="#cb59-731" aria-hidden="true" tabindex="-1"></a>played_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide)[<span class="fu">grepl</span>(</span>
<span id="cb59-732"><a href="#cb59-732" aria-hidden="true" tabindex="-1"></a>  <span class="st">"^self_reported_played_24h_w"</span>,</span>
<span id="cb59-733"><a href="#cb59-733" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(surveys_wide)</span>
<span id="cb59-734"><a href="#cb59-734" aria-hidden="true" tabindex="-1"></a>)]</span>
<span id="cb59-735"><a href="#cb59-735" aria-hidden="true" tabindex="-1"></a><span class="co"># BPNSFS items: always impute when missing (global need satisfaction)</span></span>
<span id="cb59-736"><a href="#cb59-736" aria-hidden="true" tabindex="-1"></a>bpnsfs_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide)[<span class="fu">grepl</span>(</span>
<span id="cb59-737"><a href="#cb59-737" aria-hidden="true" tabindex="-1"></a>  <span class="st">"^bpnsfs_[1-6]_w"</span>,</span>
<span id="cb59-738"><a href="#cb59-738" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(surveys_wide)</span>
<span id="cb59-739"><a href="#cb59-739" aria-hidden="true" tabindex="-1"></a>)]</span>
<span id="cb59-740"><a href="#cb59-740" aria-hidden="true" tabindex="-1"></a><span class="co"># BANGS items: only impute conditionally (see where matrix below)</span></span>
<span id="cb59-741"><a href="#cb59-741" aria-hidden="true" tabindex="-1"></a>bangs_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide)[<span class="fu">grepl</span>(<span class="st">"^bangs_[1-6]_w"</span>, <span class="fu">names</span>(surveys_wide))]</span>
<span id="cb59-742"><a href="#cb59-742" aria-hidden="true" tabindex="-1"></a><span class="co"># Displaced core domain: always impute when missing</span></span>
<span id="cb59-743"><a href="#cb59-743" aria-hidden="true" tabindex="-1"></a>displaced_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide)[<span class="fu">grepl</span>(</span>
<span id="cb59-744"><a href="#cb59-744" aria-hidden="true" tabindex="-1"></a>  <span class="st">"^displaced_core_domain_w"</span>,</span>
<span id="cb59-745"><a href="#cb59-745" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(surveys_wide)</span>
<span id="cb59-746"><a href="#cb59-746" aria-hidden="true" tabindex="-1"></a>)]</span>
<span id="cb59-747"><a href="#cb59-747" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-748"><a href="#cb59-748" aria-hidden="true" tabindex="-1"></a>methods <span class="ot">&lt;-</span> <span class="fu">setNames</span>(<span class="fu">rep</span>(<span class="st">""</span>, <span class="fu">ncol</span>(surveys_wide)), <span class="fu">names</span>(surveys_wide))</span>
<span id="cb59-749"><a href="#cb59-749" aria-hidden="true" tabindex="-1"></a>methods[played_vars] <span class="ot">&lt;-</span> <span class="st">"logreg"</span> <span class="co"># Binary outcome</span></span>
<span id="cb59-750"><a href="#cb59-750" aria-hidden="true" tabindex="-1"></a>methods[<span class="fu">c</span>(bpnsfs_vars, bangs_vars, displaced_vars)] <span class="ot">&lt;-</span> <span class="st">"pmm"</span></span>
<span id="cb59-751"><a href="#cb59-751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-752"><a href="#cb59-752" aria-hidden="true" tabindex="-1"></a><span class="co"># Explicitly exclude person-level variables from imputation</span></span>
<span id="cb59-753"><a href="#cb59-753" aria-hidden="true" tabindex="-1"></a><span class="co"># These either have no within-person variance or are complete</span></span>
<span id="cb59-754"><a href="#cb59-754" aria-hidden="true" tabindex="-1"></a>person_level_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb59-755"><a href="#cb59-755" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pid"</span>,</span>
<span id="cb59-756"><a href="#cb59-756" aria-hidden="true" tabindex="-1"></a>  <span class="st">"age"</span>,</span>
<span id="cb59-757"><a href="#cb59-757" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gender"</span>,</span>
<span id="cb59-758"><a href="#cb59-758" aria-hidden="true" tabindex="-1"></a>  <span class="st">"edu_level"</span>,</span>
<span id="cb59-759"><a href="#cb59-759" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employment"</span>,</span>
<span id="cb59-760"><a href="#cb59-760" aria-hidden="true" tabindex="-1"></a>  <span class="st">"marital_status"</span>,</span>
<span id="cb59-761"><a href="#cb59-761" aria-hidden="true" tabindex="-1"></a>  <span class="st">"life_sat_baseline"</span>,</span>
<span id="cb59-762"><a href="#cb59-762" aria-hidden="true" tabindex="-1"></a>  <span class="st">"wemwbs"</span>,</span>
<span id="cb59-763"><a href="#cb59-763" aria-hidden="true" tabindex="-1"></a>  <span class="st">"diaries_completed"</span>,</span>
<span id="cb59-764"><a href="#cb59-764" aria-hidden="true" tabindex="-1"></a>  <span class="st">"self_reported_weekly_play"</span></span>
<span id="cb59-765"><a href="#cb59-765" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-766"><a href="#cb59-766" aria-hidden="true" tabindex="-1"></a>methods[person_level_vars] <span class="ot">&lt;-</span> <span class="st">""</span></span>
<span id="cb59-767"><a href="#cb59-767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-768"><a href="#cb59-768" aria-hidden="true" tabindex="-1"></a><span class="co"># Create WHERE matrix for conditional imputation</span></span>
<span id="cb59-769"><a href="#cb59-769" aria-hidden="true" tabindex="-1"></a><span class="co"># Default: impute all missing cells</span></span>
<span id="cb59-770"><a href="#cb59-770" aria-hidden="true" tabindex="-1"></a>where_matrix <span class="ot">&lt;-</span> <span class="fu">is.na</span>(surveys_wide)</span>
<span id="cb59-771"><a href="#cb59-771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-772"><a href="#cb59-772" aria-hidden="true" tabindex="-1"></a><span class="co"># For BANGS items: only impute when person reported playing (or play status unknown)</span></span>
<span id="cb59-773"><a href="#cb59-773" aria-hidden="true" tabindex="-1"></a><span class="co"># Do NOT impute when self_reported_played_24h == "No"</span></span>
<span id="cb59-774"><a href="#cb59-774" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (bangs_var <span class="cf">in</span> bangs_vars) {</span>
<span id="cb59-775"><a href="#cb59-775" aria-hidden="true" tabindex="-1"></a>  wave_num <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(bangs_var, <span class="st">"</span><span class="sc">\\</span><span class="st">d+$"</span>)</span>
<span id="cb59-776"><a href="#cb59-776" aria-hidden="true" tabindex="-1"></a>  played_var <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"self_reported_played_24h_w"</span>, wave_num)</span>
<span id="cb59-777"><a href="#cb59-777" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-778"><a href="#cb59-778" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (played_var <span class="sc">%in%</span> <span class="fu">names</span>(surveys_wide)) {</span>
<span id="cb59-779"><a href="#cb59-779" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set to FALSE (don't impute) where played=="No" AND bangs is missing</span></span>
<span id="cb59-780"><a href="#cb59-780" aria-hidden="true" tabindex="-1"></a>    no_play <span class="ot">&lt;-</span> surveys_wide[[played_var]] <span class="sc">==</span> <span class="st">"No"</span> <span class="sc">&amp;</span></span>
<span id="cb59-781"><a href="#cb59-781" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(surveys_wide[[bangs_var]])</span>
<span id="cb59-782"><a href="#cb59-782" aria-hidden="true" tabindex="-1"></a>    where_matrix[no_play, bangs_var] <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb59-783"><a href="#cb59-783" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb59-784"><a href="#cb59-784" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-785"><a href="#cb59-785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-786"><a href="#cb59-786" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Conditional imputation setup:"</span>))</span>
<span id="cb59-787"><a href="#cb59-787" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"  BANGS items: only impute when played=Yes or played=NA"</span>))</span>
<span id="cb59-788"><a href="#cb59-788" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"  BPNSFS items: always impute"</span>))</span>
<span id="cb59-789"><a href="#cb59-789" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"  Self-reported play: impute when missing"</span>))</span>
<span id="cb59-790"><a href="#cb59-790" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-791"><a href="#cb59-791" aria-hidden="true" tabindex="-1"></a><span class="co"># SPEED OPTIMIZATION: Use quickpred() to create sparse predictor matrix</span></span>
<span id="cb59-792"><a href="#cb59-792" aria-hidden="true" tabindex="-1"></a>pred <span class="ot">&lt;-</span> <span class="fu">quickpred</span>(</span>
<span id="cb59-793"><a href="#cb59-793" aria-hidden="true" tabindex="-1"></a>  surveys_wide,</span>
<span id="cb59-794"><a href="#cb59-794" aria-hidden="true" tabindex="-1"></a>  <span class="at">mincor =</span> <span class="fl">0.3</span>,</span>
<span id="cb59-795"><a href="#cb59-795" aria-hidden="true" tabindex="-1"></a>  <span class="at">minpuc =</span> <span class="fl">0.3</span>,</span>
<span id="cb59-796"><a href="#cb59-796" aria-hidden="true" tabindex="-1"></a>  <span class="at">include =</span> <span class="fu">c</span>(</span>
<span id="cb59-797"><a href="#cb59-797" aria-hidden="true" tabindex="-1"></a>    <span class="st">"age"</span>,</span>
<span id="cb59-798"><a href="#cb59-798" aria-hidden="true" tabindex="-1"></a>    <span class="st">"wemwbs"</span>,</span>
<span id="cb59-799"><a href="#cb59-799" aria-hidden="true" tabindex="-1"></a>    <span class="st">"self_reported_weekly_play"</span></span>
<span id="cb59-800"><a href="#cb59-800" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-801"><a href="#cb59-801" aria-hidden="true" tabindex="-1"></a>  <span class="at">exclude =</span> <span class="fu">c</span>(</span>
<span id="cb59-802"><a href="#cb59-802" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pid"</span>,</span>
<span id="cb59-803"><a href="#cb59-803" aria-hidden="true" tabindex="-1"></a>    <span class="st">"gender"</span>,</span>
<span id="cb59-804"><a href="#cb59-804" aria-hidden="true" tabindex="-1"></a>    <span class="st">"edu_level"</span>,</span>
<span id="cb59-805"><a href="#cb59-805" aria-hidden="true" tabindex="-1"></a>    <span class="st">"employment"</span>,</span>
<span id="cb59-806"><a href="#cb59-806" aria-hidden="true" tabindex="-1"></a>    <span class="st">"marital_status"</span>,</span>
<span id="cb59-807"><a href="#cb59-807" aria-hidden="true" tabindex="-1"></a>    <span class="st">"diaries_completed"</span></span>
<span id="cb59-808"><a href="#cb59-808" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-809"><a href="#cb59-809" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-810"><a href="#cb59-810" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-811"><a href="#cb59-811" aria-hidden="true" tabindex="-1"></a><span class="co"># DIAGNOSTIC: Check for collinearity issues in analytical sample</span></span>
<span id="cb59-812"><a href="#cb59-812" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">=== COLLINEARITY DIAGNOSTICS ==="</span>))</span>
<span id="cb59-813"><a href="#cb59-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-814"><a href="#cb59-814" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for variables with zero variance</span></span>
<span id="cb59-815"><a href="#cb59-815" aria-hidden="true" tabindex="-1"></a>zero_var <span class="ot">&lt;-</span> <span class="fu">sapply</span>(surveys_wide, <span class="cf">function</span>(x) {</span>
<span id="cb59-816"><a href="#cb59-816" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.numeric</span>(x)) {</span>
<span id="cb59-817"><a href="#cb59-817" aria-hidden="true" tabindex="-1"></a>    v <span class="ot">&lt;-</span> <span class="fu">var</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-818"><a href="#cb59-818" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(v) <span class="sc">&amp;&amp;</span> v <span class="sc">&lt;</span> <span class="fl">1e-10</span></span>
<span id="cb59-819"><a href="#cb59-819" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb59-820"><a href="#cb59-820" aria-hidden="true" tabindex="-1"></a>    <span class="cn">FALSE</span></span>
<span id="cb59-821"><a href="#cb59-821" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb59-822"><a href="#cb59-822" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb59-823"><a href="#cb59-823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-824"><a href="#cb59-824" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">any</span>(zero_var, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) {</span>
<span id="cb59-825"><a href="#cb59-825" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb59-826"><a href="#cb59-826" aria-hidden="true" tabindex="-1"></a>    <span class="st">"⚠️  Variables with zero variance: {paste(names(which(zero_var)), collapse=', ')}"</span></span>
<span id="cb59-827"><a href="#cb59-827" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb59-828"><a href="#cb59-828" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-829"><a href="#cb59-829" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-830"><a href="#cb59-830" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for perfect/near-perfect correlations among items to be imputed</span></span>
<span id="cb59-831"><a href="#cb59-831" aria-hidden="true" tabindex="-1"></a>items_to_check <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb59-832"><a href="#cb59-832" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grep</span>(<span class="st">"^bpnsfs_[1-6]_w"</span>, <span class="fu">names</span>(surveys_wide), <span class="at">value =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-833"><a href="#cb59-833" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grep</span>(<span class="st">"^bangs_[1-6]_w"</span>, <span class="fu">names</span>(surveys_wide), <span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-834"><a href="#cb59-834" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-835"><a href="#cb59-835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-836"><a href="#cb59-836" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(items_to_check) <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb59-837"><a href="#cb59-837" aria-hidden="true" tabindex="-1"></a>  cor_mat <span class="ot">&lt;-</span> <span class="fu">cor</span>(surveys_wide[, items_to_check], <span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>)</span>
<span id="cb59-838"><a href="#cb59-838" aria-hidden="true" tabindex="-1"></a>  <span class="fu">diag</span>(cor_mat) <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co"># Ignore diagonal</span></span>
<span id="cb59-839"><a href="#cb59-839" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-840"><a href="#cb59-840" aria-hidden="true" tabindex="-1"></a>  high_cor <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">abs</span>(cor_mat) <span class="sc">&gt;</span> <span class="fl">0.9999</span>, <span class="at">arr.ind =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-841"><a href="#cb59-841" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-842"><a href="#cb59-842" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">nrow</span>(high_cor) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb59-843"><a href="#cb59-843" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"⚠️  PERFECT CORRELATIONS DETECTED:"</span>))</span>
<span id="cb59-844"><a href="#cb59-844" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">min</span>(<span class="fu">nrow</span>(high_cor), <span class="dv">10</span>)) {</span>
<span id="cb59-845"><a href="#cb59-845" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Show first 10</span></span>
<span id="cb59-846"><a href="#cb59-846" aria-hidden="true" tabindex="-1"></a>      var1 <span class="ot">&lt;-</span> items_to_check[high_cor[i, <span class="dv">1</span>]]</span>
<span id="cb59-847"><a href="#cb59-847" aria-hidden="true" tabindex="-1"></a>      var2 <span class="ot">&lt;-</span> items_to_check[high_cor[i, <span class="dv">2</span>]]</span>
<span id="cb59-848"><a href="#cb59-848" aria-hidden="true" tabindex="-1"></a>      r <span class="ot">&lt;-</span> cor_mat[high_cor[i, <span class="dv">1</span>], high_cor[i, <span class="dv">2</span>]]</span>
<span id="cb59-849"><a href="#cb59-849" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"  {var1} &lt;-&gt; {var2}: r = {round(r, 6)}"</span>))</span>
<span id="cb59-850"><a href="#cb59-850" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb59-851"><a href="#cb59-851" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb59-852"><a href="#cb59-852" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb59-853"><a href="#cb59-853" aria-hidden="true" tabindex="-1"></a>      <span class="st">"✓ No perfect correlations detected (max r = {round(max(abs(cor_mat), na.rm=TRUE), 3)})"</span></span>
<span id="cb59-854"><a href="#cb59-854" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb59-855"><a href="#cb59-855" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb59-856"><a href="#cb59-856" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-857"><a href="#cb59-857" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-858"><a href="#cb59-858" aria-hidden="true" tabindex="-1"></a><span class="co"># Report predictor matrix density</span></span>
<span id="cb59-859"><a href="#cb59-859" aria-hidden="true" tabindex="-1"></a>pred_density <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">*</span> <span class="fu">mean</span>(pred <span class="sc">!=</span> <span class="dv">0</span>)</span>
<span id="cb59-860"><a href="#cb59-860" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Predictor matrix density: {round(pred_density, 1)}%"</span>))</span>
<span id="cb59-861"><a href="#cb59-861" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-862"><a href="#cb59-862" aria-hidden="true" tabindex="-1"></a><span class="co"># Check where matrix for potential issues</span></span>
<span id="cb59-863"><a href="#cb59-863" aria-hidden="true" tabindex="-1"></a>n_cells_to_impute <span class="ot">&lt;-</span> <span class="fu">sum</span>(where_matrix)</span>
<span id="cb59-864"><a href="#cb59-864" aria-hidden="true" tabindex="-1"></a>n_total_cells <span class="ot">&lt;-</span> <span class="fu">prod</span>(<span class="fu">dim</span>(where_matrix))</span>
<span id="cb59-865"><a href="#cb59-865" aria-hidden="true" tabindex="-1"></a>pct_to_impute <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">*</span> n_cells_to_impute <span class="sc">/</span> n_total_cells</span>
<span id="cb59-866"><a href="#cb59-866" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb59-867"><a href="#cb59-867" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Cells to impute: {n_cells_to_impute}/{n_total_cells} ({round(pct_to_impute, 1)}%)"</span></span>
<span id="cb59-868"><a href="#cb59-868" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb59-869"><a href="#cb59-869" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-870"><a href="#cb59-870" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for variables with extreme missingness</span></span>
<span id="cb59-871"><a href="#cb59-871" aria-hidden="true" tabindex="-1"></a>vars_to_impute <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide)[methods <span class="sc">!=</span> <span class="st">""</span>]</span>
<span id="cb59-872"><a href="#cb59-872" aria-hidden="true" tabindex="-1"></a>miss_pct <span class="ot">&lt;-</span> <span class="fu">sapply</span>(surveys_wide[vars_to_impute], <span class="cf">function</span>(x) {</span>
<span id="cb59-873"><a href="#cb59-873" aria-hidden="true" tabindex="-1"></a>  <span class="dv">100</span> <span class="sc">*</span> <span class="fu">mean</span>(<span class="fu">is.na</span>(x))</span>
<span id="cb59-874"><a href="#cb59-874" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb59-875"><a href="#cb59-875" aria-hidden="true" tabindex="-1"></a>high_miss <span class="ot">&lt;-</span> miss_pct <span class="sc">&gt;</span> <span class="dv">80</span></span>
<span id="cb59-876"><a href="#cb59-876" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-877"><a href="#cb59-877" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">any</span>(high_miss)) {</span>
<span id="cb59-878"><a href="#cb59-878" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"⚠️  Variables with &gt;80% missing:"</span>))</span>
<span id="cb59-879"><a href="#cb59-879" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (v <span class="cf">in</span> <span class="fu">names</span>(<span class="fu">which</span>(high_miss))) {</span>
<span id="cb59-880"><a href="#cb59-880" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"  {v}: {round(miss_pct[v], 1)}%"</span>))</span>
<span id="cb59-881"><a href="#cb59-881" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb59-882"><a href="#cb59-882" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-883"><a href="#cb59-883" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-884"><a href="#cb59-884" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"=== END DIAGNOSTICS ===</span><span class="sc">\n</span><span class="st">"</span>))</span>
<span id="cb59-885"><a href="#cb59-885" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-886"><a href="#cb59-886" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if imputation already exists</span></span>
<span id="cb59-887"><a href="#cb59-887" aria-hidden="true" tabindex="-1"></a>imp_file <span class="ot">&lt;-</span> <span class="st">"data/imputation_analytical.csv.gz"</span></span>
<span id="cb59-888"><a href="#cb59-888" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-889"><a href="#cb59-889" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(imp_file)) {</span>
<span id="cb59-890"><a href="#cb59-890" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Loading existing imputation from {imp_file}"</span>))</span>
<span id="cb59-891"><a href="#cb59-891" aria-hidden="true" tabindex="-1"></a>  imp_long <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(imp_file, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb59-892"><a href="#cb59-892" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-893"><a href="#cb59-893" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert back to mids object</span></span>
<span id="cb59-894"><a href="#cb59-894" aria-hidden="true" tabindex="-1"></a>  imp <span class="ot">&lt;-</span> <span class="fu">as.mids</span>(imp_long)</span>
<span id="cb59-895"><a href="#cb59-895" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Loaded imputation object (M={imp$m})"</span>))</span>
<span id="cb59-896"><a href="#cb59-896" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-897"><a href="#cb59-897" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"No existing imputation found - running MICE"</span>))</span>
<span id="cb59-898"><a href="#cb59-898" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-899"><a href="#cb59-899" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb59-900"><a href="#cb59-900" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Running MICE: M={M_IMPUTATIONS}, N={nrow(surveys_wide)}, started {Sys.time()}"</span></span>
<span id="cb59-901"><a href="#cb59-901" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb59-902"><a href="#cb59-902" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-903"><a href="#cb59-903" aria-hidden="true" tabindex="-1"></a>  imp <span class="ot">&lt;-</span> <span class="fu">futuremice</span>(</span>
<span id="cb59-904"><a href="#cb59-904" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> surveys_wide,</span>
<span id="cb59-905"><a href="#cb59-905" aria-hidden="true" tabindex="-1"></a>    <span class="at">m =</span> M_IMPUTATIONS,</span>
<span id="cb59-906"><a href="#cb59-906" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> methods,</span>
<span id="cb59-907"><a href="#cb59-907" aria-hidden="true" tabindex="-1"></a>    <span class="at">predictorMatrix =</span> pred,</span>
<span id="cb59-908"><a href="#cb59-908" aria-hidden="true" tabindex="-1"></a>    <span class="at">where =</span> where_matrix,</span>
<span id="cb59-909"><a href="#cb59-909" aria-hidden="true" tabindex="-1"></a>    <span class="at">maxit =</span> <span class="dv">5</span>,</span>
<span id="cb59-910"><a href="#cb59-910" aria-hidden="true" tabindex="-1"></a>    <span class="at">n.core =</span> parallel<span class="sc">::</span><span class="fu">detectCores</span>() <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb59-911"><a href="#cb59-911" aria-hidden="true" tabindex="-1"></a>    <span class="at">parallelseed =</span> <span class="dv">8675309</span></span>
<span id="cb59-912"><a href="#cb59-912" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-913"><a href="#cb59-913" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-914"><a href="#cb59-914" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Completed {Sys.time()}"</span>))</span>
<span id="cb59-915"><a href="#cb59-915" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-916"><a href="#cb59-916" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save imputation results as compressed CSV</span></span>
<span id="cb59-917"><a href="#cb59-917" aria-hidden="true" tabindex="-1"></a>  imp_long <span class="ot">&lt;-</span> <span class="fu">complete</span>(imp, <span class="at">action =</span> <span class="st">"long"</span>, <span class="at">include =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-918"><a href="#cb59-918" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_csv</span>(imp_long, imp_file)</span>
<span id="cb59-919"><a href="#cb59-919" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Saved imputation to {imp_file}"</span>))</span>
<span id="cb59-920"><a href="#cb59-920" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-921"><a href="#cb59-921" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Diagnostic checks (only after fresh imputation)</span></span>
<span id="cb59-922"><a href="#cb59-922" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">nrow</span>(imp<span class="sc">$</span>loggedEvents) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb59-923"><a href="#cb59-923" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb59-924"><a href="#cb59-924" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Warning: {nrow(imp$loggedEvents)} logged events during imputation"</span></span>
<span id="cb59-925"><a href="#cb59-925" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb59-926"><a href="#cb59-926" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">head</span>(imp<span class="sc">$</span>loggedEvents))</span>
<span id="cb59-927"><a href="#cb59-927" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb59-928"><a href="#cb59-928" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"No logged events - imputation completed without issues"</span>)</span>
<span id="cb59-929"><a href="#cb59-929" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb59-930"><a href="#cb59-930" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-931"><a href="#cb59-931" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-932"><a href="#cb59-932" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-933"><a href="#cb59-933" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-936"><a href="#cb59-936" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-937"><a href="#cb59-937" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: post-imputation-centering</span></span>
<span id="cb59-938"><a href="#cb59-938" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Calculate composites and within/between-person centering)"</span></span>
<span id="cb59-939"><a href="#cb59-939" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-940"><a href="#cb59-940" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-941"><a href="#cb59-941" aria-hidden="true" tabindex="-1"></a><span class="co"># Post-imputation centering</span></span>
<span id="cb59-942"><a href="#cb59-942" aria-hidden="true" tabindex="-1"></a>m_imputations <span class="ot">&lt;-</span> M_IMPUTATIONS</span>
<span id="cb59-943"><a href="#cb59-943" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-944"><a href="#cb59-944" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"=== Post-imputation processing (M={m_imputations}) ==="</span>))</span>
<span id="cb59-945"><a href="#cb59-945" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-946"><a href="#cb59-946" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to long format and calculate composite scores from imputed items</span></span>
<span id="cb59-947"><a href="#cb59-947" aria-hidden="true" tabindex="-1"></a>daily_imputed <span class="ot">&lt;-</span> <span class="fu">complete</span>(imp, <span class="at">action =</span> <span class="st">"long"</span>, <span class="at">include =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-948"><a href="#cb59-948" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb59-949"><a href="#cb59-949" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(</span>
<span id="cb59-950"><a href="#cb59-950" aria-hidden="true" tabindex="-1"></a>      .imp,</span>
<span id="cb59-951"><a href="#cb59-951" aria-hidden="true" tabindex="-1"></a>      .id,</span>
<span id="cb59-952"><a href="#cb59-952" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb59-953"><a href="#cb59-953" aria-hidden="true" tabindex="-1"></a>      age,</span>
<span id="cb59-954"><a href="#cb59-954" aria-hidden="true" tabindex="-1"></a>      gender,</span>
<span id="cb59-955"><a href="#cb59-955" aria-hidden="true" tabindex="-1"></a>      edu_level,</span>
<span id="cb59-956"><a href="#cb59-956" aria-hidden="true" tabindex="-1"></a>      employment,</span>
<span id="cb59-957"><a href="#cb59-957" aria-hidden="true" tabindex="-1"></a>      marital_status,</span>
<span id="cb59-958"><a href="#cb59-958" aria-hidden="true" tabindex="-1"></a>      life_sat_baseline,</span>
<span id="cb59-959"><a href="#cb59-959" aria-hidden="true" tabindex="-1"></a>      wemwbs,</span>
<span id="cb59-960"><a href="#cb59-960" aria-hidden="true" tabindex="-1"></a>      diaries_completed,</span>
<span id="cb59-961"><a href="#cb59-961" aria-hidden="true" tabindex="-1"></a>      self_reported_weekly_play</span>
<span id="cb59-962"><a href="#cb59-962" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-963"><a href="#cb59-963" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">".value"</span>, <span class="st">"wave"</span>),</span>
<span id="cb59-964"><a href="#cb59-964" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_pattern =</span> <span class="st">"(.+)_w(.+)"</span></span>
<span id="cb59-965"><a href="#cb59-965" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-966"><a href="#cb59-966" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wave =</span> <span class="fu">as.factor</span>(wave)) <span class="sc">|&gt;</span></span>
<span id="cb59-967"><a href="#cb59-967" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate composite scores from imputed individual items</span></span>
<span id="cb59-968"><a href="#cb59-968" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-969"><a href="#cb59-969" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(bpnsfs_1, bpnsfs_3, bpnsfs_5), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-970"><a href="#cb59-970" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(bpnsfs_2, bpnsfs_4, bpnsfs_6), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-971"><a href="#cb59-971" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(bangs_1, bangs_3, bangs_5), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-972"><a href="#cb59-972" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(bangs_2, bangs_4, bangs_6), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-973"><a href="#cb59-973" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-974"><a href="#cb59-974" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rejoin telemetry variables (no imputation needed)</span></span>
<span id="cb59-975"><a href="#cb59-975" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(telemetry_vars, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"wave"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-976"><a href="#cb59-976" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate person means within each imputation</span></span>
<span id="cb59-977"><a href="#cb59-977" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(.imp, pid) <span class="sc">|&gt;</span></span>
<span id="cb59-978"><a href="#cb59-978" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-979"><a href="#cb59-979" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns_pm =</span> <span class="fu">mean</span>(global_ns, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-980"><a href="#cb59-980" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_pm =</span> <span class="fu">mean</span>(global_nf, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-981"><a href="#cb59-981" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_pm =</span> <span class="fu">mean</span>(game_ns, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-982"><a href="#cb59-982" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf_pm =</span> <span class="fu">mean</span>(game_nf, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-983"><a href="#cb59-983" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-984"><a href="#cb59-984" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-985"><a href="#cb59-985" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate grand means and centered values within each imputation</span></span>
<span id="cb59-986"><a href="#cb59-986" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(.imp) <span class="sc">|&gt;</span></span>
<span id="cb59-987"><a href="#cb59-987" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-988"><a href="#cb59-988" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns_gm =</span> <span class="fu">mean</span>(global_ns_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-989"><a href="#cb59-989" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_gm =</span> <span class="fu">mean</span>(global_nf_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-990"><a href="#cb59-990" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_gm =</span> <span class="fu">mean</span>(game_ns_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-991"><a href="#cb59-991" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf_gm =</span> <span class="fu">mean</span>(game_nf_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-992"><a href="#cb59-992" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-993"><a href="#cb59-993" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Within-person centered (deviation from person mean)</span></span>
<span id="cb59-994"><a href="#cb59-994" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns_cw =</span> global_ns <span class="sc">-</span> global_ns_pm,</span>
<span id="cb59-995"><a href="#cb59-995" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cw =</span> global_nf <span class="sc">-</span> global_nf_pm,</span>
<span id="cb59-996"><a href="#cb59-996" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> game_ns <span class="sc">-</span> game_ns_pm,</span>
<span id="cb59-997"><a href="#cb59-997" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf_cw =</span> game_nf <span class="sc">-</span> game_nf_pm,</span>
<span id="cb59-998"><a href="#cb59-998" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-999"><a href="#cb59-999" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Between-person centered (person mean - grand mean)</span></span>
<span id="cb59-1000"><a href="#cb59-1000" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns_cb =</span> global_ns_pm <span class="sc">-</span> global_ns_gm,</span>
<span id="cb59-1001"><a href="#cb59-1001" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cb =</span> global_nf_pm <span class="sc">-</span> global_nf_gm,</span>
<span id="cb59-1002"><a href="#cb59-1002" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> game_ns_pm <span class="sc">-</span> game_ns_gm,</span>
<span id="cb59-1003"><a href="#cb59-1003" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf_cb =</span> game_nf_pm <span class="sc">-</span> game_nf_gm</span>
<span id="cb59-1004"><a href="#cb59-1004" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-1005"><a href="#cb59-1005" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb59-1006"><a href="#cb59-1006" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1007"><a href="#cb59-1007" aria-hidden="true" tabindex="-1"></a><span class="co"># Main analysis dataset: use .imp &gt; 0 (imputed datasets)</span></span>
<span id="cb59-1008"><a href="#cb59-1008" aria-hidden="true" tabindex="-1"></a><span class="co"># .imp == 0 contains the original incomplete data</span></span>
<span id="cb59-1009"><a href="#cb59-1009" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> daily_imputed <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb59-1010"><a href="#cb59-1010" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1011"><a href="#cb59-1011" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb59-1012"><a href="#cb59-1012" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Main analysis dataset: {n_distinct(dat$pid)} participants, {nrow(dat)} observations"</span></span>
<span id="cb59-1013"><a href="#cb59-1013" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb59-1014"><a href="#cb59-1014" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1015"><a href="#cb59-1015" aria-hidden="true" tabindex="-1"></a><span class="co"># Create unique row ID for long format (needed for as.mids conversion)</span></span>
<span id="cb59-1016"><a href="#cb59-1016" aria-hidden="true" tabindex="-1"></a>daily_imputed <span class="ot">&lt;-</span> daily_imputed <span class="sc">|&gt;</span></span>
<span id="cb59-1017"><a href="#cb59-1017" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(.imp) <span class="sc">|&gt;</span></span>
<span id="cb59-1018"><a href="#cb59-1018" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">.id =</span> <span class="fu">row_number</span>()) <span class="sc">|&gt;</span></span>
<span id="cb59-1019"><a href="#cb59-1019" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb59-1020"><a href="#cb59-1020" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1021"><a href="#cb59-1021" aria-hidden="true" tabindex="-1"></a><span class="co"># Helper object for mice::with() and pool() if needed</span></span>
<span id="cb59-1022"><a href="#cb59-1022" aria-hidden="true" tabindex="-1"></a>imp_mids <span class="ot">&lt;-</span> <span class="fu">as.mids</span>(daily_imputed)</span>
<span id="cb59-1023"><a href="#cb59-1023" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1024"><a href="#cb59-1024" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-1025"><a href="#cb59-1025" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1026"><a href="#cb59-1026" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb59-1027"><a href="#cb59-1027" aria-hidden="true" tabindex="-1"></a>abstract: |</span>
<span id="cb59-1028"><a href="#cb59-1028" aria-hidden="true" tabindex="-1"></a>  Psychological theories of media use often assume that subjective motivation translates into observable behavior. Using video games as a test case, we examine this assumption by pairing repeated self-reports with objective play telemetry at scale. Across two open datasets comprising tens of thousands of hours of observed gaming behaviour, we test predictions derived from self-determination theory and the Basic Needs in Games (BANG) model, which posit that autonomy, competence, and relatedness experiences drive engagement. Study 1 (preregistered) analyzes 11k daily observations from 555 U.S. players with 30 days of multi-platform telemetry. Study 2 (exploratory) examines 102k sessions from 9k PowerWash Simulator players, linking in-game experience prompts to behavioral logs. In both studies, need satisfaction robustly predicted subjective states but showed weak or null associations with short-term gaming behavior, including subsequent play, session length, and return latency, across extensive preregistered and robustness analyses. These findings reveal a substantial motivation–behavior gap and suggest that SDT-based accounts may overestimate the role of need satisfaction in explaining when people play. Data and codebook are available under a {{&lt; meta data-license &gt;}} license at {{&lt; meta data-url &gt;}}.</span>
<span id="cb59-1029"><a href="#cb59-1029" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb59-1030"><a href="#cb59-1030" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1031"><a href="#cb59-1031" aria-hidden="true" tabindex="-1"></a><span class="fu"># Introduction</span></span>
<span id="cb59-1032"><a href="#cb59-1032" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1033"><a href="#cb59-1033" aria-hidden="true" tabindex="-1"></a>Upwards of half of adults and nearly all children in the UK and US regularly play video games <span class="co">[</span><span class="ot">@EntertainmentSoftwareAssociation20242024; @Ofcom2023Online</span><span class="co">]</span>, and the putative effects of gaming on health are of interest to players, games industry professionals, policymakers, clinicians, and families. Research to date has had limited success supporting these groups <span class="co">[</span><span class="ot">@Ballou2023Manifesto</span><span class="co">]</span>, stemming from challenges of accessing granular behavioral data, measuring mental health with sufficient temporal detail, and aligning theory with growing evidence that effects relate primarily to the quality, rather than quantity, of use <span class="co">[</span><span class="ot">@BallouDeterding2024Basic; @Buchi2024Digital; @Orben2022Digital</span><span class="co">]</span>.</span>
<span id="cb59-1034"><a href="#cb59-1034" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1035"><a href="#cb59-1035" aria-hidden="true" tabindex="-1"></a>Digital trace data—histories of user actions generated when interacting with games—addresses several of these challenges. Compared to self-report, trace data provides greater detail about what, when and how much people play while alleviating concerns about recall biases <span class="co">[</span><span class="ot">@ErnalaEtAl2020How@KahnEtAl2014why; @ParryEtAl2021systematic</span><span class="co">]</span>. However, three key limitations remain. First, while gaming companies collect player data at scale <span class="co">[</span><span class="ot">@El-NasrEtAl2021Game</span><span class="co">]</span>, these data are rarely accessible to independent researchers. Where access has been negotiated, it typically covers just one game or platform—potentially a small part of a person's gaming "diet." UK and US players use an average of 2.8 platforms <span class="co">[</span><span class="ot">@BallouEtAl2025Perceived</span><span class="co">]</span>, necessitating multi-platform data access to understand holistic effects.</span>
<span id="cb59-1036"><a href="#cb59-1036" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1037"><a href="#cb59-1037" aria-hidden="true" tabindex="-1"></a>Second, while trace data is often richly longitudinal, it has been paired with wellbeing surveys consisting of either a single wave <span class="co">[</span><span class="ot">@BallouEtAl2025Perceived; @JohannesEtAl2021Video</span><span class="co">]</span> or waves separated by multiple weeks <span class="co">[</span><span class="ot">@LarrieuEtAl2023How; @VuorreEtAl2022Time</span><span class="co">]</span>. Early evidence suggests gaming effects may materialize and dissipate within 6 hours <span class="co">[</span><span class="ot">@BallouEtAl2025Perceived</span><span class="co">]</span>, and subjective wellbeing varies substantially across a day <span class="co">[</span><span class="ot">@LuhmannEtAl2021Subjective</span><span class="co">]</span>. Experience sampling and daily diary methods, embraced in social media research <span class="co">[</span><span class="ot">@AalbersEtAl2021Caught; @SiebersEtAl2021Explaining</span><span class="co">]</span>, are needed to capture nuanced, short-lived effects and to better differentiate within- and between-person relationships <span class="co">[</span><span class="ot">@JohannesEtAl2024How</span><span class="co">]</span>.</span>
<span id="cb59-1038"><a href="#cb59-1038" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1039"><a href="#cb59-1039" aria-hidden="true" tabindex="-1"></a>Third, effects of gaming are likely nuanced and contextual, but existing research lacks strong theoretical frameworks to guide investigation. Studies using industry trace data have ruled out simple playtime--wellbeing relationships <span class="co">[</span><span class="ot">@BallouEtAl2024Registered; @JohannesEtAl2021Video; @VuorreEtAl2022Time; @LarrieuEtAl2023How; @BallouEtAl2025Perceived</span><span class="co">]</span>, supporting calls to move beyond quantity-focused approaches <span class="co">[</span><span class="ot">@BallouEtAl2025How</span><span class="co">]</span>. However, we need theory-driven predictions about how psychological states relate to gaming behavior itself—what motivates people to play in the first place, and how daily fluctuations in wellbeing shape engagement patterns. Self-Determination Theory <span class="co">[</span><span class="ot">SDT; @Ryan2023Oxforda</span><span class="co">]</span> offers such a framework, proposing that satisfaction of basic psychological needs---autonomy, competence, and relatedness---drives motivated behavior including media use. Understanding whether and when people choose to play games may depend critically on their experiences of needs satisfaction in daily life, yet few studies have tested these behavioral predictions using intensive longitudinal data.</span>
<span id="cb59-1040"><a href="#cb59-1040" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1041"><a href="#cb59-1041" aria-hidden="true" tabindex="-1"></a>Together, these gaps point to clear next steps: collect comprehensive multi-platform digital trace data; pair it with dense, repeated wellbeing measurements; and use this data for theory-driven investigations of play quality and context. These are the aims of the present study.</span>
<span id="cb59-1042"><a href="#cb59-1042" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1043"><a href="#cb59-1043" aria-hidden="true" tabindex="-1"></a><span class="fu"># Self-determination theory</span></span>
<span id="cb59-1044"><a href="#cb59-1044" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1045"><a href="#cb59-1045" aria-hidden="true" tabindex="-1"></a>Self-determination theory <span class="co">[</span><span class="ot">@RyanDeci2017Selfdetermination</span><span class="co">]</span> proposes three innate and universal psychological needs: the need for autonomy (to feel in control over one’s life and volitional in one’s actions), competence (to act effectively and exert mastery in the world), and relatedness (to feel that one is valued by others and values them in return). These basic psychological needs are theorized to be vital nutriments required for a person to live a fully functional life. Across the environments we inhabit and activities we perform, these needs can be either satisfied or frustrated <span class="co">[</span><span class="ot">@VansteenkisteEtAl2020basic</span><span class="co">]</span>. </span>
<span id="cb59-1046"><a href="#cb59-1046" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1047"><a href="#cb59-1047" aria-hidden="true" tabindex="-1"></a>There has been substantial research into how games and other entertainment media can support basic psychological needs <span class="co">[</span><span class="ot">@PrzybylskiEtAl2010motivational; @TyackMekler2020Selfdetermination</span><span class="co">]</span>. Games are adept at satisfying all three basic needs; games that better satisfy needs are more engaging; and having one’s needs satisfied during gaming is associated with better mental health outcomes during and after play <span class="co">[</span><span class="ot">@ReerQuandt2020Digital; @TyackMekler2020Selfdetermination; @VellaJohnson2012Flourishing</span><span class="co">]</span>.</span>
<span id="cb59-1048"><a href="#cb59-1048" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1049"><a href="#cb59-1049" aria-hidden="true" tabindex="-1"></a><span class="fu">## The Basic Needs in Games (BANG) Model</span></span>
<span id="cb59-1050"><a href="#cb59-1050" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1051"><a href="#cb59-1051" aria-hidden="true" tabindex="-1"></a>The Basic Needs in Games (BANG) model of video game play and mental health <span class="co">[</span><span class="ot">@BallouDeterding2024Basic</span><span class="co">]</span> builds upon the core SDT principle that any action’s impact on mental health is mediated by basic psychological needs. By differentiating between playtime and quality of play, BANG seeks to explain seemingly conflicting earlier findings that playtime itself is largely unrelated to wellbeing, but that some players do experience meaningful benefits or harms in relation to their video game play. </span>
<span id="cb59-1052"><a href="#cb59-1052" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1053"><a href="#cb59-1053" aria-hidden="true" tabindex="-1"></a>To date, however, BANG remains largely untested. Hence, the goal of this study is to test several key BANG hypotheses. We label the predictions of the current study in numerical order (e.g., H1), but also provide the numbered label from the original paper (e.g., B6) for clarity of potential falsification.</span>
<span id="cb59-1054"><a href="#cb59-1054" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1055"><a href="#cb59-1055" aria-hidden="true" tabindex="-1"></a><span class="fu">### The Relationship Between Basic Needs in Games and Global Basic Needs (H1)</span></span>
<span id="cb59-1056"><a href="#cb59-1056" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1057"><a href="#cb59-1057" aria-hidden="true" tabindex="-1"></a>Following the hierarchical model of intrinsic and extrinsic motivation <span class="co">[</span><span class="ot">@Vallerand1997Hierarchical</span><span class="co">]</span>, BANG conceives of basic needs as operating at three levels of generality: situational (a particular gaming session), contextual (gaming as a whole), and global (one’s life in general). Experiences at lower levels of generality feed into and co-constitute higher levels---experiences with games are one (greater or lesser) element of one's life overall. </span>
<span id="cb59-1058"><a href="#cb59-1058" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1059"><a href="#cb59-1059" aria-hidden="true" tabindex="-1"></a>A positive relationship between need satisfaction in games and overall need satisfaction is well-established in prior literature <span class="co">[</span><span class="ot">@AllenAnderson2018satisfaction; @BallouEtAl2024Basic; @BradtEtAl2024Are</span><span class="co">]</span>. BANG (B6) formalizes this relationship, proposing that need satisfaction experienced during gaming sessions contributes to overall need satisfaction in life. Thus, BANG predicts:</span>
<span id="cb59-1060"><a href="#cb59-1060" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1061"><a href="#cb59-1061" aria-hidden="true" tabindex="-1"></a>*H1. When individuals’ in-game needs are better satisfied, they report greater overall need satisfaction.*</span>
<span id="cb59-1062"><a href="#cb59-1062" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1063"><a href="#cb59-1063" aria-hidden="true" tabindex="-1"></a><span class="fu">### Expectations (H2a)</span></span>
<span id="cb59-1064"><a href="#cb59-1064" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1065"><a href="#cb59-1065" aria-hidden="true" tabindex="-1"></a>Early articulations of SDT propose that goal or activity selection are (intrinsically) motivated by the 'awareness of potential satisfaction' of basic psychological needs or 'expectations about the satisfaction of those <span class="co">[</span><span class="ot">salient</span><span class="co">]</span> motives' <span class="co">[</span><span class="ot">@DeciRyan1985Intrinsic, p. 231--239</span><span class="co">]</span>. Need-related outcome expectations are closely related to intrinsic motivation <span class="co">[</span><span class="ot">perhaps even forming part of the computational machinery underlying motivation; @MurayamaJach2023critique</span><span class="co">]</span>, and the behavioral product of these expectations is therefore greater behavioral engagement. </span>
<span id="cb59-1066"><a href="#cb59-1066" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1067"><a href="#cb59-1067" aria-hidden="true" tabindex="-1"></a>Expectations have , perhaps surprisingly, not featured prominently in subsequent empirical work; most gaming and media use-related SDT work focuses on need satisfaction or frustration as the experiential consequence of media consumption. This can explain loops of self-sustaining activity, but it cannot explain initial selective exposure to gaming where the activity has not commenced. </span>
<span id="cb59-1068"><a href="#cb59-1068" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1069"><a href="#cb59-1069" aria-hidden="true" tabindex="-1"></a>BANG proposes that experiences of need satisfaction during a particular gaming session positively affect player's expectations for future need satisfaction with the current game, similar games, and gaming as a whole. </span>
<span id="cb59-1070"><a href="#cb59-1070" aria-hidden="true" tabindex="-1"></a>Outcome expectations are an important predictor of continued media engagement <span class="co">[</span><span class="ot">@ChangEtAl2014effects; @KocakAlanEtAl2022Replaying; @LaroseEtAl2001Understanding</span><span class="co">]</span>. Players report that expected need frustration is reported to modulate both initial and continued gaming exposure <span class="co">[</span><span class="ot">@BallouDeterding2023Just</span><span class="co">]</span>. From BANG (B8), we therefore derive the following hypothesis:</span>
<span id="cb59-1071"><a href="#cb59-1071" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1072"><a href="#cb59-1072" aria-hidden="true" tabindex="-1"></a>*H2a. When individuals’ in-game need satisfaction is higher, they are more likely to play video games in the 24-hour period after survey completion.*</span>
<span id="cb59-1073"><a href="#cb59-1073" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1074"><a href="#cb59-1074" aria-hidden="true" tabindex="-1"></a><span class="fu">### Compensation (H2b)</span></span>
<span id="cb59-1075"><a href="#cb59-1075" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1076"><a href="#cb59-1076" aria-hidden="true" tabindex="-1"></a>SDT predicts that (global) need frustration results in compensatory behavior---people attempt to replenish needs that are not being met by altering their behavior <span class="co">[</span><span class="ot">e.g., @SheldonEtAl2011twoprocess</span><span class="co">]</span>. The dense need satisfaction offered by games constitute one way for people to compensate <span class="co">[</span><span class="ot">@BallouEtAl2022People</span><span class="co">]</span>, particularly those who are highly engaged with gaming and have high gaming literacy. The combination of high need satisfaction and games and high need frustration in other life domains is often linked with increased problematic or disordered gaming, showing that compensation can occur and become maladaptive and thereby support for the so-called "need density hypothesis" <span class="co">[</span><span class="ot">@BradtEtAl2024Are; @AllenAnderson2018satisfaction; @MillsEtAl2018exploring</span><span class="co">]</span>. BANG operationalizes this compensatory play via intrinsic motivation. Frustrated needs in one’s life in general make opportunities to fulfill those needs more salient, which---all else equal---manifests phenomenologically as an increased energy towards those activities. Given this, we predict (derived from BANG Hypothesis 9):</span>
<span id="cb59-1077"><a href="#cb59-1077" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1078"><a href="#cb59-1078" aria-hidden="true" tabindex="-1"></a>*H2b. When individuals’ global need frustration is higher, they are more likely to play video games in the 24-hour period after survey completion.* </span>
<span id="cb59-1079"><a href="#cb59-1079" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1080"><a href="#cb59-1080" aria-hidden="true" tabindex="-1"></a><span class="fu">### Displacement (H3)</span></span>
<span id="cb59-1081"><a href="#cb59-1081" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1082"><a href="#cb59-1082" aria-hidden="true" tabindex="-1"></a>Playtime, BANG argues, only becomes problematic when it displaces other activitiesessential to the maintenance of need satisfaction in life overall. Commonly proposed problematic displacements are work/school responsibilities <span class="co">[</span><span class="ot">@DrummondSauer2020Timesplitters</span><span class="co">]</span>, personal relationships <span class="co">[</span><span class="ot">@DomahidiEtAl2018Longitudinal</span><span class="co">]</span>, and physical health or sleep. Displacing activities in major life can reduce the ability to effectively engage in these areas, thereby reducing global need satisfaction. Thus, BANG (B5) predicts:</span>
<span id="cb59-1083"><a href="#cb59-1083" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1084"><a href="#cb59-1084" aria-hidden="true" tabindex="-1"></a>*H3. When a person’s most recent gaming displaced a core life domain (work/school, social engagements, sleep/eating/fitness, or caretaking), their global need satisfaction is lower.*</span>
<span id="cb59-1085"><a href="#cb59-1085" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1086"><a href="#cb59-1086" aria-hidden="true" tabindex="-1"></a><span class="fu"># Study 1</span></span>
<span id="cb59-1087"><a href="#cb59-1087" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1088"><a href="#cb59-1088" aria-hidden="true" tabindex="-1"></a>Study 1 was pre-registered on the Open Science Framework (OSF) in the form of a Stage 1 Registered Report <span class="co">[</span><span class="ot">https://osf.io/65ga3/files/pb5nu</span><span class="co">](https://osf.io/65ga3/files/pb5nu)</span>. All data and analysis code are available on Zenodo (TODO).</span>
<span id="cb59-1089"><a href="#cb59-1089" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1090"><a href="#cb59-1090" aria-hidden="true" tabindex="-1"></a><span class="fu">## Study 1 Method</span></span>
<span id="cb59-1091"><a href="#cb59-1091" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1092"><a href="#cb59-1092" aria-hidden="true" tabindex="-1"></a>::: {.place arguments='top, scope: "parent", float: true'}</span>
<span id="cb59-1093"><a href="#cb59-1093" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1096"><a href="#cb59-1096" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-1097"><a href="#cb59-1097" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-platforms</span></span>
<span id="cb59-1098"><a href="#cb59-1098" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Create platform details table)"</span></span>
<span id="cb59-1099"><a href="#cb59-1099" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Platform Details"</span></span>
<span id="cb59-1100"><a href="#cb59-1100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1101"><a href="#cb59-1101" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb59-1102"><a href="#cb59-1102" aria-hidden="true" tabindex="-1"></a>  <span class="at">Platform =</span> <span class="fu">c</span>(</span>
<span id="cb59-1103"><a href="#cb59-1103" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Nintendo"</span>,</span>
<span id="cb59-1104"><a href="#cb59-1104" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Xbox"</span>,</span>
<span id="cb59-1105"><a href="#cb59-1105" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Steam"</span></span>
<span id="cb59-1106"><a href="#cb59-1106" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-1107"><a href="#cb59-1107" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Data Source</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb59-1108"><a href="#cb59-1108" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data-sharing agreements with Nintendo of America"</span>,</span>
<span id="cb59-1109"><a href="#cb59-1109" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data-sharing agreement with Microsoft"</span>,</span>
<span id="cb59-1110"><a href="#cb59-1110" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Custom web app (Gameplay.Science)"</span></span>
<span id="cb59-1111"><a href="#cb59-1111" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-1112"><a href="#cb59-1112" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Account Linking Process</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb59-1113"><a href="#cb59-1113" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Participants shared an identifier contained within a QR code on the Nintendo web interface. Nintendo of America uses this identifier to retrieve gameplay data and share it with the research team."</span>,</span>
<span id="cb59-1114"><a href="#cb59-1114" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Participants consented to data sharing by opting in to the study on Xbox Insiders with their Xbox account. Microsoft retrieved and shared pseudonymized gameplay data for all consented accounts."</span>,</span>
<span id="cb59-1115"><a href="#cb59-1115" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Using a web app we developed (https://gameplay.science), participants consented to have their gameplay data monitored for the duration of the study. Authentication uses the official Steam API (OpenID)."</span></span>
<span id="cb59-1116"><a href="#cb59-1116" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-1117"><a href="#cb59-1117" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Type of Data Collected</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb59-1118"><a href="#cb59-1118" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Session records (what game was played, at what time, for how long) for first-party games only (games published in whole or in part by Nintendo)."</span>,</span>
<span id="cb59-1119"><a href="#cb59-1119" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Session records (what game was played, at what time, for how long). Game titles were replaced with a random persistent identifier, but genre(s) and age ratings are shared."</span>,</span>
<span id="cb59-1120"><a href="#cb59-1120" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Hourly aggregates per game (every hour, the total time spent playing each game during the previous hour)"</span></span>
<span id="cb59-1121"><a href="#cb59-1121" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-1122"><a href="#cb59-1122" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-1123"><a href="#cb59-1123" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>(</span>
<span id="cb59-1124"><a href="#cb59-1124" aria-hidden="true" tabindex="-1"></a>    <span class="at">escape =</span> <span class="cn">TRUE</span>,</span>
<span id="cb59-1125"><a href="#cb59-1125" aria-hidden="true" tabindex="-1"></a>    <span class="at">notes =</span> <span class="fu">list</span>(</span>
<span id="cb59-1126"><a href="#cb59-1126" aria-hidden="true" tabindex="-1"></a>      <span class="st">"a"</span> <span class="ot">=</span> <span class="fu">list</span>(</span>
<span id="cb59-1127"><a href="#cb59-1127" aria-hidden="true" tabindex="-1"></a>        <span class="at">i =</span> <span class="dv">1</span>,</span>
<span id="cb59-1128"><a href="#cb59-1128" aria-hidden="true" tabindex="-1"></a>        <span class="at">j =</span> <span class="dv">3</span>,</span>
<span id="cb59-1129"><a href="#cb59-1129" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="st">"See https://accounts.nintendo.com/qrcode."</span></span>
<span id="cb59-1130"><a href="#cb59-1130" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb59-1131"><a href="#cb59-1131" aria-hidden="true" tabindex="-1"></a>      <span class="st">"b"</span> <span class="ot">=</span> <span class="fu">list</span>(</span>
<span id="cb59-1132"><a href="#cb59-1132" aria-hidden="true" tabindex="-1"></a>        <span class="at">i =</span> <span class="dv">1</span>,</span>
<span id="cb59-1133"><a href="#cb59-1133" aria-hidden="true" tabindex="-1"></a>        <span class="at">j =</span> <span class="dv">4</span>,</span>
<span id="cb59-1134"><a href="#cb59-1134" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="st">"Nintendo-published games accounted for 63% of Switch playtime in our sample."</span></span>
<span id="cb59-1135"><a href="#cb59-1135" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb59-1136"><a href="#cb59-1136" aria-hidden="true" tabindex="-1"></a>      <span class="st">"c"</span> <span class="ot">=</span> <span class="fu">list</span>(</span>
<span id="cb59-1137"><a href="#cb59-1137" aria-hidden="true" tabindex="-1"></a>        <span class="at">i =</span> <span class="dv">2</span>,</span>
<span id="cb59-1138"><a href="#cb59-1138" aria-hidden="true" tabindex="-1"></a>        <span class="at">j =</span> <span class="dv">3</span>,</span>
<span id="cb59-1139"><a href="#cb59-1139" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="st">"See https://support.xbox.com/en-US/help/account-profile/manage-account/guide-to-insider-program."</span></span>
<span id="cb59-1140"><a href="#cb59-1140" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb59-1141"><a href="#cb59-1141" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-1142"><a href="#cb59-1142" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-1143"><a href="#cb59-1143" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-1144"><a href="#cb59-1144" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">align =</span> <span class="st">"c"</span>)</span>
<span id="cb59-1145"><a href="#cb59-1145" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-1146"><a href="#cb59-1146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1147"><a href="#cb59-1147" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb59-1148"><a href="#cb59-1148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1149"><a href="#cb59-1149" aria-hidden="true" tabindex="-1"></a><span class="fu">### Design</span></span>
<span id="cb59-1150"><a href="#cb59-1150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1151"><a href="#cb59-1151" aria-hidden="true" tabindex="-1"></a>The data for this study comprise a subset of the data from the Open Play study <span class="co">[</span><span class="ot">@BallouEtAl2025Open</span><span class="co">]</span>, version 1.0.0. In the Open Play study, participants provided access to automated records of their gaming history on one or more platforms (Xbox, Steam, Nintendo Switch, Playstation, Android), and completed an intake survey followed by a 30-day daily diary study. The intake survey included demographic questions and baseline measures of wellbeing.</span>
<span id="cb59-1152"><a href="#cb59-1152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1153"><a href="#cb59-1153" aria-hidden="true" tabindex="-1"></a>Participants were recruited in collaboration with two panel providers, Prolific and PureProfile. Participants were eligible if they were aged 18 or older, resided in the United States, and played video games for at least 1 hour per week, of which 50% must take place on eligible platforms (Nintendo, Xbox, and Steam). Participants were required to link at least one gaming account from Xbox, Steam, or Nintendo Switch with recent telemetry data (iOS and Android data were collected but are not used in this analysis).</span>
<span id="cb59-1154"><a href="#cb59-1154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1155"><a href="#cb59-1155" aria-hidden="true" tabindex="-1"></a><span class="fu">### Participants</span></span>
<span id="cb59-1156"><a href="#cb59-1156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1159"><a href="#cb59-1159" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-1160"><a href="#cb59-1160" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: participants</span></span>
<span id="cb59-1161"><a href="#cb59-1161" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Calculate participant statistics and response rates)"</span></span>
<span id="cb59-1162"><a href="#cb59-1162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1163"><a href="#cb59-1163" aria-hidden="true" tabindex="-1"></a><span class="co"># Analytic sample (≥15 completions, used in imputed analyses)</span></span>
<span id="cb59-1164"><a href="#cb59-1164" aria-hidden="true" tabindex="-1"></a>analytic_pids <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span></span>
<span id="cb59-1165"><a href="#cb59-1165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(.imp <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-1166"><a href="#cb59-1166" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(pid) <span class="sc">|&gt;</span></span>
<span id="cb59-1167"><a href="#cb59-1167" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(pid)</span>
<span id="cb59-1168"><a href="#cb59-1168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1169"><a href="#cb59-1169" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare participant data with collapsed categories</span></span>
<span id="cb59-1170"><a href="#cb59-1170" aria-hidden="true" tabindex="-1"></a>participant_data <span class="ot">&lt;-</span> intake <span class="sc">|&gt;</span></span>
<span id="cb59-1171"><a href="#cb59-1171" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pid <span class="sc">%in%</span> <span class="fu">c</span>(full_eligible_pids, analytic_pids)) <span class="sc">|&gt;</span></span>
<span id="cb59-1172"><a href="#cb59-1172" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-1173"><a href="#cb59-1173" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Collapse gender to main categories</span></span>
<span id="cb59-1174"><a href="#cb59-1174" aria-hidden="true" tabindex="-1"></a>    <span class="at">gender =</span> <span class="fu">ifelse</span>(</span>
<span id="cb59-1175"><a href="#cb59-1175" aria-hidden="true" tabindex="-1"></a>      gender <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Man"</span>, <span class="st">"Woman"</span>),</span>
<span id="cb59-1176"><a href="#cb59-1176" aria-hidden="true" tabindex="-1"></a>      gender,</span>
<span id="cb59-1177"><a href="#cb59-1177" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Other gender identity"</span></span>
<span id="cb59-1178"><a href="#cb59-1178" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-1179"><a href="#cb59-1179" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Collapse ethnicity to main categories</span></span>
<span id="cb59-1180"><a href="#cb59-1180" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity_collapsed =</span> <span class="fu">case_when</span>(</span>
<span id="cb59-1181"><a href="#cb59-1181" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(ethnicity, <span class="st">"White"</span>) <span class="sc">~</span> <span class="st">"White"</span>,</span>
<span id="cb59-1182"><a href="#cb59-1182" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(</span>
<span id="cb59-1183"><a href="#cb59-1183" aria-hidden="true" tabindex="-1"></a>        ethnicity,</span>
<span id="cb59-1184"><a href="#cb59-1184" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Black|African American|African, Caribbean"</span></span>
<span id="cb59-1185"><a href="#cb59-1185" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">~</span> <span class="st">"Black/African American"</span>,</span>
<span id="cb59-1186"><a href="#cb59-1186" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(ethnicity, <span class="st">"Asian"</span>) <span class="sc">~</span> <span class="st">"Asian"</span>,</span>
<span id="cb59-1187"><a href="#cb59-1187" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(ethnicity, <span class="st">"Two or More|Mixed"</span>) <span class="sc">~</span> <span class="st">"Multiracial"</span>,</span>
<span id="cb59-1188"><a href="#cb59-1188" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(ethnicity) <span class="sc">~</span> <span class="cn">NA_character_</span>,</span>
<span id="cb59-1189"><a href="#cb59-1189" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span></span>
<span id="cb59-1190"><a href="#cb59-1190" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-1191"><a href="#cb59-1191" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Collapse education to main levels</span></span>
<span id="cb59-1192"><a href="#cb59-1192" aria-hidden="true" tabindex="-1"></a>    <span class="at">education_collapsed =</span> <span class="fu">case_when</span>(</span>
<span id="cb59-1193"><a href="#cb59-1193" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(</span>
<span id="cb59-1194"><a href="#cb59-1194" aria-hidden="true" tabindex="-1"></a>        edu_level,</span>
<span id="cb59-1195"><a href="#cb59-1195" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Less than|No formal|Primary"</span></span>
<span id="cb59-1196"><a href="#cb59-1196" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">~</span> <span class="st">"Less than high school"</span>,</span>
<span id="cb59-1197"><a href="#cb59-1197" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(</span>
<span id="cb59-1198"><a href="#cb59-1198" aria-hidden="true" tabindex="-1"></a>        edu_level,</span>
<span id="cb59-1199"><a href="#cb59-1199" aria-hidden="true" tabindex="-1"></a>        <span class="st">"High school|Secondary School|GCSE|Some college|Some University"</span></span>
<span id="cb59-1200"><a href="#cb59-1200" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">~</span> <span class="st">"High school or some college"</span>,</span>
<span id="cb59-1201"><a href="#cb59-1201" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(edu_level, <span class="st">"Associate"</span>) <span class="sc">~</span> <span class="st">"Associate degree"</span>,</span>
<span id="cb59-1202"><a href="#cb59-1202" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(</span>
<span id="cb59-1203"><a href="#cb59-1203" aria-hidden="true" tabindex="-1"></a>        edu_level,</span>
<span id="cb59-1204"><a href="#cb59-1204" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Bachelor|University Bachelors"</span></span>
<span id="cb59-1205"><a href="#cb59-1205" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">~</span> <span class="st">"Bachelor's degree"</span>,</span>
<span id="cb59-1206"><a href="#cb59-1206" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(</span>
<span id="cb59-1207"><a href="#cb59-1207" aria-hidden="true" tabindex="-1"></a>        edu_level,</span>
<span id="cb59-1208"><a href="#cb59-1208" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Master|Graduate|professional degree|doctoral|post-graduate"</span></span>
<span id="cb59-1209"><a href="#cb59-1209" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">~</span> <span class="st">"Graduate degree"</span>,</span>
<span id="cb59-1210"><a href="#cb59-1210" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(edu_level) <span class="sc">~</span> <span class="cn">NA_character_</span>,</span>
<span id="cb59-1211"><a href="#cb59-1211" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span></span>
<span id="cb59-1212"><a href="#cb59-1212" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-1213"><a href="#cb59-1213" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Assign to sample</span></span>
<span id="cb59-1214"><a href="#cb59-1214" aria-hidden="true" tabindex="-1"></a>    <span class="at">sample =</span> <span class="fu">case_when</span>(</span>
<span id="cb59-1215"><a href="#cb59-1215" aria-hidden="true" tabindex="-1"></a>      pid <span class="sc">%in%</span> analytic_pids <span class="sc">~</span> <span class="st">"Analytic sample"</span>,</span>
<span id="cb59-1216"><a href="#cb59-1216" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Full eligible sample"</span></span>
<span id="cb59-1217"><a href="#cb59-1217" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-1218"><a href="#cb59-1218" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-1219"><a href="#cb59-1219" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb59-1220"><a href="#cb59-1220" aria-hidden="true" tabindex="-1"></a>    pid,</span>
<span id="cb59-1221"><a href="#cb59-1221" aria-hidden="true" tabindex="-1"></a>    sample,</span>
<span id="cb59-1222"><a href="#cb59-1222" aria-hidden="true" tabindex="-1"></a>    age,</span>
<span id="cb59-1223"><a href="#cb59-1223" aria-hidden="true" tabindex="-1"></a>    gender,</span>
<span id="cb59-1224"><a href="#cb59-1224" aria-hidden="true" tabindex="-1"></a>    ethnicity_collapsed,</span>
<span id="cb59-1225"><a href="#cb59-1225" aria-hidden="true" tabindex="-1"></a>    education_collapsed,</span>
<span id="cb59-1226"><a href="#cb59-1226" aria-hidden="true" tabindex="-1"></a>    self_reported_weekly_play,</span>
<span id="cb59-1227"><a href="#cb59-1227" aria-hidden="true" tabindex="-1"></a>    diaries_completed</span>
<span id="cb59-1228"><a href="#cb59-1228" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-1229"><a href="#cb59-1229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1230"><a href="#cb59-1230" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample sizes for text</span></span>
<span id="cb59-1231"><a href="#cb59-1231" aria-hidden="true" tabindex="-1"></a>n_analytic <span class="ot">&lt;-</span> <span class="fu">sum</span>(participant_data<span class="sc">$</span>sample <span class="sc">==</span> <span class="st">"Analytic sample"</span>)</span>
<span id="cb59-1232"><a href="#cb59-1232" aria-hidden="true" tabindex="-1"></a>n_full <span class="ot">&lt;-</span> <span class="fu">sum</span>(participant_data<span class="sc">$</span>sample <span class="sc">==</span> <span class="st">"Full eligible sample"</span>)</span>
<span id="cb59-1233"><a href="#cb59-1233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1234"><a href="#cb59-1234" aria-hidden="true" tabindex="-1"></a><span class="co"># Gender summary for analytic sample (for text)</span></span>
<span id="cb59-1235"><a href="#cb59-1235" aria-hidden="true" tabindex="-1"></a>gender_analytic <span class="ot">&lt;-</span> participant_data <span class="sc">|&gt;</span></span>
<span id="cb59-1236"><a href="#cb59-1236" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sample <span class="sc">==</span> <span class="st">"Analytic sample"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-1237"><a href="#cb59-1237" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(gender) <span class="sc">|&gt;</span></span>
<span id="cb59-1238"><a href="#cb59-1238" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> <span class="dv">100</span> <span class="sc">*</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span>
<span id="cb59-1239"><a href="#cb59-1239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1240"><a href="#cb59-1240" aria-hidden="true" tabindex="-1"></a>pct_men <span class="ot">&lt;-</span> gender_analytic <span class="sc">|&gt;</span> <span class="fu">filter</span>(gender <span class="sc">==</span> <span class="st">"Man"</span>) <span class="sc">|&gt;</span> <span class="fu">pull</span>(pct) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb59-1241"><a href="#cb59-1241" aria-hidden="true" tabindex="-1"></a>pct_women <span class="ot">&lt;-</span> gender_analytic <span class="sc">|&gt;</span></span>
<span id="cb59-1242"><a href="#cb59-1242" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gender <span class="sc">==</span> <span class="st">"Woman"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-1243"><a href="#cb59-1243" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(pct) <span class="sc">|&gt;</span></span>
<span id="cb59-1244"><a href="#cb59-1244" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb59-1245"><a href="#cb59-1245" aria-hidden="true" tabindex="-1"></a>pct_other <span class="ot">&lt;-</span> gender_analytic <span class="sc">|&gt;</span></span>
<span id="cb59-1246"><a href="#cb59-1246" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gender <span class="sc">==</span> <span class="st">"Other gender identity"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-1247"><a href="#cb59-1247" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(pct) <span class="sc">|&gt;</span></span>
<span id="cb59-1248"><a href="#cb59-1248" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb59-1249"><a href="#cb59-1249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1250"><a href="#cb59-1250" aria-hidden="true" tabindex="-1"></a>gender_summary <span class="ot">&lt;-</span> <span class="fu">glue</span>(</span>
<span id="cb59-1251"><a href="#cb59-1251" aria-hidden="true" tabindex="-1"></a>  <span class="st">"{pct_men}% men, {pct_women}% women, {pct_other}% other gender identities"</span></span>
<span id="cb59-1252"><a href="#cb59-1252" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1253"><a href="#cb59-1253" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-1254"><a href="#cb59-1254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1257"><a href="#cb59-1257" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-1258"><a href="#cb59-1258" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-participants</span></span>
<span id="cb59-1259"><a href="#cb59-1259" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Participant characteristics by sample"</span></span>
<span id="cb59-1260"><a href="#cb59-1260" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Generate participant demographics table)"</span></span>
<span id="cb59-1261"><a href="#cb59-1261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1262"><a href="#cb59-1262" aria-hidden="true" tabindex="-1"></a><span class="co"># Build table using map</span></span>
<span id="cb59-1263"><a href="#cb59-1263" aria-hidden="true" tabindex="-1"></a>summary_table <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb59-1264"><a href="#cb59-1264" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sample sizes</span></span>
<span id="cb59-1265"><a href="#cb59-1265" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb59-1266"><a href="#cb59-1266" aria-hidden="true" tabindex="-1"></a>    <span class="at">Characteristic =</span> <span class="st">"**N**"</span>,</span>
<span id="cb59-1267"><a href="#cb59-1267" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Full sample</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.character</span>(n_full),</span>
<span id="cb59-1268"><a href="#cb59-1268" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Analytic sample</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.character</span>(n_analytic)</span>
<span id="cb59-1269"><a href="#cb59-1269" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-1270"><a href="#cb59-1270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1271"><a href="#cb59-1271" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Age</span></span>
<span id="cb59-1272"><a href="#cb59-1272" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb59-1273"><a href="#cb59-1273" aria-hidden="true" tabindex="-1"></a>    <span class="at">Characteristic =</span> <span class="st">"Age (years)"</span>,</span>
<span id="cb59-1274"><a href="#cb59-1274" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Full sample</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format_mean_sd</span>(</span>
<span id="cb59-1275"><a href="#cb59-1275" aria-hidden="true" tabindex="-1"></a>      participant_data<span class="sc">$</span>age[participant_data<span class="sc">$</span>sample <span class="sc">==</span> <span class="st">"Full eligible sample"</span>]</span>
<span id="cb59-1276"><a href="#cb59-1276" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-1277"><a href="#cb59-1277" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Analytic sample</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format_mean_sd</span>(</span>
<span id="cb59-1278"><a href="#cb59-1278" aria-hidden="true" tabindex="-1"></a>      participant_data<span class="sc">$</span>age[participant_data<span class="sc">$</span>sample <span class="sc">==</span> <span class="st">"Analytic sample"</span>]</span>
<span id="cb59-1279"><a href="#cb59-1279" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-1280"><a href="#cb59-1280" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-1281"><a href="#cb59-1281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1282"><a href="#cb59-1282" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Categorical demographics</span></span>
<span id="cb59-1283"><a href="#cb59-1283" aria-hidden="true" tabindex="-1"></a>  <span class="fu">create_categorical_section</span>(</span>
<span id="cb59-1284"><a href="#cb59-1284" aria-hidden="true" tabindex="-1"></a>    participant_data,</span>
<span id="cb59-1285"><a href="#cb59-1285" aria-hidden="true" tabindex="-1"></a>    <span class="st">"gender"</span>,</span>
<span id="cb59-1286"><a href="#cb59-1286" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Gender"</span>,</span>
<span id="cb59-1287"><a href="#cb59-1287" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"Man"</span>, <span class="st">"Woman"</span>, <span class="st">"Other gender identity"</span>)</span>
<span id="cb59-1288"><a href="#cb59-1288" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-1289"><a href="#cb59-1289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1290"><a href="#cb59-1290" aria-hidden="true" tabindex="-1"></a>  <span class="fu">create_categorical_section</span>(</span>
<span id="cb59-1291"><a href="#cb59-1291" aria-hidden="true" tabindex="-1"></a>    participant_data,</span>
<span id="cb59-1292"><a href="#cb59-1292" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ethnicity_collapsed"</span>,</span>
<span id="cb59-1293"><a href="#cb59-1293" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Ethnicity"</span>,</span>
<span id="cb59-1294"><a href="#cb59-1294" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"White"</span>, <span class="st">"Black/African American"</span>, <span class="st">"Asian"</span>, <span class="st">"Multiracial"</span>, <span class="st">"Other"</span>)</span>
<span id="cb59-1295"><a href="#cb59-1295" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-1296"><a href="#cb59-1296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1297"><a href="#cb59-1297" aria-hidden="true" tabindex="-1"></a>  <span class="fu">create_categorical_section</span>(</span>
<span id="cb59-1298"><a href="#cb59-1298" aria-hidden="true" tabindex="-1"></a>    participant_data,</span>
<span id="cb59-1299"><a href="#cb59-1299" aria-hidden="true" tabindex="-1"></a>    <span class="st">"education_collapsed"</span>,</span>
<span id="cb59-1300"><a href="#cb59-1300" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Education"</span>,</span>
<span id="cb59-1301"><a href="#cb59-1301" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(</span>
<span id="cb59-1302"><a href="#cb59-1302" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Less than high school"</span>,</span>
<span id="cb59-1303"><a href="#cb59-1303" aria-hidden="true" tabindex="-1"></a>      <span class="st">"High school or some college"</span>,</span>
<span id="cb59-1304"><a href="#cb59-1304" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Associate degree"</span>,</span>
<span id="cb59-1305"><a href="#cb59-1305" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Bachelor's degree"</span>,</span>
<span id="cb59-1306"><a href="#cb59-1306" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Graduate degree"</span></span>
<span id="cb59-1307"><a href="#cb59-1307" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-1308"><a href="#cb59-1308" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-1309"><a href="#cb59-1309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1310"><a href="#cb59-1310" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gaming behavior section</span></span>
<span id="cb59-1311"><a href="#cb59-1311" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb59-1312"><a href="#cb59-1312" aria-hidden="true" tabindex="-1"></a>    <span class="at">Characteristic =</span> <span class="st">"**Gaming behavior**"</span>,</span>
<span id="cb59-1313"><a href="#cb59-1313" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Full sample</span><span class="st">`</span> <span class="ot">=</span> <span class="st">""</span>,</span>
<span id="cb59-1314"><a href="#cb59-1314" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Analytic sample</span><span class="st">`</span> <span class="ot">=</span> <span class="st">""</span></span>
<span id="cb59-1315"><a href="#cb59-1315" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-1316"><a href="#cb59-1316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1317"><a href="#cb59-1317" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb59-1318"><a href="#cb59-1318" aria-hidden="true" tabindex="-1"></a>    <span class="at">Characteristic =</span> <span class="st">"Weekly play (hours)"</span>,</span>
<span id="cb59-1319"><a href="#cb59-1319" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Full sample</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format_mean_sd</span>(</span>
<span id="cb59-1320"><a href="#cb59-1320" aria-hidden="true" tabindex="-1"></a>      participant_data<span class="sc">$</span>self_reported_weekly_play[</span>
<span id="cb59-1321"><a href="#cb59-1321" aria-hidden="true" tabindex="-1"></a>        participant_data<span class="sc">$</span>sample <span class="sc">==</span> <span class="st">"Full eligible sample"</span></span>
<span id="cb59-1322"><a href="#cb59-1322" aria-hidden="true" tabindex="-1"></a>      ] <span class="sc">/</span></span>
<span id="cb59-1323"><a href="#cb59-1323" aria-hidden="true" tabindex="-1"></a>        <span class="dv">60</span></span>
<span id="cb59-1324"><a href="#cb59-1324" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-1325"><a href="#cb59-1325" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Analytic sample</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format_mean_sd</span>(</span>
<span id="cb59-1326"><a href="#cb59-1326" aria-hidden="true" tabindex="-1"></a>      participant_data<span class="sc">$</span>self_reported_weekly_play[</span>
<span id="cb59-1327"><a href="#cb59-1327" aria-hidden="true" tabindex="-1"></a>        participant_data<span class="sc">$</span>sample <span class="sc">==</span> <span class="st">"Analytic sample"</span></span>
<span id="cb59-1328"><a href="#cb59-1328" aria-hidden="true" tabindex="-1"></a>      ] <span class="sc">/</span></span>
<span id="cb59-1329"><a href="#cb59-1329" aria-hidden="true" tabindex="-1"></a>        <span class="dv">60</span></span>
<span id="cb59-1330"><a href="#cb59-1330" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-1331"><a href="#cb59-1331" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-1332"><a href="#cb59-1332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1333"><a href="#cb59-1333" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Study engagement section</span></span>
<span id="cb59-1334"><a href="#cb59-1334" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb59-1335"><a href="#cb59-1335" aria-hidden="true" tabindex="-1"></a>    <span class="at">Characteristic =</span> <span class="st">"**Study engagement**"</span>,</span>
<span id="cb59-1336"><a href="#cb59-1336" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Full sample</span><span class="st">`</span> <span class="ot">=</span> <span class="st">""</span>,</span>
<span id="cb59-1337"><a href="#cb59-1337" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Analytic sample</span><span class="st">`</span> <span class="ot">=</span> <span class="st">""</span></span>
<span id="cb59-1338"><a href="#cb59-1338" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-1339"><a href="#cb59-1339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1340"><a href="#cb59-1340" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb59-1341"><a href="#cb59-1341" aria-hidden="true" tabindex="-1"></a>    <span class="at">Characteristic =</span> <span class="st">"Surveys completed"</span>,</span>
<span id="cb59-1342"><a href="#cb59-1342" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Full sample</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format_mean_sd</span>(</span>
<span id="cb59-1343"><a href="#cb59-1343" aria-hidden="true" tabindex="-1"></a>      participant_data<span class="sc">$</span>diaries_completed[</span>
<span id="cb59-1344"><a href="#cb59-1344" aria-hidden="true" tabindex="-1"></a>        participant_data<span class="sc">$</span>sample <span class="sc">==</span> <span class="st">"Full eligible sample"</span></span>
<span id="cb59-1345"><a href="#cb59-1345" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb59-1346"><a href="#cb59-1346" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-1347"><a href="#cb59-1347" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Analytic sample</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">format_mean_sd</span>(</span>
<span id="cb59-1348"><a href="#cb59-1348" aria-hidden="true" tabindex="-1"></a>      participant_data<span class="sc">$</span>diaries_completed[</span>
<span id="cb59-1349"><a href="#cb59-1349" aria-hidden="true" tabindex="-1"></a>        participant_data<span class="sc">$</span>sample <span class="sc">==</span> <span class="st">"Analytic sample"</span></span>
<span id="cb59-1350"><a href="#cb59-1350" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb59-1351"><a href="#cb59-1351" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-1352"><a href="#cb59-1352" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-1353"><a href="#cb59-1353" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1354"><a href="#cb59-1354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1355"><a href="#cb59-1355" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify rows for styling</span></span>
<span id="cb59-1356"><a href="#cb59-1356" aria-hidden="true" tabindex="-1"></a>header_rows <span class="ot">&lt;-</span> <span class="fu">which</span>(</span>
<span id="cb59-1357"><a href="#cb59-1357" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_detect</span>(summary_table<span class="sc">$</span>Characteristic, <span class="st">"^</span><span class="sc">\\</span><span class="st">*</span><span class="sc">\\</span><span class="st">*"</span>) <span class="sc">|</span></span>
<span id="cb59-1358"><a href="#cb59-1358" aria-hidden="true" tabindex="-1"></a>    (summary_table<span class="sc">$</span><span class="st">`</span><span class="at">Full sample</span><span class="st">`</span> <span class="sc">==</span> <span class="st">""</span> <span class="sc">&amp;</span> summary_table<span class="sc">$</span><span class="st">`</span><span class="at">Analytic sample</span><span class="st">`</span> <span class="sc">==</span> <span class="st">""</span>)</span>
<span id="cb59-1359"><a href="#cb59-1359" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1360"><a href="#cb59-1360" aria-hidden="true" tabindex="-1"></a>indent_rows <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">str_detect</span>(summary_table<span class="sc">$</span>Characteristic, <span class="st">"^    "</span>))</span>
<span id="cb59-1361"><a href="#cb59-1361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1362"><a href="#cb59-1362" aria-hidden="true" tabindex="-1"></a><span class="co"># Create table</span></span>
<span id="cb59-1363"><a href="#cb59-1363" aria-hidden="true" tabindex="-1"></a>summary_table <span class="sc">|&gt;</span></span>
<span id="cb59-1364"><a href="#cb59-1364" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>(</span>
<span id="cb59-1365"><a href="#cb59-1365" aria-hidden="true" tabindex="-1"></a>    <span class="at">notes =</span> <span class="st">"Values are M (SD) or N (%). Ethnicity and education categories collapsed to main levels for clarity."</span></span>
<span id="cb59-1366"><a href="#cb59-1366" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-1367"><a href="#cb59-1367" aria-hidden="true" tabindex="-1"></a>  <span class="fu">format_tt</span>(<span class="at">j =</span> <span class="dv">1</span>, <span class="at">markdown =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-1368"><a href="#cb59-1368" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> header_rows, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-1369"><a href="#cb59-1369" aria-hidden="true" tabindex="-1"></a>  <span class="fu">format_tt</span>(<span class="at">i =</span> header_rows, <span class="at">j =</span> <span class="dv">1</span>, <span class="at">fn =</span> <span class="cf">function</span>(x) {</span>
<span id="cb59-1370"><a href="#cb59-1370" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_remove_all</span>(x, <span class="st">"</span><span class="sc">\\</span><span class="st">*</span><span class="sc">\\</span><span class="st">*"</span>)</span>
<span id="cb59-1371"><a href="#cb59-1371" aria-hidden="true" tabindex="-1"></a>  }) <span class="sc">|&gt;</span></span>
<span id="cb59-1372"><a href="#cb59-1372" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> indent_rows, <span class="at">j =</span> <span class="dv">1</span>, <span class="at">indent =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-1373"><a href="#cb59-1373" aria-hidden="true" tabindex="-1"></a>  <span class="fu">format_tt</span>(<span class="at">i =</span> indent_rows, <span class="at">j =</span> <span class="dv">1</span>, <span class="at">fn =</span> <span class="cf">function</span>(x) <span class="fu">str_trim</span>(x)) <span class="sc">|&gt;</span></span>
<span id="cb59-1374"><a href="#cb59-1374" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-1375"><a href="#cb59-1375" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-1376"><a href="#cb59-1376" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-1377"><a href="#cb59-1377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1378"><a href="#cb59-1378" aria-hidden="true" tabindex="-1"></a>The analytic sample included <span class="in">`r n_analytic`</span> participants (<span class="in">`r gender_summary`</span>) who completed at least 15 daily surveys and were included in the main imputed analyses. The full eligible sample comprised <span class="in">`r n_full`</span> participants who completed at least 1 survey and were included in complete case sensitivity analyses.</span>
<span id="cb59-1379"><a href="#cb59-1379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1380"><a href="#cb59-1380" aria-hidden="true" tabindex="-1"></a>::: {.place arguments='top, scope: "parent", float: true'}</span>
<span id="cb59-1381"><a href="#cb59-1381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1384"><a href="#cb59-1384" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-1385"><a href="#cb59-1385" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-descriptives</span></span>
<span id="cb59-1386"><a href="#cb59-1386" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Descriptive statistics for key variables. (A) Distributions of need satisfaction and frustration variables. (B) Variance decomposition showing proportion of variance at within-person vs between-person levels. (C) Play volume by hour of day (local time). (D) Proportion of play on each platform across study days 1-30."</span></span>
<span id="cb59-1387"><a href="#cb59-1387" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Create main descriptive figure)"</span></span>
<span id="cb59-1388"><a href="#cb59-1388" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 8</span></span>
<span id="cb59-1389"><a href="#cb59-1389" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 12</span></span>
<span id="cb59-1390"><a href="#cb59-1390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1391"><a href="#cb59-1391" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel A: Density ridges for key variables</span></span>
<span id="cb59-1392"><a href="#cb59-1392" aria-hidden="true" tabindex="-1"></a>dat_desc <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb59-1393"><a href="#cb59-1393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1394"><a href="#cb59-1394" aria-hidden="true" tabindex="-1"></a>panel_a <span class="ot">&lt;-</span> dat_desc <span class="sc">|&gt;</span></span>
<span id="cb59-1395"><a href="#cb59-1395" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(global_ns, global_nf, game_ns) <span class="sc">|&gt;</span></span>
<span id="cb59-1396"><a href="#cb59-1396" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">"variable"</span>, <span class="at">values_to =</span> <span class="st">"value"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-1397"><a href="#cb59-1397" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-1398"><a href="#cb59-1398" aria-hidden="true" tabindex="-1"></a>    <span class="at">variable =</span> <span class="fu">factor</span>(</span>
<span id="cb59-1399"><a href="#cb59-1399" aria-hidden="true" tabindex="-1"></a>      variable,</span>
<span id="cb59-1400"><a href="#cb59-1400" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"game_ns"</span>, <span class="st">"global_ns"</span>, <span class="st">"global_nf"</span>),</span>
<span id="cb59-1401"><a href="#cb59-1401" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">c</span>(</span>
<span id="cb59-1402"><a href="#cb59-1402" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sub</span>(<span class="st">" "</span>, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, labels[<span class="st">"game_ns"</span>]),</span>
<span id="cb59-1403"><a href="#cb59-1403" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sub</span>(<span class="st">" "</span>, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, labels[<span class="st">"global_ns"</span>]),</span>
<span id="cb59-1404"><a href="#cb59-1404" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sub</span>(<span class="st">" "</span>, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, labels[<span class="st">"global_nf"</span>])</span>
<span id="cb59-1405"><a href="#cb59-1405" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb59-1406"><a href="#cb59-1406" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-1407"><a href="#cb59-1407" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-1408"><a href="#cb59-1408" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> variable, <span class="at">fill =</span> variable)) <span class="sc">+</span></span>
<span id="cb59-1409"><a href="#cb59-1409" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">scale =</span> <span class="fl">0.9</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb59-1410"><a href="#cb59-1410" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb59-1411"><a href="#cb59-1411" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb59-1412"><a href="#cb59-1412" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Game need</span><span class="sc">\n</span><span class="st">satisfaction"</span> <span class="ot">=</span> colors<span class="sc">$</span>game_ns,</span>
<span id="cb59-1413"><a href="#cb59-1413" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Global need</span><span class="sc">\n</span><span class="st">satisfaction"</span> <span class="ot">=</span> colors<span class="sc">$</span>global_ns,</span>
<span id="cb59-1414"><a href="#cb59-1414" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Global need</span><span class="sc">\n</span><span class="st">frustration"</span> <span class="ot">=</span> colors<span class="sc">$</span>global_nf</span>
<span id="cb59-1415"><a href="#cb59-1415" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-1416"><a href="#cb59-1416" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-1417"><a href="#cb59-1417" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Scale Value"</span>, <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb59-1418"><a href="#cb59-1418" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb59-1419"><a href="#cb59-1419" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb59-1420"><a href="#cb59-1420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1421"><a href="#cb59-1421" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel B: Variance decomposition</span></span>
<span id="cb59-1422"><a href="#cb59-1422" aria-hidden="true" tabindex="-1"></a>panel_b <span class="ot">&lt;-</span> dat_desc <span class="sc">|&gt;</span></span>
<span id="cb59-1423"><a href="#cb59-1423" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pid, global_ns, global_nf, game_ns) <span class="sc">|&gt;</span></span>
<span id="cb59-1424"><a href="#cb59-1424" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb59-1425"><a href="#cb59-1425" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(global_ns, global_nf, game_ns),</span>
<span id="cb59-1426"><a href="#cb59-1426" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"variable"</span>,</span>
<span id="cb59-1427"><a href="#cb59-1427" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"value"</span></span>
<span id="cb59-1428"><a href="#cb59-1428" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-1429"><a href="#cb59-1429" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(variable) <span class="sc">|&gt;</span></span>
<span id="cb59-1430"><a href="#cb59-1430" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb59-1431"><a href="#cb59-1431" aria-hidden="true" tabindex="-1"></a>    <span class="at">var_total =</span> <span class="fu">var</span>(value, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-1432"><a href="#cb59-1432" aria-hidden="true" tabindex="-1"></a>    <span class="at">var_between =</span> <span class="fu">var</span>(<span class="fu">tapply</span>(value, pid, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-1433"><a href="#cb59-1433" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb59-1434"><a href="#cb59-1434" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-1435"><a href="#cb59-1435" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-1436"><a href="#cb59-1436" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_between =</span> <span class="dv">100</span> <span class="sc">*</span> var_between <span class="sc">/</span> var_total,</span>
<span id="cb59-1437"><a href="#cb59-1437" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_within =</span> <span class="dv">100</span> <span class="sc">*</span> (var_total <span class="sc">-</span> var_between) <span class="sc">/</span> var_total,</span>
<span id="cb59-1438"><a href="#cb59-1438" aria-hidden="true" tabindex="-1"></a>    <span class="at">variable =</span> <span class="fu">factor</span>(</span>
<span id="cb59-1439"><a href="#cb59-1439" aria-hidden="true" tabindex="-1"></a>      variable,</span>
<span id="cb59-1440"><a href="#cb59-1440" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"game_ns"</span>, <span class="st">"global_ns"</span>, <span class="st">"global_nf"</span>),</span>
<span id="cb59-1441"><a href="#cb59-1441" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">c</span>(</span>
<span id="cb59-1442"><a href="#cb59-1442" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sub</span>(<span class="st">" "</span>, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, labels[<span class="st">"game_ns"</span>]),</span>
<span id="cb59-1443"><a href="#cb59-1443" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sub</span>(<span class="st">" "</span>, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, labels[<span class="st">"global_ns"</span>]),</span>
<span id="cb59-1444"><a href="#cb59-1444" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sub</span>(<span class="st">" "</span>, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, labels[<span class="st">"global_nf"</span>])</span>
<span id="cb59-1445"><a href="#cb59-1445" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb59-1446"><a href="#cb59-1446" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-1447"><a href="#cb59-1447" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-1448"><a href="#cb59-1448" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb59-1449"><a href="#cb59-1449" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(pct_within, pct_between),</span>
<span id="cb59-1450"><a href="#cb59-1450" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"component"</span>,</span>
<span id="cb59-1451"><a href="#cb59-1451" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"percentage"</span></span>
<span id="cb59-1452"><a href="#cb59-1452" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-1453"><a href="#cb59-1453" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-1454"><a href="#cb59-1454" aria-hidden="true" tabindex="-1"></a>    <span class="at">component =</span> <span class="fu">factor</span>(</span>
<span id="cb59-1455"><a href="#cb59-1455" aria-hidden="true" tabindex="-1"></a>      component,</span>
<span id="cb59-1456"><a href="#cb59-1456" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"pct_between"</span>, <span class="st">"pct_within"</span>),</span>
<span id="cb59-1457"><a href="#cb59-1457" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">c</span>(labels[<span class="st">"Between-person"</span>], labels[<span class="st">"Within-person"</span>])</span>
<span id="cb59-1458"><a href="#cb59-1458" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-1459"><a href="#cb59-1459" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-1460"><a href="#cb59-1460" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> variable, <span class="at">y =</span> percentage, <span class="at">fill =</span> component)) <span class="sc">+</span></span>
<span id="cb59-1461"><a href="#cb59-1461" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb59-1462"><a href="#cb59-1462" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb59-1463"><a href="#cb59-1463" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb59-1464"><a href="#cb59-1464" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Between-person"</span> <span class="ot">=</span> colors<span class="sc">$</span>between,</span>
<span id="cb59-1465"><a href="#cb59-1465" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Within-person"</span> <span class="ot">=</span> colors<span class="sc">$</span>within</span>
<span id="cb59-1466"><a href="#cb59-1466" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-1467"><a href="#cb59-1467" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-1468"><a href="#cb59-1468" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">"Percentage of Variance"</span>, <span class="at">fill =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb59-1469"><a href="#cb59-1469" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb59-1470"><a href="#cb59-1470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1471"><a href="#cb59-1471" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel C: Hour of day patterns</span></span>
<span id="cb59-1472"><a href="#cb59-1472" aria-hidden="true" tabindex="-1"></a>panel_c <span class="ot">&lt;-</span> hourly_telemetry <span class="sc">|&gt;</span></span>
<span id="cb59-1473"><a href="#cb59-1473" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pid <span class="sc">%in%</span> <span class="fu">unique</span>(dat_desc<span class="sc">$</span>pid)) <span class="sc">|&gt;</span></span>
<span id="cb59-1474"><a href="#cb59-1474" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">hour =</span> <span class="fu">hour</span>(hour_start_local)) <span class="sc">|&gt;</span></span>
<span id="cb59-1475"><a href="#cb59-1475" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, hour) <span class="sc">|&gt;</span></span>
<span id="cb59-1476"><a href="#cb59-1476" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_minutes =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-1477"><a href="#cb59-1477" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hour) <span class="sc">|&gt;</span></span>
<span id="cb59-1478"><a href="#cb59-1478" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb59-1479"><a href="#cb59-1479" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_minutes =</span> <span class="fu">mean</span>(total_minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-1480"><a href="#cb59-1480" aria-hidden="true" tabindex="-1"></a>    <span class="at">se =</span> <span class="fu">sd</span>(total_minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="fu">n</span>()),</span>
<span id="cb59-1481"><a href="#cb59-1481" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb59-1482"><a href="#cb59-1482" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-1483"><a href="#cb59-1483" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> hour, <span class="at">y =</span> mean_minutes)) <span class="sc">+</span></span>
<span id="cb59-1484"><a href="#cb59-1484" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(</span>
<span id="cb59-1485"><a href="#cb59-1485" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> mean_minutes <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> se, <span class="at">ymax =</span> mean_minutes <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> se),</span>
<span id="cb59-1486"><a href="#cb59-1486" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> colors<span class="sc">$</span>global_nf,</span>
<span id="cb59-1487"><a href="#cb59-1487" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.2</span></span>
<span id="cb59-1488"><a href="#cb59-1488" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-1489"><a href="#cb59-1489" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> colors<span class="sc">$</span>global_nf, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb59-1490"><a href="#cb59-1490" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> colors<span class="sc">$</span>global_nf, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb59-1491"><a href="#cb59-1491" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Hour of Day"</span>, <span class="at">y =</span> <span class="st">"Mean Play</span><span class="sc">\n</span><span class="st">(minutes)"</span>) <span class="sc">+</span></span>
<span id="cb59-1492"><a href="#cb59-1492" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">23</span>, <span class="dv">3</span>))</span>
<span id="cb59-1493"><a href="#cb59-1493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1494"><a href="#cb59-1494" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel D: Platform usage over study days</span></span>
<span id="cb59-1495"><a href="#cb59-1495" aria-hidden="true" tabindex="-1"></a>panel_d <span class="ot">&lt;-</span> daily_telemetry <span class="sc">|&gt;</span></span>
<span id="cb59-1496"><a href="#cb59-1496" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">day_local_date =</span> <span class="fu">as.Date</span>(day_local)) <span class="sc">|&gt;</span></span>
<span id="cb59-1497"><a href="#cb59-1497" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(</span>
<span id="cb59-1498"><a href="#cb59-1498" aria-hidden="true" tabindex="-1"></a>    dat_desc <span class="sc">|&gt;</span></span>
<span id="cb59-1499"><a href="#cb59-1499" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(pid, date, wave) <span class="sc">|&gt;</span></span>
<span id="cb59-1500"><a href="#cb59-1500" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb59-1501"><a href="#cb59-1501" aria-hidden="true" tabindex="-1"></a>        <span class="at">date_only =</span> <span class="fu">as.Date</span>(date),</span>
<span id="cb59-1502"><a href="#cb59-1502" aria-hidden="true" tabindex="-1"></a>        <span class="at">wave_num =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(wave))</span>
<span id="cb59-1503"><a href="#cb59-1503" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb59-1504"><a href="#cb59-1504" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(wave_num <span class="sc">&lt;=</span> <span class="dv">30</span>),</span>
<span id="cb59-1505"><a href="#cb59-1505" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"day_local_date"</span> <span class="ot">=</span> <span class="st">"date_only"</span>),</span>
<span id="cb59-1506"><a href="#cb59-1506" aria-hidden="true" tabindex="-1"></a>    <span class="at">relationship =</span> <span class="st">"many-to-many"</span></span>
<span id="cb59-1507"><a href="#cb59-1507" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-1508"><a href="#cb59-1508" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(minutes <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-1509"><a href="#cb59-1509" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-1510"><a href="#cb59-1510" aria-hidden="true" tabindex="-1"></a>    <span class="at">platform =</span> <span class="fu">case_when</span>(</span>
<span id="cb59-1511"><a href="#cb59-1511" aria-hidden="true" tabindex="-1"></a>      platform <span class="sc">==</span> <span class="st">"nintendo"</span> <span class="sc">~</span> <span class="st">"Nintendo"</span>,</span>
<span id="cb59-1512"><a href="#cb59-1512" aria-hidden="true" tabindex="-1"></a>      platform <span class="sc">==</span> <span class="st">"xbox"</span> <span class="sc">~</span> <span class="st">"Xbox"</span>,</span>
<span id="cb59-1513"><a href="#cb59-1513" aria-hidden="true" tabindex="-1"></a>      platform <span class="sc">==</span> <span class="st">"steam"</span> <span class="sc">~</span> <span class="st">"Steam"</span>,</span>
<span id="cb59-1514"><a href="#cb59-1514" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> platform</span>
<span id="cb59-1515"><a href="#cb59-1515" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-1516"><a href="#cb59-1516" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-1517"><a href="#cb59-1517" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(wave_num, platform) <span class="sc">|&gt;</span></span>
<span id="cb59-1518"><a href="#cb59-1518" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_minutes =</span> <span class="fu">sum</span>(minutes), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-1519"><a href="#cb59-1519" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(wave_num) <span class="sc">|&gt;</span></span>
<span id="cb59-1520"><a href="#cb59-1520" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> total_minutes <span class="sc">/</span> <span class="fu">sum</span>(total_minutes)) <span class="sc">|&gt;</span></span>
<span id="cb59-1521"><a href="#cb59-1521" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> wave_num, <span class="at">y =</span> proportion, <span class="at">fill =</span> platform)) <span class="sc">+</span></span>
<span id="cb59-1522"><a href="#cb59-1522" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb59-1523"><a href="#cb59-1523" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb59-1524"><a href="#cb59-1524" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb59-1525"><a href="#cb59-1525" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Nintendo"</span> <span class="ot">=</span> colors<span class="sc">$</span>nintendo,</span>
<span id="cb59-1526"><a href="#cb59-1526" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Xbox"</span> <span class="ot">=</span> colors<span class="sc">$</span>xbox,</span>
<span id="cb59-1527"><a href="#cb59-1527" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Steam"</span> <span class="ot">=</span> colors<span class="sc">$</span>steam</span>
<span id="cb59-1528"><a href="#cb59-1528" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-1529"><a href="#cb59-1529" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-1530"><a href="#cb59-1530" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Study Day"</span>, <span class="at">y =</span> <span class="st">"Proportion of Play"</span>, <span class="at">fill =</span> <span class="st">"Platform"</span>) <span class="sc">+</span></span>
<span id="cb59-1531"><a href="#cb59-1531" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">30</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb59-1532"><a href="#cb59-1532" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb59-1533"><a href="#cb59-1533" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb59-1534"><a href="#cb59-1534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1535"><a href="#cb59-1535" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine panels: top row with 3 panels, bottom row with full-width panel</span></span>
<span id="cb59-1536"><a href="#cb59-1536" aria-hidden="true" tabindex="-1"></a>((panel_a <span class="sc">|</span> panel_b <span class="sc">|</span> panel_c) <span class="sc">/</span> panel_d) <span class="sc">+</span></span>
<span id="cb59-1537"><a href="#cb59-1537" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">"A"</span>) <span class="sc">&amp;</span></span>
<span id="cb59-1538"><a href="#cb59-1538" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb59-1539"><a href="#cb59-1539" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb59-1540"><a href="#cb59-1540" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="cn">NA</span>)</span>
<span id="cb59-1541"><a href="#cb59-1541" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-1542"><a href="#cb59-1542" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-1543"><a href="#cb59-1543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1544"><a href="#cb59-1544" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb59-1545"><a href="#cb59-1545" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1546"><a href="#cb59-1546" aria-hidden="true" tabindex="-1"></a><span class="fu">### Measures</span></span>
<span id="cb59-1547"><a href="#cb59-1547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1550"><a href="#cb59-1550" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-1551"><a href="#cb59-1551" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: psychometrics</span></span>
<span id="cb59-1552"><a href="#cb59-1552" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Calculate reliability for all scales)"</span></span>
<span id="cb59-1553"><a href="#cb59-1553" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-1554"><a href="#cb59-1554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1555"><a href="#cb59-1555" aria-hidden="true" tabindex="-1"></a>omega_global_ns <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb59-1556"><a href="#cb59-1556" aria-hidden="true" tabindex="-1"></a>  <span class="fu">omega</span>(</span>
<span id="cb59-1557"><a href="#cb59-1557" aria-hidden="true" tabindex="-1"></a>    surveys <span class="sc">|&gt;</span> <span class="fu">select</span>(bpnsfs_1, bpnsfs_3, bpnsfs_5),</span>
<span id="cb59-1558"><a href="#cb59-1558" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot =</span> <span class="cn">FALSE</span></span>
<span id="cb59-1559"><a href="#cb59-1559" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">$</span>omega.tot,</span>
<span id="cb59-1560"><a href="#cb59-1560" aria-hidden="true" tabindex="-1"></a>  .<span class="dv">01</span></span>
<span id="cb59-1561"><a href="#cb59-1561" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1562"><a href="#cb59-1562" aria-hidden="true" tabindex="-1"></a>omega_global_nf <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb59-1563"><a href="#cb59-1563" aria-hidden="true" tabindex="-1"></a>  <span class="fu">omega</span>(</span>
<span id="cb59-1564"><a href="#cb59-1564" aria-hidden="true" tabindex="-1"></a>    surveys <span class="sc">|&gt;</span> <span class="fu">select</span>(bpnsfs_2, bpnsfs_4, bpnsfs_6),</span>
<span id="cb59-1565"><a href="#cb59-1565" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot =</span> <span class="cn">FALSE</span></span>
<span id="cb59-1566"><a href="#cb59-1566" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">$</span>omega.tot,</span>
<span id="cb59-1567"><a href="#cb59-1567" aria-hidden="true" tabindex="-1"></a>  .<span class="dv">01</span></span>
<span id="cb59-1568"><a href="#cb59-1568" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1569"><a href="#cb59-1569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1570"><a href="#cb59-1570" aria-hidden="true" tabindex="-1"></a>omega_game_ns <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb59-1571"><a href="#cb59-1571" aria-hidden="true" tabindex="-1"></a>  <span class="fu">omega</span>(</span>
<span id="cb59-1572"><a href="#cb59-1572" aria-hidden="true" tabindex="-1"></a>    surveys <span class="sc">|&gt;</span> <span class="fu">select</span>(bangs_1, bangs_3, bangs_5),</span>
<span id="cb59-1573"><a href="#cb59-1573" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot =</span> <span class="cn">FALSE</span></span>
<span id="cb59-1574"><a href="#cb59-1574" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">$</span>omega.tot,</span>
<span id="cb59-1575"><a href="#cb59-1575" aria-hidden="true" tabindex="-1"></a>  .<span class="dv">01</span></span>
<span id="cb59-1576"><a href="#cb59-1576" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1577"><a href="#cb59-1577" aria-hidden="true" tabindex="-1"></a>omega_game_nf <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb59-1578"><a href="#cb59-1578" aria-hidden="true" tabindex="-1"></a>  <span class="fu">omega</span>(</span>
<span id="cb59-1579"><a href="#cb59-1579" aria-hidden="true" tabindex="-1"></a>    surveys <span class="sc">|&gt;</span> <span class="fu">select</span>(bangs_2, bangs_4, bangs_6),</span>
<span id="cb59-1580"><a href="#cb59-1580" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot =</span> <span class="cn">FALSE</span></span>
<span id="cb59-1581"><a href="#cb59-1581" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">$</span>omega.tot,</span>
<span id="cb59-1582"><a href="#cb59-1582" aria-hidden="true" tabindex="-1"></a>  .<span class="dv">01</span></span>
<span id="cb59-1583"><a href="#cb59-1583" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1584"><a href="#cb59-1584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1585"><a href="#cb59-1585" aria-hidden="true" tabindex="-1"></a><span class="co"># proportion of surveys with subsequent play</span></span>
<span id="cb59-1586"><a href="#cb59-1586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1587"><a href="#cb59-1587" aria-hidden="true" tabindex="-1"></a>prop_subsequent_play <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb59-1588"><a href="#cb59-1588" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>(surveys[surveys<span class="sc">$</span>telemetry_played_any_24h, ]) <span class="sc">/</span> <span class="fu">nrow</span>(surveys) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb59-1589"><a href="#cb59-1589" aria-hidden="true" tabindex="-1"></a>  .<span class="dv">1</span></span>
<span id="cb59-1590"><a href="#cb59-1590" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1591"><a href="#cb59-1591" aria-hidden="true" tabindex="-1"></a>minutes_subsequent_play <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb59-1592"><a href="#cb59-1592" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>(surveys<span class="sc">$</span>play_minutes_24h, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-1593"><a href="#cb59-1593" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span></span>
<span id="cb59-1594"><a href="#cb59-1594" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1595"><a href="#cb59-1595" aria-hidden="true" tabindex="-1"></a>sd_minutes_subsequent_play <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb59-1596"><a href="#cb59-1596" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sd</span>(surveys<span class="sc">$</span>play_minutes_24h, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-1597"><a href="#cb59-1597" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span></span>
<span id="cb59-1598"><a href="#cb59-1598" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1599"><a href="#cb59-1599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1600"><a href="#cb59-1600" aria-hidden="true" tabindex="-1"></a><span class="co"># total hours per platform during 30-day study period</span></span>
<span id="cb59-1601"><a href="#cb59-1601" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1602"><a href="#cb59-1602" aria-hidden="true" tabindex="-1"></a>platform_hours <span class="ot">&lt;-</span> daily_telemetry <span class="sc">|&gt;</span></span>
<span id="cb59-1603"><a href="#cb59-1603" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">day_local_date =</span> <span class="fu">as.Date</span>(day_local)) <span class="sc">|&gt;</span></span>
<span id="cb59-1604"><a href="#cb59-1604" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(</span>
<span id="cb59-1605"><a href="#cb59-1605" aria-hidden="true" tabindex="-1"></a>    surveys <span class="sc">|&gt;</span></span>
<span id="cb59-1606"><a href="#cb59-1606" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(pid, date, wave) <span class="sc">|&gt;</span></span>
<span id="cb59-1607"><a href="#cb59-1607" aria-hidden="true" tabindex="-1"></a>      <span class="fu">distinct</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-1608"><a href="#cb59-1608" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb59-1609"><a href="#cb59-1609" aria-hidden="true" tabindex="-1"></a>        <span class="at">date_only =</span> <span class="fu">as.Date</span>(date),</span>
<span id="cb59-1610"><a href="#cb59-1610" aria-hidden="true" tabindex="-1"></a>        <span class="at">wave_num =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(wave))</span>
<span id="cb59-1611"><a href="#cb59-1611" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb59-1612"><a href="#cb59-1612" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(wave_num <span class="sc">&lt;=</span> <span class="dv">30</span>),</span>
<span id="cb59-1613"><a href="#cb59-1613" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"day_local_date"</span> <span class="ot">=</span> <span class="st">"date_only"</span>),</span>
<span id="cb59-1614"><a href="#cb59-1614" aria-hidden="true" tabindex="-1"></a>    <span class="at">relationship =</span> <span class="st">"many-to-many"</span></span>
<span id="cb59-1615"><a href="#cb59-1615" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-1616"><a href="#cb59-1616" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(platform) <span class="sc">|&gt;</span></span>
<span id="cb59-1617"><a href="#cb59-1617" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_hours =</span> <span class="fu">sum</span>(minutes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> <span class="dv">60</span>, <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb59-1618"><a href="#cb59-1618" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1619"><a href="#cb59-1619" aria-hidden="true" tabindex="-1"></a>hours_nintendo <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb59-1620"><a href="#cb59-1620" aria-hidden="true" tabindex="-1"></a>  platform_hours <span class="sc">|&gt;</span> <span class="fu">filter</span>(platform <span class="sc">==</span> <span class="st">"nintendo"</span>) <span class="sc">|&gt;</span> <span class="fu">pull</span>(total_hours),</span>
<span id="cb59-1621"><a href="#cb59-1621" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span></span>
<span id="cb59-1622"><a href="#cb59-1622" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1623"><a href="#cb59-1623" aria-hidden="true" tabindex="-1"></a>hours_xbox <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb59-1624"><a href="#cb59-1624" aria-hidden="true" tabindex="-1"></a>  platform_hours <span class="sc">|&gt;</span> <span class="fu">filter</span>(platform <span class="sc">==</span> <span class="st">"xbox"</span>) <span class="sc">|&gt;</span> <span class="fu">pull</span>(total_hours),</span>
<span id="cb59-1625"><a href="#cb59-1625" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span></span>
<span id="cb59-1626"><a href="#cb59-1626" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1627"><a href="#cb59-1627" aria-hidden="true" tabindex="-1"></a>hours_steam <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb59-1628"><a href="#cb59-1628" aria-hidden="true" tabindex="-1"></a>  platform_hours <span class="sc">|&gt;</span> <span class="fu">filter</span>(platform <span class="sc">==</span> <span class="st">"steam"</span>) <span class="sc">|&gt;</span> <span class="fu">pull</span>(total_hours),</span>
<span id="cb59-1629"><a href="#cb59-1629" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span></span>
<span id="cb59-1630"><a href="#cb59-1630" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1631"><a href="#cb59-1631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1632"><a href="#cb59-1632" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-1633"><a href="#cb59-1633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1634"><a href="#cb59-1634" aria-hidden="true" tabindex="-1"></a>The measures used in this paper are visualized in @fig-descriptives and detailed below. For other measures in the Open Play study not used here, we refer readers to the Open Play codebook available on GitHub <span class="co">[</span><span class="ot">https://digital-wellbeing.github.io/open-play/#codebook</span><span class="co">](https://digital-wellbeing.github.io/open-play/#codebook)</span>. </span>
<span id="cb59-1635"><a href="#cb59-1635" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1636"><a href="#cb59-1636" aria-hidden="true" tabindex="-1"></a>*Need satisfaction in games*. We measured need satisfaction and frustration in games during the most recent gaming session using 3 items from an abbreviated version of the Basic Psychological Need Satisfaction in Gaming Scale (BANGS; @BallouDeterding2024Basic). The BANGS assesses autonomy, competence, and relatedness need satisfaction with three items for each need; we selected the highest-loading item for each need for our brief daily measure. Participants rated each item on a Likert scale from 1 (Strongly disagree) to 7 (Strongly agree). We calculated mean scores for need satisfaction by averaging all three items. The reliability of the composite need satisfaction index is <span class="in">`r omega_game_ns`</span>, and <span class="in">`r omega_game_nf`</span> for need frustration. As needs are conceptually distinct, we expect lower reliability for this composite index than for unidimensional scales.</span>
<span id="cb59-1637"><a href="#cb59-1637" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1638"><a href="#cb59-1638" aria-hidden="true" tabindex="-1"></a>*Need satisfaction and frustration in daily life*. We measured need satisfaction and frustration in daily life ("global need satisfaction and frustration") during the previous 24 hours using the brief version of the Basic Psychological Need Satisfaction and Frustration Scale <span class="co">[</span><span class="ot">@ChenEtAl2015Basic; @MartelaRyan2024Assessing</span><span class="co">]</span>. This scale includes 6 items, with one item for need satisfaction and one item for need frustration for each of the three needs. Participants rated each item on a Likert scale from 1 (Strongly disagree) to 7 (Strongly agree). We calculated mean scores for need satisfaction and need frustration by averaging the relevant items. The reliability of the composite need satisfaction index is <span class="in">`r omega_global_ns`</span>, and <span class="in">`r omega_global_nf`</span> for need frustration. As needs are conceptually distinct, we expect lower reliability for this composite index than for unidimensional scales.</span>
<span id="cb59-1639"><a href="#cb59-1639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1640"><a href="#cb59-1640" aria-hidden="true" tabindex="-1"></a>*Video game play*. We measured video game play using telemetry data collected from participants' gaming accounts on Xbox, Steam, and Nintendo Switch. During the 30-day study period, we recorded a total of <span class="in">`r hours_nintendo`</span> hours of play on Nintendo Switch, <span class="in">`r hours_xbox`</span> hours on Xbox, and <span class="in">`r hours_steam`</span> hours on Steam. For each daily survey, we calculated total minutes played in the 24-hour period following survey completion. We also created a binary variable indicating whether any play occurred during this period. On average, <span class="in">`r prop_subsequent_play`</span>% of surveys were followed by any play in the subsequent 24 hours, with a mean of <span class="in">`r minutes_subsequent_play`</span> minutes (SD = <span class="in">`r sd_minutes_subsequent_play`</span>).</span>
<span id="cb59-1641"><a href="#cb59-1641" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1642"><a href="#cb59-1642" aria-hidden="true" tabindex="-1"></a>*Displacement*: We measured displacement of core life domains via an open text field asking participants about the hypothetical alternative activity: "Think back to your most recent gaming session. If you hadn't played a game, what would you most likely have done instead?" With LLM assistance from Qwen3-4b-instruct, we coded participant responses  based on whether they mentioned any of the following activities: work/school responsibilities, social engagements, sleep/eating/fitness, or caretaking---so-called "core life domains". We created a boolean variable indicating whether any core life domain was hypothetically displaced.</span>
<span id="cb59-1643"><a href="#cb59-1643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1644"><a href="#cb59-1644" aria-hidden="true" tabindex="-1"></a><span class="fu">### Analysis Approach</span></span>
<span id="cb59-1645"><a href="#cb59-1645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1646"><a href="#cb59-1646" aria-hidden="true" tabindex="-1"></a>We tested each hypothesis using a multilevel within-between linear regression with random intercepts, random slopes, and an AR(1) autocorrelation term, using the <span class="in">`glmmTMB`</span> package <span class="co">[</span><span class="ot">@BrooksEtAl2017glmmTMB</span><span class="co">]</span>. Focal predictors are within-person. </span>
<span id="cb59-1647"><a href="#cb59-1647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1648"><a href="#cb59-1648" aria-hidden="true" tabindex="-1"></a><span class="fu">### Imputation</span></span>
<span id="cb59-1649"><a href="#cb59-1649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1650"><a href="#cb59-1650" aria-hidden="true" tabindex="-1"></a>We used multiple imputation by chained equations (MICE) with predictive mean matching (PMM) to handle missing data. Following the two-stage protocol from @VonHippel2020How based on fraction of missing information, we used 27 imputations. For all variables, imputed distributions closely overlapped with the observed data (see Appendix @fig-imputation). Models were fit separately to each imputed dataset, and estimates were pooled across imputations using Rubin's rules as implemented in the <span class="in">`mice`</span> package <span class="co">[</span><span class="ot">@vanBuurenGroothuis-Oudshoorn2011mice</span><span class="co">]</span>. For comparison, complete case analyses are reported in the Appendix (Sensitivity Analysis 4); results do not meaningfully differ from the imputed analyses.</span>
<span id="cb59-1651"><a href="#cb59-1651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1652"><a href="#cb59-1652" aria-hidden="true" tabindex="-1"></a><span class="fu">### Deviations from Preregistration</span></span>
<span id="cb59-1653"><a href="#cb59-1653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1654"><a href="#cb59-1654" aria-hidden="true" tabindex="-1"></a>We made several deviations from our preregistration to ensure we could recruit enough high-quality participants to meet our sample size goals. In our view, none are so severe enough to threaten the validity of the study. Deviations are summarised in @tbl-deviations.</span>
<span id="cb59-1655"><a href="#cb59-1655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1656"><a href="#cb59-1656" aria-hidden="true" tabindex="-1"></a>::: {.place arguments='top, scope: "parent", float: true'}</span>
<span id="cb59-1657"><a href="#cb59-1657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1660"><a href="#cb59-1660" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-1661"><a href="#cb59-1661" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-deviations</span></span>
<span id="cb59-1662"><a href="#cb59-1662" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Create table of preregistration deviations)"</span></span>
<span id="cb59-1663"><a href="#cb59-1663" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Summary of deviations from preregistration"</span></span>
<span id="cb59-1664"><a href="#cb59-1664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1665"><a href="#cb59-1665" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb59-1666"><a href="#cb59-1666" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Study Aspect</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb59-1667"><a href="#cb59-1667" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data collection"</span>,</span>
<span id="cb59-1668"><a href="#cb59-1668" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data collection"</span>,</span>
<span id="cb59-1669"><a href="#cb59-1669" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data collection"</span>,</span>
<span id="cb59-1670"><a href="#cb59-1670" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data collection"</span>,</span>
<span id="cb59-1671"><a href="#cb59-1671" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data collection"</span>,</span>
<span id="cb59-1672"><a href="#cb59-1672" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data collection"</span>,</span>
<span id="cb59-1673"><a href="#cb59-1673" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Analysis"</span></span>
<span id="cb59-1674"><a href="#cb59-1674" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-1675"><a href="#cb59-1675" aria-hidden="true" tabindex="-1"></a>  <span class="at">Preregistered =</span> <span class="fu">c</span>(</span>
<span id="cb59-1676"><a href="#cb59-1676" aria-hidden="true" tabindex="-1"></a>    <span class="st">"All participants sourced from PureProfile"</span>,</span>
<span id="cb59-1677"><a href="#cb59-1677" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Screening sample would be nationally representative by ethnicity and gender"</span>,</span>
<span id="cb59-1678"><a href="#cb59-1678" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Sample consists of participants aged 18--30"</span>,</span>
<span id="cb59-1679"><a href="#cb59-1679" aria-hidden="true" tabindex="-1"></a>    <span class="st">"To qualify, &gt;=75% of a participant's total gaming must take place on platforms included in the study (Xbox, Steam, Nintendo Switch)"</span>,</span>
<span id="cb59-1680"><a href="#cb59-1680" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Qualification contingent upon valid telemetry within last 7 days"</span>,</span>
<span id="cb59-1681"><a href="#cb59-1681" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Daily surveys sent at 7pm local time"</span>,</span>
<span id="cb59-1682"><a href="#cb59-1682" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data would be imputed for all participants given a 50% overall response rate"</span></span>
<span id="cb59-1683"><a href="#cb59-1683" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-1684"><a href="#cb59-1684" aria-hidden="true" tabindex="-1"></a>  <span class="at">Actual =</span> <span class="fu">c</span>(</span>
<span id="cb59-1685"><a href="#cb59-1685" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Participants sourced from both PureProfile and Prolific"</span>,</span>
<span id="cb59-1686"><a href="#cb59-1686" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Approximately 50% of screening was done using quotas for national representativeness by ethnicity and gender; all subsequent sampling used convenience sampling with no quotas"</span>,</span>
<span id="cb59-1687"><a href="#cb59-1687" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Sample consists of participants aged 18-40"</span>,</span>
<span id="cb59-1688"><a href="#cb59-1688" aria-hidden="true" tabindex="-1"></a>    <span class="st">"To qualify, &gt;=50% of a participant's total gaming must take place on platforms included in the study (Xbox, Steam, Nintendo Switch)"</span>,</span>
<span id="cb59-1689"><a href="#cb59-1689" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Qualification contingent upon valid telemetry within last 14 days"</span>,</span>
<span id="cb59-1690"><a href="#cb59-1690" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Daily surveys sent at 2pm local time"</span>,</span>
<span id="cb59-1691"><a href="#cb59-1691" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Data imputed for only participants with an individual 50% response rate"</span></span>
<span id="cb59-1692"><a href="#cb59-1692" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-1693"><a href="#cb59-1693" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Justification for Deviation</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb59-1694"><a href="#cb59-1694" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Exhausted PureProfile participant pool before reaching required sample size"</span>,</span>
<span id="cb59-1695"><a href="#cb59-1695" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Exhausted participant pools of smaller demographic categories on both Prolific and PureProfile before reaching required sample size"</span>,</span>
<span id="cb59-1696"><a href="#cb59-1696" aria-hidden="true" tabindex="-1"></a>    <span class="st">"(1) Unable to recruit enough participants in the US aged 18--30"</span>,</span>
<span id="cb59-1697"><a href="#cb59-1697" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Low rates of study qualification at 75% threshold, in large part due to substantial uncaptured Playstation play"</span>,</span>
<span id="cb59-1698"><a href="#cb59-1698" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Feedback from participants indicating that play during a 7-day period was subject to too many fluctuations (e.g., a busy workweek)"</span>,</span>
<span id="cb59-1699"><a href="#cb59-1699" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Feedback from participants indicating that evening plans often interfered with survey completion and thus adversely affected response rate"</span>,</span>
<span id="cb59-1700"><a href="#cb59-1700" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Imputing values for participants with 50--97% missing data is poorly justified; results from the preregistered analysis with imputation for all participants are reported in the Appendix (Sensitivity Analysis 5) and do not meaningfully differ from the main analysis"</span></span>
<span id="cb59-1701"><a href="#cb59-1701" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-1702"><a href="#cb59-1702" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-1703"><a href="#cb59-1703" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-1704"><a href="#cb59-1704" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-1705"><a href="#cb59-1705" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">align =</span> <span class="st">"c"</span>)</span>
<span id="cb59-1706"><a href="#cb59-1706" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-1707"><a href="#cb59-1707" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1708"><a href="#cb59-1708" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb59-1709"><a href="#cb59-1709" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1710"><a href="#cb59-1710" aria-hidden="true" tabindex="-1"></a><span class="fu">### Positive Controls</span></span>
<span id="cb59-1711"><a href="#cb59-1711" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1714"><a href="#cb59-1714" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-1715"><a href="#cb59-1715" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: positive-controls</span></span>
<span id="cb59-1716"><a href="#cb59-1716" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Test positive controls)"</span></span>
<span id="cb59-1717"><a href="#cb59-1717" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1718"><a href="#cb59-1718" aria-hidden="true" tabindex="-1"></a><span class="co"># Use first imputation for positive control check</span></span>
<span id="cb59-1719"><a href="#cb59-1719" aria-hidden="true" tabindex="-1"></a>cor_playtime <span class="ot">&lt;-</span> <span class="fu">cor.test</span>(</span>
<span id="cb59-1720"><a href="#cb59-1720" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>self_reported_weekly_play[dat<span class="sc">$</span>.imp <span class="sc">==</span> <span class="dv">1</span>],</span>
<span id="cb59-1721"><a href="#cb59-1721" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>play_minutes_24h[dat<span class="sc">$</span>.imp <span class="sc">==</span> <span class="dv">1</span>],</span>
<span id="cb59-1722"><a href="#cb59-1722" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">"pearson"</span></span>
<span id="cb59-1723"><a href="#cb59-1723" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1724"><a href="#cb59-1724" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1725"><a href="#cb59-1725" aria-hidden="true" tabindex="-1"></a>cor_playtime_inline <span class="ot">&lt;-</span> <span class="fu">glue</span>(</span>
<span id="cb59-1726"><a href="#cb59-1726" aria-hidden="true" tabindex="-1"></a>  <span class="st">"r = {number(cor_playtime$estimate, .01)}, 95% CI [{number(cor_playtime$conf.int[1], .01)}, {number(cor_playtime$conf.int[2], .01)}]"</span></span>
<span id="cb59-1727"><a href="#cb59-1727" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1728"><a href="#cb59-1728" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1729"><a href="#cb59-1729" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-1730"><a href="#cb59-1730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1731"><a href="#cb59-1731" aria-hidden="true" tabindex="-1"></a>As specified in the preregistration, we assessed two positive controls designed to assess whether our data were capable of addressing our stated hypotheses. Both passed: self-reported playtime correlated positively with logged playtime (<span class="in">`r cor_playtime_inline`</span>); and after preprocessing (e.g., to remove background sessions), there were no overlapping sessions. We therefore proceeded with the planned analyses.</span>
<span id="cb59-1732"><a href="#cb59-1732" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1733"><a href="#cb59-1733" aria-hidden="true" tabindex="-1"></a><span class="fu">### Ethics</span></span>
<span id="cb59-1734"><a href="#cb59-1734" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1735"><a href="#cb59-1735" aria-hidden="true" tabindex="-1"></a>This study received ethical approval from the Social Sciences and Humanities Inter-Divisional Research Ethics Committee at the University of Oxford (OII_CIA_23_107). All participants provided informed consent at the start of the study, including consent to their data being shared openly for reanalysis.</span>
<span id="cb59-1736"><a href="#cb59-1736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1737"><a href="#cb59-1737" aria-hidden="true" tabindex="-1"></a>Participants were paid at an average rate of £12/hour, equating to: £0.20 for a 1-minute screening, £2 for the 10-minute intake survey (plus £5 for linking at least one account with recent data), £0.80 for each 4-minute daily survey. Participants received a £10 bonus payment for completing at least 24 out of 30 daily surveys.</span>
<span id="cb59-1738"><a href="#cb59-1738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1739"><a href="#cb59-1739" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1740"><a href="#cb59-1740" aria-hidden="true" tabindex="-1"></a><span class="fu">## Study 1 Results: Confirmatory</span></span>
<span id="cb59-1741"><a href="#cb59-1741" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1742"><a href="#cb59-1742" aria-hidden="true" tabindex="-1"></a>We present visualizations of marginal effects for each hypothesis test in turn; all key estimates are summarized @tbl-main-results.</span>
<span id="cb59-1743"><a href="#cb59-1743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1744"><a href="#cb59-1744" aria-hidden="true" tabindex="-1"></a><span class="fu">### H1. Greater in-game need satisfaction is associated with greater global need satisfaction</span></span>
<span id="cb59-1745"><a href="#cb59-1745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1748"><a href="#cb59-1748" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-1749"><a href="#cb59-1749" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: h1-model</span></span>
<span id="cb59-1750"><a href="#cb59-1750" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-1751"><a href="#cb59-1751" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Fit H1 models: game NS → global NS)"</span></span>
<span id="cb59-1752"><a href="#cb59-1752" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1753"><a href="#cb59-1753" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb59-1754"><a href="#cb59-1754" aria-hidden="true" tabindex="-1"></a>h1_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/h1_fits.rds"</span></span>
<span id="cb59-1755"><a href="#cb59-1755" aria-hidden="true" tabindex="-1"></a>h1_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/h1_pooled.rds"</span></span>
<span id="cb59-1756"><a href="#cb59-1756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1757"><a href="#cb59-1757" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(h1_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(h1_pooled_file)) {</span>
<span id="cb59-1758"><a href="#cb59-1758" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached H1 model fits"</span>)</span>
<span id="cb59-1759"><a href="#cb59-1759" aria-hidden="true" tabindex="-1"></a>  h1_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(h1_cache_file)</span>
<span id="cb59-1760"><a href="#cb59-1760" aria-hidden="true" tabindex="-1"></a>  h1_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(h1_pooled_file)</span>
<span id="cb59-1761"><a href="#cb59-1761" aria-hidden="true" tabindex="-1"></a>  h1mod <span class="ot">&lt;-</span> h1_fits[[<span class="dv">1</span>]]</span>
<span id="cb59-1762"><a href="#cb59-1762" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-1763"><a href="#cb59-1763" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting H1 models..."</span>)</span>
<span id="cb59-1764"><a href="#cb59-1764" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1765"><a href="#cb59-1765" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit model to each imputed dataset</span></span>
<span id="cb59-1766"><a href="#cb59-1766" aria-hidden="true" tabindex="-1"></a>  h1_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb59-1767"><a href="#cb59-1767" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting H1 model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb59-1768"><a href="#cb59-1768" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb59-1769"><a href="#cb59-1769" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb59-1770"><a href="#cb59-1770" aria-hidden="true" tabindex="-1"></a>      global_ns <span class="sc">~</span> game_ns_cw <span class="sc">+</span></span>
<span id="cb59-1771"><a href="#cb59-1771" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb59-1772"><a href="#cb59-1772" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">+</span> game_ns_cw <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-1773"><a href="#cb59-1773" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-1774"><a href="#cb59-1774" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i</span>
<span id="cb59-1775"><a href="#cb59-1775" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-1776"><a href="#cb59-1776" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb59-1777"><a href="#cb59-1777" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1778"><a href="#cb59-1778" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pool estimates using Rubin's rules</span></span>
<span id="cb59-1779"><a href="#cb59-1779" aria-hidden="true" tabindex="-1"></a>  h1_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(h1_fits)</span>
<span id="cb59-1780"><a href="#cb59-1780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1781"><a href="#cb59-1781" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use first imputation's model for plotting</span></span>
<span id="cb59-1782"><a href="#cb59-1782" aria-hidden="true" tabindex="-1"></a>  h1mod <span class="ot">&lt;-</span> h1_fits[[<span class="dv">1</span>]]</span>
<span id="cb59-1783"><a href="#cb59-1783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1784"><a href="#cb59-1784" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save results</span></span>
<span id="cb59-1785"><a href="#cb59-1785" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="st">"data/models"</span>, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-1786"><a href="#cb59-1786" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(h1_fits, h1_cache_file)</span>
<span id="cb59-1787"><a href="#cb59-1787" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(h1_pooled, h1_pooled_file)</span>
<span id="cb59-1788"><a href="#cb59-1788" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Saved H1 model fits to cache"</span>)</span>
<span id="cb59-1789"><a href="#cb59-1789" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-1790"><a href="#cb59-1790" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1791"><a href="#cb59-1791" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-1792"><a href="#cb59-1792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1795"><a href="#cb59-1795" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-1796"><a href="#cb59-1796" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: h1-diagnostics</span></span>
<span id="cb59-1797"><a href="#cb59-1797" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Check H1 model diagnostics and convergence)"</span></span>
<span id="cb59-1798"><a href="#cb59-1798" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: !expr interactive()</span></span>
<span id="cb59-1799"><a href="#cb59-1799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1800"><a href="#cb59-1800" aria-hidden="true" tabindex="-1"></a><span class="co"># Convergence check across imputations</span></span>
<span id="cb59-1801"><a href="#cb59-1801" aria-hidden="true" tabindex="-1"></a>conv_summary <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb59-1802"><a href="#cb59-1802" aria-hidden="true" tabindex="-1"></a>  <span class="at">imputation =</span> <span class="fu">seq_along</span>(h1_fits),</span>
<span id="cb59-1803"><a href="#cb59-1803" aria-hidden="true" tabindex="-1"></a>  <span class="at">converged =</span> <span class="fu">map_lgl</span>(h1_fits, <span class="sc">~</span> .x<span class="sc">$</span>fit<span class="sc">$</span>convergence <span class="sc">==</span> <span class="dv">0</span>),</span>
<span id="cb59-1804"><a href="#cb59-1804" aria-hidden="true" tabindex="-1"></a>  <span class="at">warnings =</span> <span class="fu">map_chr</span>(</span>
<span id="cb59-1805"><a href="#cb59-1805" aria-hidden="true" tabindex="-1"></a>    h1_fits,</span>
<span id="cb59-1806"><a href="#cb59-1806" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> {</span>
<span id="cb59-1807"><a href="#cb59-1807" aria-hidden="true" tabindex="-1"></a>      w <span class="ot">&lt;-</span> .x<span class="sc">$</span>fit<span class="sc">$</span>warnings</span>
<span id="cb59-1808"><a href="#cb59-1808" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="fu">length</span>(w) <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="fu">paste</span>(w, <span class="at">collapse =</span> <span class="st">"; "</span>) <span class="cf">else</span> <span class="st">"None"</span></span>
<span id="cb59-1809"><a href="#cb59-1809" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb59-1810"><a href="#cb59-1810" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-1811"><a href="#cb59-1811" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1812"><a href="#cb59-1812" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(conv_summary)</span>
<span id="cb59-1813"><a href="#cb59-1813" aria-hidden="true" tabindex="-1"></a><span class="fu">glue</span>(<span class="st">"Converged: {sum(conv_summary$converged)}/{nrow(conv_summary)}"</span>)</span>
<span id="cb59-1814"><a href="#cb59-1814" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1815"><a href="#cb59-1815" aria-hidden="true" tabindex="-1"></a><span class="co"># Random effect structure (from converged models)</span></span>
<span id="cb59-1816"><a href="#cb59-1816" aria-hidden="true" tabindex="-1"></a>re_sd <span class="ot">&lt;-</span> <span class="fu">attr</span>(<span class="fu">VarCorr</span>(h1mod)<span class="sc">$</span>cond<span class="sc">$</span>pid, <span class="st">"stddev"</span>)</span>
<span id="cb59-1817"><a href="#cb59-1817" aria-hidden="true" tabindex="-1"></a><span class="fu">glue</span>(<span class="st">"Random intercept SD: {round(re_sd[1], 3)}"</span>)</span>
<span id="cb59-1818"><a href="#cb59-1818" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(re_sd) <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb59-1819"><a href="#cb59-1819" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glue</span>(<span class="st">"Random slope SD (game_ns_cw): {round(re_sd[2], 3)}"</span>)</span>
<span id="cb59-1820"><a href="#cb59-1820" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-1821"><a href="#cb59-1821" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-1822"><a href="#cb59-1822" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1825"><a href="#cb59-1825" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-1826"><a href="#cb59-1826" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-h1-results</span></span>
<span id="cb59-1827"><a href="#cb59-1827" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb59-1828"><a href="#cb59-1828" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Extract H1 estimates for inline text)"</span></span>
<span id="cb59-1829"><a href="#cb59-1829" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1830"><a href="#cb59-1830" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract key estimate for inline reporting</span></span>
<span id="cb59-1831"><a href="#cb59-1831" aria-hidden="true" tabindex="-1"></a>h1est <span class="ot">&lt;-</span> <span class="fu">summary</span>(h1_pooled) <span class="sc">|&gt;</span></span>
<span id="cb59-1832"><a href="#cb59-1832" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-1833"><a href="#cb59-1833" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"game_ns_cw"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-1834"><a href="#cb59-1834" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(estimate)</span>
<span id="cb59-1835"><a href="#cb59-1835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1836"><a href="#cb59-1836" aria-hidden="true" tabindex="-1"></a>h1_results <span class="ot">&lt;-</span> <span class="fu">summary</span>(h1_pooled) <span class="sc">|&gt;</span></span>
<span id="cb59-1837"><a href="#cb59-1837" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-1838"><a href="#cb59-1838" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, estimate, std.error, statistic, p.value) <span class="sc">|&gt;</span></span>
<span id="cb59-1839"><a href="#cb59-1839" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-1840"><a href="#cb59-1840" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term),</span>
<span id="cb59-1841"><a href="#cb59-1841" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(estimate, std.error, statistic), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>))</span>
<span id="cb59-1842"><a href="#cb59-1842" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-1843"><a href="#cb59-1843" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-1844"><a href="#cb59-1844" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1847"><a href="#cb59-1847" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-1848"><a href="#cb59-1848" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-h1-predictions</span></span>
<span id="cb59-1849"><a href="#cb59-1849" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Predicted global need satisfaction as a function of need satisfaction in games. Individual trajectories shown as gray lines, population-level marginal association shown as blue line with 95% confidence ribbon."</span></span>
<span id="cb59-1850"><a href="#cb59-1850" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Plot H1 marginal effects)"</span></span>
<span id="cb59-1851"><a href="#cb59-1851" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1852"><a href="#cb59-1852" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_marginal_effects</span>(</span>
<span id="cb59-1853"><a href="#cb59-1853" aria-hidden="true" tabindex="-1"></a>  <span class="at">model =</span> h1mod,</span>
<span id="cb59-1854"><a href="#cb59-1854" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_var =</span> <span class="st">"game_ns_cw"</span>,</span>
<span id="cb59-1855"><a href="#cb59-1855" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_label =</span> labels[<span class="st">"game_ns"</span>],</span>
<span id="cb59-1856"><a href="#cb59-1856" aria-hidden="true" tabindex="-1"></a>  <span class="at">y_label =</span> labels[<span class="st">"global_ns"</span>],</span>
<span id="cb59-1857"><a href="#cb59-1857" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> colors<span class="sc">$</span>game_ns,</span>
<span id="cb59-1858"><a href="#cb59-1858" aria-hidden="true" tabindex="-1"></a>  <span class="at">n_keepers =</span> <span class="dv">100</span>,</span>
<span id="cb59-1859"><a href="#cb59-1859" aria-hidden="true" tabindex="-1"></a>  <span class="at">within_vars =</span> <span class="fu">c</span>(<span class="st">"game_ns_cw"</span>),</span>
<span id="cb59-1860"><a href="#cb59-1860" aria-hidden="true" tabindex="-1"></a>  <span class="at">between_vars =</span> <span class="fu">c</span>(<span class="st">"game_ns_cb"</span>)</span>
<span id="cb59-1861"><a href="#cb59-1861" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1862"><a href="#cb59-1862" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1863"><a href="#cb59-1863" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-1864"><a href="#cb59-1864" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1865"><a href="#cb59-1865" aria-hidden="true" tabindex="-1"></a>Results strongly support H1: when people felt greater need satisfaction in games than usual, they also reported greater global need satisfaction (@fig-h1-predictions). On average, participants who reported 1 scale point higher need satisfaction in games than they typically did also reported <span class="in">`r h1est`</span> greater global need satisfaction, during the corresponding 24-hour period. </span>
<span id="cb59-1866"><a href="#cb59-1866" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1867"><a href="#cb59-1867" aria-hidden="true" tabindex="-1"></a><span class="fu">### H2. Situational need satisfaction is positively associated with the likelihood of playing in the period after survey completion (H2a), while global need frustration is negatively associated (H2b)</span></span>
<span id="cb59-1868"><a href="#cb59-1868" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1869"><a href="#cb59-1869" aria-hidden="true" tabindex="-1"></a>We tested H2a and H2b using a single multilevel within-between logistic regression, where in-game need satisfaction and global need frustration (each within- and between-person centered) predicted a binary variable whether any play happened in the 24-hour period after diary survey completion.</span>
<span id="cb59-1870"><a href="#cb59-1870" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1871"><a href="#cb59-1871" aria-hidden="true" tabindex="-1"></a>Results support neither H2a or H2b: there is no evidence to support either hypothesis that gaming need satisfaction or global need frustration predict subsequent play (see @fig-h2-predictions). We conducted a wide range of sensitivity analyses providing convergent conclusions: key estimates for gaming need satisfaction and global need frustration remain indistinguishable from 0 in models that:</span>
<span id="cb59-1872"><a href="#cb59-1872" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1873"><a href="#cb59-1873" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>predict subsequent 6 or 12 hours instead of 24 hours (Sensitivity Analysis 1)</span>
<span id="cb59-1874"><a href="#cb59-1874" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>use alternative random slopes specifications (Sensitivity Analysis 2)</span>
<span id="cb59-1875"><a href="#cb59-1875" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>use a count model of minutes played in the subsequent 24 hours instead of binary play/no-play (Sensitivity Analysis 3)</span>
<span id="cb59-1876"><a href="#cb59-1876" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>use complete case data instead of imputed data (Sensitivity Analysis 4),</span>
<span id="cb59-1877"><a href="#cb59-1877" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>impute data from the full eligible sample instead of the analytic sample (Sensitivity Analysis 5)</span>
<span id="cb59-1878"><a href="#cb59-1878" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>include an interaction between gaming need satisfaction and global need frustration (Sensitivity Analysis 6)</span>
<span id="cb59-1879"><a href="#cb59-1879" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>use a spline term for gaming need satisfaction and global need frustration, instead of a linear term (Sensitivity Analysis 7)</span>
<span id="cb59-1880"><a href="#cb59-1880" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>predict subsequent play with each individual need (autonomy, competence, relatedness) instead of composite need satisfaction or frustration (Sensitivity Analysis 8)</span>
<span id="cb59-1881"><a href="#cb59-1881" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1882"><a href="#cb59-1882" aria-hidden="true" tabindex="-1"></a>In short, results consistently fail to detect an association between situational need satisfaction or global need frustration and subsequent play behaviour.</span>
<span id="cb59-1883"><a href="#cb59-1883" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1886"><a href="#cb59-1886" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-1887"><a href="#cb59-1887" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: h2-model</span></span>
<span id="cb59-1888"><a href="#cb59-1888" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-1889"><a href="#cb59-1889" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Fit H2 models: game NS + global NF → play)"</span></span>
<span id="cb59-1890"><a href="#cb59-1890" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1891"><a href="#cb59-1891" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb59-1892"><a href="#cb59-1892" aria-hidden="true" tabindex="-1"></a>h2_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/h2_fits.rds"</span></span>
<span id="cb59-1893"><a href="#cb59-1893" aria-hidden="true" tabindex="-1"></a>h2_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/h2_pooled.rds"</span></span>
<span id="cb59-1894"><a href="#cb59-1894" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1895"><a href="#cb59-1895" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(h2_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(h2_pooled_file)) {</span>
<span id="cb59-1896"><a href="#cb59-1896" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached H2 model fits"</span>)</span>
<span id="cb59-1897"><a href="#cb59-1897" aria-hidden="true" tabindex="-1"></a>  h2_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(h2_cache_file)</span>
<span id="cb59-1898"><a href="#cb59-1898" aria-hidden="true" tabindex="-1"></a>  h2_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(h2_pooled_file)</span>
<span id="cb59-1899"><a href="#cb59-1899" aria-hidden="true" tabindex="-1"></a>  h2mod <span class="ot">&lt;-</span> h2_fits[[<span class="dv">1</span>]]</span>
<span id="cb59-1900"><a href="#cb59-1900" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-1901"><a href="#cb59-1901" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting H2 models..."</span>)</span>
<span id="cb59-1902"><a href="#cb59-1902" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1903"><a href="#cb59-1903" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit model to each imputed dataset</span></span>
<span id="cb59-1904"><a href="#cb59-1904" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Simplified: random intercept only + AR(1) for convergence</span></span>
<span id="cb59-1905"><a href="#cb59-1905" aria-hidden="true" tabindex="-1"></a>  h2_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb59-1906"><a href="#cb59-1906" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting H2 model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb59-1907"><a href="#cb59-1907" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb59-1908"><a href="#cb59-1908" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb59-1909"><a href="#cb59-1909" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb59-1910"><a href="#cb59-1910" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb59-1911"><a href="#cb59-1911" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb59-1912"><a href="#cb59-1912" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb59-1913"><a href="#cb59-1913" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb59-1914"><a href="#cb59-1914" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-1915"><a href="#cb59-1915" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-1916"><a href="#cb59-1916" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb59-1917"><a href="#cb59-1917" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb59-1918"><a href="#cb59-1918" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb59-1919"><a href="#cb59-1919" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-1920"><a href="#cb59-1920" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb59-1921"><a href="#cb59-1921" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1922"><a href="#cb59-1922" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pool estimates using Rubin's rules</span></span>
<span id="cb59-1923"><a href="#cb59-1923" aria-hidden="true" tabindex="-1"></a>  h2_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(h2_fits)</span>
<span id="cb59-1924"><a href="#cb59-1924" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1925"><a href="#cb59-1925" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use first imputation's model for plotting</span></span>
<span id="cb59-1926"><a href="#cb59-1926" aria-hidden="true" tabindex="-1"></a>  h2mod <span class="ot">&lt;-</span> h2_fits[[<span class="dv">1</span>]]</span>
<span id="cb59-1927"><a href="#cb59-1927" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1928"><a href="#cb59-1928" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save results</span></span>
<span id="cb59-1929"><a href="#cb59-1929" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="st">"data/models"</span>, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-1930"><a href="#cb59-1930" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(h2_fits, h2_cache_file)</span>
<span id="cb59-1931"><a href="#cb59-1931" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(h2_pooled, h2_pooled_file)</span>
<span id="cb59-1932"><a href="#cb59-1932" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Saved H2 model fits to cache"</span>)</span>
<span id="cb59-1933"><a href="#cb59-1933" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-1934"><a href="#cb59-1934" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-1935"><a href="#cb59-1935" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1938"><a href="#cb59-1938" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-1939"><a href="#cb59-1939" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: h2-diagnostics</span></span>
<span id="cb59-1940"><a href="#cb59-1940" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Check H2 model diagnostics and convergence)"</span></span>
<span id="cb59-1941"><a href="#cb59-1941" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: !expr interactive()</span></span>
<span id="cb59-1942"><a href="#cb59-1942" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 8</span></span>
<span id="cb59-1943"><a href="#cb59-1943" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1944"><a href="#cb59-1944" aria-hidden="true" tabindex="-1"></a><span class="co"># Convergence check across imputations</span></span>
<span id="cb59-1945"><a href="#cb59-1945" aria-hidden="true" tabindex="-1"></a>conv_summary <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb59-1946"><a href="#cb59-1946" aria-hidden="true" tabindex="-1"></a>  <span class="at">imputation =</span> <span class="fu">seq_along</span>(h2_fits),</span>
<span id="cb59-1947"><a href="#cb59-1947" aria-hidden="true" tabindex="-1"></a>  <span class="at">converged =</span> <span class="fu">map_lgl</span>(h2_fits, <span class="sc">~</span> .x<span class="sc">$</span>fit<span class="sc">$</span>convergence <span class="sc">==</span> <span class="dv">0</span>),</span>
<span id="cb59-1948"><a href="#cb59-1948" aria-hidden="true" tabindex="-1"></a>  <span class="at">warnings =</span> <span class="fu">map_chr</span>(</span>
<span id="cb59-1949"><a href="#cb59-1949" aria-hidden="true" tabindex="-1"></a>    h2_fits,</span>
<span id="cb59-1950"><a href="#cb59-1950" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> {</span>
<span id="cb59-1951"><a href="#cb59-1951" aria-hidden="true" tabindex="-1"></a>      w <span class="ot">&lt;-</span> .x<span class="sc">$</span>fit<span class="sc">$</span>warnings</span>
<span id="cb59-1952"><a href="#cb59-1952" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="fu">length</span>(w) <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="fu">paste</span>(w, <span class="at">collapse =</span> <span class="st">"; "</span>) <span class="cf">else</span> <span class="st">"None"</span></span>
<span id="cb59-1953"><a href="#cb59-1953" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb59-1954"><a href="#cb59-1954" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-1955"><a href="#cb59-1955" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-1956"><a href="#cb59-1956" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(conv_summary)</span>
<span id="cb59-1957"><a href="#cb59-1957" aria-hidden="true" tabindex="-1"></a><span class="fu">glue</span>(<span class="st">"Converged: {sum(conv_summary$converged)}/{nrow(conv_summary)}"</span>)</span>
<span id="cb59-1958"><a href="#cb59-1958" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1959"><a href="#cb59-1959" aria-hidden="true" tabindex="-1"></a><span class="co"># Random effect structure (from converged models)</span></span>
<span id="cb59-1960"><a href="#cb59-1960" aria-hidden="true" tabindex="-1"></a>re_sd <span class="ot">&lt;-</span> <span class="fu">attr</span>(<span class="fu">VarCorr</span>(h2mod)<span class="sc">$</span>cond<span class="sc">$</span>pid, <span class="st">"stddev"</span>)</span>
<span id="cb59-1961"><a href="#cb59-1961" aria-hidden="true" tabindex="-1"></a>re_names <span class="ot">&lt;-</span> <span class="fu">names</span>(re_sd)</span>
<span id="cb59-1962"><a href="#cb59-1962" aria-hidden="true" tabindex="-1"></a><span class="fu">walk2</span>(re_names, re_sd, <span class="sc">~</span> <span class="fu">glue</span>(<span class="st">"{.x} SD: {round(.y, 3)}"</span>))</span>
<span id="cb59-1963"><a href="#cb59-1963" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1964"><a href="#cb59-1964" aria-hidden="true" tabindex="-1"></a><span class="co"># Random intercept distribution (logit scale)</span></span>
<span id="cb59-1965"><a href="#cb59-1965" aria-hidden="true" tabindex="-1"></a>re_intercepts <span class="ot">&lt;-</span> <span class="fu">coef</span>(h2mod)<span class="sc">$</span>cond<span class="sc">$</span>pid[, <span class="st">"(Intercept)"</span>]</span>
<span id="cb59-1966"><a href="#cb59-1966" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb59-1967"><a href="#cb59-1967" aria-hidden="true" tabindex="-1"></a>  <span class="at">stat =</span> <span class="fu">c</span>(<span class="st">"Mean"</span>, <span class="st">"SD"</span>, <span class="st">"Min"</span>, <span class="st">"Max"</span>, <span class="st">"IQR_25%"</span>, <span class="st">"IQR_75%"</span>),</span>
<span id="cb59-1968"><a href="#cb59-1968" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(</span>
<span id="cb59-1969"><a href="#cb59-1969" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mean</span>(re_intercepts),</span>
<span id="cb59-1970"><a href="#cb59-1970" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sd</span>(re_intercepts),</span>
<span id="cb59-1971"><a href="#cb59-1971" aria-hidden="true" tabindex="-1"></a>    <span class="fu">min</span>(re_intercepts),</span>
<span id="cb59-1972"><a href="#cb59-1972" aria-hidden="true" tabindex="-1"></a>    <span class="fu">max</span>(re_intercepts),</span>
<span id="cb59-1973"><a href="#cb59-1973" aria-hidden="true" tabindex="-1"></a>    <span class="fu">quantile</span>(re_intercepts, <span class="fl">0.25</span>),</span>
<span id="cb59-1974"><a href="#cb59-1974" aria-hidden="true" tabindex="-1"></a>    <span class="fu">quantile</span>(re_intercepts, <span class="fl">0.75</span>)</span>
<span id="cb59-1975"><a href="#cb59-1975" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-1976"><a href="#cb59-1976" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-1977"><a href="#cb59-1977" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">round</span>(value, <span class="dv">3</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-1978"><a href="#cb59-1978" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span>
<span id="cb59-1979"><a href="#cb59-1979" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1980"><a href="#cb59-1980" aria-hidden="true" tabindex="-1"></a><span class="co"># Implied probability at fixed intercept</span></span>
<span id="cb59-1981"><a href="#cb59-1981" aria-hidden="true" tabindex="-1"></a>fixed_int <span class="ot">&lt;-</span> <span class="fu">fixef</span>(h2mod)<span class="sc">$</span>cond[<span class="st">"(Intercept)"</span>]</span>
<span id="cb59-1982"><a href="#cb59-1982" aria-hidden="true" tabindex="-1"></a><span class="fu">glue</span>(<span class="st">"Pr(play) at population mean: {round(plogis(fixed_int), 3)}"</span>)</span>
<span id="cb59-1983"><a href="#cb59-1983" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1984"><a href="#cb59-1984" aria-hidden="true" tabindex="-1"></a><span class="co"># DHARMa residual diagnostics</span></span>
<span id="cb59-1985"><a href="#cb59-1985" aria-hidden="true" tabindex="-1"></a>sim_resid <span class="ot">&lt;-</span> <span class="fu">simulateResiduals</span>(h2mod, <span class="at">plot =</span> <span class="cn">FALSE</span>)</span>
<span id="cb59-1986"><a href="#cb59-1986" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1987"><a href="#cb59-1987" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall fit</span></span>
<span id="cb59-1988"><a href="#cb59-1988" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sim_resid, <span class="at">main =</span> <span class="st">"H2 Model: DHARMa diagnostics"</span>)</span>
<span id="cb59-1989"><a href="#cb59-1989" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1990"><a href="#cb59-1990" aria-hidden="true" tabindex="-1"></a><span class="co"># Statistical tests</span></span>
<span id="cb59-1991"><a href="#cb59-1991" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb59-1992"><a href="#cb59-1992" aria-hidden="true" tabindex="-1"></a>  <span class="at">dispersion =</span> <span class="fu">testDispersion</span>(sim_resid),</span>
<span id="cb59-1993"><a href="#cb59-1993" aria-hidden="true" tabindex="-1"></a>  <span class="at">outliers =</span> <span class="fu">testOutliers</span>(sim_resid),</span>
<span id="cb59-1994"><a href="#cb59-1994" aria-hidden="true" tabindex="-1"></a>  <span class="at">quantiles =</span> <span class="fu">testQuantiles</span>(sim_resid)</span>
<span id="cb59-1995"><a href="#cb59-1995" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-1996"><a href="#cb59-1996" aria-hidden="true" tabindex="-1"></a>  <span class="fu">walk</span>(print)</span>
<span id="cb59-1997"><a href="#cb59-1997" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-1998"><a href="#cb59-1998" aria-hidden="true" tabindex="-1"></a><span class="co"># Residuals vs. predictors</span></span>
<span id="cb59-1999"><a href="#cb59-1999" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb59-2000"><a href="#cb59-2000" aria-hidden="true" tabindex="-1"></a><span class="fu">walk2</span>(</span>
<span id="cb59-2001"><a href="#cb59-2001" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">"game_ns_cw"</span>, <span class="st">"global_nf_cw"</span>, <span class="st">"game_ns_cb"</span>, <span class="st">"global_nf_cb"</span>),</span>
<span id="cb59-2002"><a href="#cb59-2002" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(</span>
<span id="cb59-2003"><a href="#cb59-2003" aria-hidden="true" tabindex="-1"></a>    labels[<span class="st">"game_ns_cw"</span>],</span>
<span id="cb59-2004"><a href="#cb59-2004" aria-hidden="true" tabindex="-1"></a>    labels[<span class="st">"global_nf_cw"</span>],</span>
<span id="cb59-2005"><a href="#cb59-2005" aria-hidden="true" tabindex="-1"></a>    labels[<span class="st">"game_ns_cb"</span>],</span>
<span id="cb59-2006"><a href="#cb59-2006" aria-hidden="true" tabindex="-1"></a>    labels[<span class="st">"global_nf_cb"</span>]</span>
<span id="cb59-2007"><a href="#cb59-2007" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-2008"><a href="#cb59-2008" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> <span class="fu">plotResiduals</span>(sim_resid, <span class="at">form =</span> h2mod<span class="sc">$</span>frame[[.x]], <span class="at">main =</span> <span class="fu">glue</span>(<span class="st">"vs. {.y}"</span>))</span>
<span id="cb59-2009"><a href="#cb59-2009" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-2010"><a href="#cb59-2010" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb59-2011"><a href="#cb59-2011" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2012"><a href="#cb59-2012" aria-hidden="true" tabindex="-1"></a><span class="co"># Temporal autocorrelation (within-person lag-1)</span></span>
<span id="cb59-2013"><a href="#cb59-2013" aria-hidden="true" tabindex="-1"></a>acf_by_person <span class="ot">&lt;-</span> h2mod<span class="sc">$</span>frame <span class="sc">|&gt;</span></span>
<span id="cb59-2014"><a href="#cb59-2014" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid) <span class="sc">|&gt;</span></span>
<span id="cb59-2015"><a href="#cb59-2015" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(wave) <span class="sc">|&gt;</span></span>
<span id="cb59-2016"><a href="#cb59-2016" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;=</span> <span class="dv">3</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2017"><a href="#cb59-2017" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reframe</span>(</span>
<span id="cb59-2018"><a href="#cb59-2018" aria-hidden="true" tabindex="-1"></a>    <span class="at">acf =</span> <span class="fu">cor</span>(</span>
<span id="cb59-2019"><a href="#cb59-2019" aria-hidden="true" tabindex="-1"></a>      sim_resid<span class="sc">$</span>scaledResiduals[<span class="fu">cur_group_rows</span>()][<span class="sc">-</span><span class="fu">n</span>()],</span>
<span id="cb59-2020"><a href="#cb59-2020" aria-hidden="true" tabindex="-1"></a>      sim_resid<span class="sc">$</span>scaledResiduals[<span class="fu">cur_group_rows</span>()][<span class="sc">-</span><span class="dv">1</span>],</span>
<span id="cb59-2021"><a href="#cb59-2021" aria-hidden="true" tabindex="-1"></a>      <span class="at">use =</span> <span class="st">"complete.obs"</span></span>
<span id="cb59-2022"><a href="#cb59-2022" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-2023"><a href="#cb59-2023" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-2024"><a href="#cb59-2024" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(acf)</span>
<span id="cb59-2025"><a href="#cb59-2025" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2026"><a href="#cb59-2026" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb59-2027"><a href="#cb59-2027" aria-hidden="true" tabindex="-1"></a>  <span class="at">stat =</span> <span class="fu">c</span>(<span class="st">"Mean"</span>, <span class="st">"Median"</span>, <span class="st">"Min"</span>, <span class="st">"Max"</span>),</span>
<span id="cb59-2028"><a href="#cb59-2028" aria-hidden="true" tabindex="-1"></a>  <span class="at">lag1_acf =</span> <span class="fu">c</span>(</span>
<span id="cb59-2029"><a href="#cb59-2029" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mean</span>(acf_by_person),</span>
<span id="cb59-2030"><a href="#cb59-2030" aria-hidden="true" tabindex="-1"></a>    <span class="fu">median</span>(acf_by_person),</span>
<span id="cb59-2031"><a href="#cb59-2031" aria-hidden="true" tabindex="-1"></a>    <span class="fu">min</span>(acf_by_person),</span>
<span id="cb59-2032"><a href="#cb59-2032" aria-hidden="true" tabindex="-1"></a>    <span class="fu">max</span>(acf_by_person)</span>
<span id="cb59-2033"><a href="#cb59-2033" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-2034"><a href="#cb59-2034" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-2035"><a href="#cb59-2035" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lag1_acf =</span> <span class="fu">round</span>(lag1_acf, <span class="dv">3</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-2036"><a href="#cb59-2036" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span>
<span id="cb59-2037"><a href="#cb59-2037" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2038"><a href="#cb59-2038" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregated residuals</span></span>
<span id="cb59-2039"><a href="#cb59-2039" aria-hidden="true" tabindex="-1"></a><span class="fu">recalculateResiduals</span>(sim_resid, <span class="at">group =</span> h2mod<span class="sc">$</span>frame<span class="sc">$</span>wave) <span class="sc">|&gt;</span></span>
<span id="cb59-2040"><a href="#cb59-2040" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="at">main =</span> <span class="st">"Residuals by wave"</span>)</span>
<span id="cb59-2041"><a href="#cb59-2041" aria-hidden="true" tabindex="-1"></a><span class="fu">recalculateResiduals</span>(sim_resid, <span class="at">group =</span> h2mod<span class="sc">$</span>frame<span class="sc">$</span>pid) <span class="sc">|&gt;</span></span>
<span id="cb59-2042"><a href="#cb59-2042" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="at">main =</span> <span class="st">"Residuals by individual"</span>)</span>
<span id="cb59-2043"><a href="#cb59-2043" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-2044"><a href="#cb59-2044" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2047"><a href="#cb59-2047" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-2048"><a href="#cb59-2048" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-h2-results</span></span>
<span id="cb59-2049"><a href="#cb59-2049" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb59-2050"><a href="#cb59-2050" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (H2 results - now in combined table)"</span></span>
<span id="cb59-2051"><a href="#cb59-2051" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2052"><a href="#cb59-2052" aria-hidden="true" tabindex="-1"></a><span class="co"># Results now shown in combined table (tbl-main-results)</span></span>
<span id="cb59-2053"><a href="#cb59-2053" aria-hidden="true" tabindex="-1"></a><span class="co"># This chunk kept for any inline reporting references</span></span>
<span id="cb59-2054"><a href="#cb59-2054" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-2055"><a href="#cb59-2055" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2056"><a href="#cb59-2056" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2057"><a href="#cb59-2057" aria-hidden="true" tabindex="-1"></a>::: {.place arguments='top, scope: "parent", float: true'}</span>
<span id="cb59-2058"><a href="#cb59-2058" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2061"><a href="#cb59-2061" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-2062"><a href="#cb59-2062" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-h2-predictions</span></span>
<span id="cb59-2063"><a href="#cb59-2063" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Predicted probability of playing in subsequent 24 hours. (A) As a function of need satisfaction in games (H2a). (B) As a function of global need frustration (H2b). Individual trajectories shown as gray lines, population-level marginal associations shown with 95% confidence ribbons."</span></span>
<span id="cb59-2064"><a href="#cb59-2064" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Plot H2 marginal effects)"</span></span>
<span id="cb59-2065"><a href="#cb59-2065" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-asp: 0.4</span></span>
<span id="cb59-2066"><a href="#cb59-2066" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2067"><a href="#cb59-2067" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel A: Game need satisfaction</span></span>
<span id="cb59-2068"><a href="#cb59-2068" aria-hidden="true" tabindex="-1"></a>p_h2a <span class="ot">&lt;-</span> <span class="fu">plot_marginal_effects</span>(</span>
<span id="cb59-2069"><a href="#cb59-2069" aria-hidden="true" tabindex="-1"></a>  <span class="at">model =</span> h2mod,</span>
<span id="cb59-2070"><a href="#cb59-2070" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_var =</span> <span class="st">"game_ns_cw"</span>,</span>
<span id="cb59-2071"><a href="#cb59-2071" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_label =</span> labels[<span class="st">"game_ns"</span>],</span>
<span id="cb59-2072"><a href="#cb59-2072" aria-hidden="true" tabindex="-1"></a>  <span class="at">y_label =</span> <span class="st">"Pr(played in subsequent 24h)"</span>,</span>
<span id="cb59-2073"><a href="#cb59-2073" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> colors<span class="sc">$</span>game_ns,</span>
<span id="cb59-2074"><a href="#cb59-2074" aria-hidden="true" tabindex="-1"></a>  <span class="at">n_keepers =</span> <span class="dv">50</span>,</span>
<span id="cb59-2075"><a href="#cb59-2075" aria-hidden="true" tabindex="-1"></a>  <span class="at">within_vars =</span> <span class="fu">c</span>(<span class="st">"game_ns_cw"</span>, <span class="st">"global_nf_cw"</span>),</span>
<span id="cb59-2076"><a href="#cb59-2076" aria-hidden="true" tabindex="-1"></a>  <span class="at">between_vars =</span> <span class="fu">c</span>(<span class="st">"game_ns_cb"</span>, <span class="st">"global_nf_cb"</span>)</span>
<span id="cb59-2077"><a href="#cb59-2077" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-2078"><a href="#cb59-2078" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2079"><a href="#cb59-2079" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel B: Global need frustration</span></span>
<span id="cb59-2080"><a href="#cb59-2080" aria-hidden="true" tabindex="-1"></a>p_h2b <span class="ot">&lt;-</span> <span class="fu">plot_marginal_effects</span>(</span>
<span id="cb59-2081"><a href="#cb59-2081" aria-hidden="true" tabindex="-1"></a>  <span class="at">model =</span> h2mod,</span>
<span id="cb59-2082"><a href="#cb59-2082" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_var =</span> <span class="st">"global_nf_cw"</span>,</span>
<span id="cb59-2083"><a href="#cb59-2083" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_label =</span> labels[<span class="st">"global_nf"</span>],</span>
<span id="cb59-2084"><a href="#cb59-2084" aria-hidden="true" tabindex="-1"></a>  <span class="at">y_label =</span> <span class="st">"Pr(played in subsequent 24h)"</span>,</span>
<span id="cb59-2085"><a href="#cb59-2085" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> colors<span class="sc">$</span>global_nf,</span>
<span id="cb59-2086"><a href="#cb59-2086" aria-hidden="true" tabindex="-1"></a>  <span class="at">n_keepers =</span> <span class="dv">50</span>,</span>
<span id="cb59-2087"><a href="#cb59-2087" aria-hidden="true" tabindex="-1"></a>  <span class="at">within_vars =</span> <span class="fu">c</span>(<span class="st">"game_ns_cw"</span>, <span class="st">"global_nf_cw"</span>),</span>
<span id="cb59-2088"><a href="#cb59-2088" aria-hidden="true" tabindex="-1"></a>  <span class="at">between_vars =</span> <span class="fu">c</span>(<span class="st">"game_ns_cb"</span>, <span class="st">"global_nf_cb"</span>)</span>
<span id="cb59-2089"><a href="#cb59-2089" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-2090"><a href="#cb59-2090" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2091"><a href="#cb59-2091" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine with patchwork and set y-axis limits to 0-100%</span></span>
<span id="cb59-2092"><a href="#cb59-2092" aria-hidden="true" tabindex="-1"></a>p_h2a <span class="sc">+</span></span>
<span id="cb59-2093"><a href="#cb59-2093" aria-hidden="true" tabindex="-1"></a>  p_h2b <span class="sc">+</span></span>
<span id="cb59-2094"><a href="#cb59-2094" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">"A"</span>) <span class="sc">&amp;</span></span>
<span id="cb59-2095"><a href="#cb59-2095" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">&amp;</span></span>
<span id="cb59-2096"><a href="#cb59-2096" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.tag =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb59-2097"><a href="#cb59-2097" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-2098"><a href="#cb59-2098" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2099"><a href="#cb59-2099" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb59-2100"><a href="#cb59-2100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2101"><a href="#cb59-2101" aria-hidden="true" tabindex="-1"></a><span class="fu">### H3. When gaming displaces a core life domain, global need satisfaction will be lower</span></span>
<span id="cb59-2102"><a href="#cb59-2102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2105"><a href="#cb59-2105" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-2106"><a href="#cb59-2106" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: h3-displaced-categories</span></span>
<span id="cb59-2107"><a href="#cb59-2107" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb59-2108"><a href="#cb59-2108" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Calculate displaced activity category frequencies)"</span></span>
<span id="cb59-2109"><a href="#cb59-2109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2110"><a href="#cb59-2110" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate frequencies of each displaced activity category</span></span>
<span id="cb59-2111"><a href="#cb59-2111" aria-hidden="true" tabindex="-1"></a><span class="co"># Use first imputation to avoid double-counting</span></span>
<span id="cb59-2112"><a href="#cb59-2112" aria-hidden="true" tabindex="-1"></a>activity_summary <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span></span>
<span id="cb59-2113"><a href="#cb59-2113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(.imp <span class="sc">==</span> <span class="dv">1</span>, <span class="sc">!</span><span class="fu">is.na</span>(displaced_core_domain)) <span class="sc">|&gt;</span></span>
<span id="cb59-2114"><a href="#cb59-2114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb59-2115"><a href="#cb59-2115" aria-hidden="true" tabindex="-1"></a>    activity_categories <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, wave, activity_label),</span>
<span id="cb59-2116"><a href="#cb59-2116" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"wave"</span>)</span>
<span id="cb59-2117"><a href="#cb59-2117" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-2118"><a href="#cb59-2118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(activity_label, displaced_core_domain) <span class="sc">|&gt;</span></span>
<span id="cb59-2119"><a href="#cb59-2119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(activity_label) <span class="sc">|&gt;</span></span>
<span id="cb59-2120"><a href="#cb59-2120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-2121"><a href="#cb59-2121" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct =</span> <span class="dv">100</span> <span class="sc">*</span> n <span class="sc">/</span> <span class="fu">sum</span>(n),</span>
<span id="cb59-2122"><a href="#cb59-2122" aria-hidden="true" tabindex="-1"></a>    <span class="at">total =</span> <span class="fu">sum</span>(n)</span>
<span id="cb59-2123"><a href="#cb59-2123" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-2124"><a href="#cb59-2124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-2125"><a href="#cb59-2125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total))</span>
<span id="cb59-2126"><a href="#cb59-2126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2127"><a href="#cb59-2127" aria-hidden="true" tabindex="-1"></a><span class="co"># Get counts for core vs non-core</span></span>
<span id="cb59-2128"><a href="#cb59-2128" aria-hidden="true" tabindex="-1"></a>core_summary <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span></span>
<span id="cb59-2129"><a href="#cb59-2129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(.imp <span class="sc">==</span> <span class="dv">1</span>, <span class="sc">!</span><span class="fu">is.na</span>(displaced_core_domain)) <span class="sc">|&gt;</span></span>
<span id="cb59-2130"><a href="#cb59-2130" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(displaced_core_domain) <span class="sc">|&gt;</span></span>
<span id="cb59-2131"><a href="#cb59-2131" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> <span class="dv">100</span> <span class="sc">*</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span>
<span id="cb59-2132"><a href="#cb59-2132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2133"><a href="#cb59-2133" aria-hidden="true" tabindex="-1"></a><span class="co"># Store values for inline reporting (formatted)</span></span>
<span id="cb59-2134"><a href="#cb59-2134" aria-hidden="true" tabindex="-1"></a>total_responses <span class="ot">&lt;-</span> scales<span class="sc">::</span><span class="fu">comma</span>(<span class="fu">sum</span>(activity_summary<span class="sc">$</span>n))</span>
<span id="cb59-2135"><a href="#cb59-2135" aria-hidden="true" tabindex="-1"></a>n_core_raw <span class="ot">&lt;-</span> core_summary <span class="sc">|&gt;</span> <span class="fu">filter</span>(displaced_core_domain <span class="sc">==</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> <span class="fu">pull</span>(n)</span>
<span id="cb59-2136"><a href="#cb59-2136" aria-hidden="true" tabindex="-1"></a>n_core <span class="ot">&lt;-</span> scales<span class="sc">::</span><span class="fu">comma</span>(n_core_raw)</span>
<span id="cb59-2137"><a href="#cb59-2137" aria-hidden="true" tabindex="-1"></a>pct_core <span class="ot">&lt;-</span> <span class="fu">round</span>(</span>
<span id="cb59-2138"><a href="#cb59-2138" aria-hidden="true" tabindex="-1"></a>  core_summary <span class="sc">|&gt;</span> <span class="fu">filter</span>(displaced_core_domain <span class="sc">==</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> <span class="fu">pull</span>(pct),</span>
<span id="cb59-2139"><a href="#cb59-2139" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span></span>
<span id="cb59-2140"><a href="#cb59-2140" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-2141"><a href="#cb59-2141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2142"><a href="#cb59-2142" aria-hidden="true" tabindex="-1"></a><span class="co"># Core domain specific counts</span></span>
<span id="cb59-2143"><a href="#cb59-2143" aria-hidden="true" tabindex="-1"></a>n_sleep <span class="ot">&lt;-</span> scales<span class="sc">::</span><span class="fu">comma</span>(</span>
<span id="cb59-2144"><a href="#cb59-2144" aria-hidden="true" tabindex="-1"></a>  activity_summary <span class="sc">|&gt;</span></span>
<span id="cb59-2145"><a href="#cb59-2145" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(activity_label <span class="sc">==</span> <span class="st">"sleep_eat_fitness"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2146"><a href="#cb59-2146" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(total) <span class="sc">|&gt;</span></span>
<span id="cb59-2147"><a href="#cb59-2147" aria-hidden="true" tabindex="-1"></a>    <span class="fu">first</span>()</span>
<span id="cb59-2148"><a href="#cb59-2148" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-2149"><a href="#cb59-2149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2150"><a href="#cb59-2150" aria-hidden="true" tabindex="-1"></a>n_social <span class="ot">&lt;-</span> scales<span class="sc">::</span><span class="fu">comma</span>(</span>
<span id="cb59-2151"><a href="#cb59-2151" aria-hidden="true" tabindex="-1"></a>  activity_summary <span class="sc">|&gt;</span></span>
<span id="cb59-2152"><a href="#cb59-2152" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(activity_label <span class="sc">==</span> <span class="st">"social_engagement"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2153"><a href="#cb59-2153" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(total) <span class="sc">|&gt;</span></span>
<span id="cb59-2154"><a href="#cb59-2154" aria-hidden="true" tabindex="-1"></a>    <span class="fu">first</span>()</span>
<span id="cb59-2155"><a href="#cb59-2155" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-2156"><a href="#cb59-2156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2157"><a href="#cb59-2157" aria-hidden="true" tabindex="-1"></a>n_work <span class="ot">&lt;-</span> scales<span class="sc">::</span><span class="fu">comma</span>(</span>
<span id="cb59-2158"><a href="#cb59-2158" aria-hidden="true" tabindex="-1"></a>  activity_summary <span class="sc">|&gt;</span></span>
<span id="cb59-2159"><a href="#cb59-2159" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(activity_label <span class="sc">==</span> <span class="st">"work_school"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2160"><a href="#cb59-2160" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(total) <span class="sc">|&gt;</span></span>
<span id="cb59-2161"><a href="#cb59-2161" aria-hidden="true" tabindex="-1"></a>    <span class="fu">first</span>()</span>
<span id="cb59-2162"><a href="#cb59-2162" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-2163"><a href="#cb59-2163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2164"><a href="#cb59-2164" aria-hidden="true" tabindex="-1"></a>n_caretaking <span class="ot">&lt;-</span> scales<span class="sc">::</span><span class="fu">comma</span>(</span>
<span id="cb59-2165"><a href="#cb59-2165" aria-hidden="true" tabindex="-1"></a>  activity_summary <span class="sc">|&gt;</span></span>
<span id="cb59-2166"><a href="#cb59-2166" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(activity_label <span class="sc">==</span> <span class="st">"caretaking"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2167"><a href="#cb59-2167" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(total) <span class="sc">|&gt;</span></span>
<span id="cb59-2168"><a href="#cb59-2168" aria-hidden="true" tabindex="-1"></a>    <span class="fu">first</span>()</span>
<span id="cb59-2169"><a href="#cb59-2169" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-2170"><a href="#cb59-2170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2171"><a href="#cb59-2171" aria-hidden="true" tabindex="-1"></a><span class="co"># Non-core category counts for informal mention</span></span>
<span id="cb59-2172"><a href="#cb59-2172" aria-hidden="true" tabindex="-1"></a>n_digital_media <span class="ot">&lt;-</span> scales<span class="sc">::</span><span class="fu">comma</span>(</span>
<span id="cb59-2173"><a href="#cb59-2173" aria-hidden="true" tabindex="-1"></a>  activity_summary <span class="sc">|&gt;</span></span>
<span id="cb59-2174"><a href="#cb59-2174" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(activity_label <span class="sc">==</span> <span class="st">"other_digital_media"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2175"><a href="#cb59-2175" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(total) <span class="sc">|&gt;</span></span>
<span id="cb59-2176"><a href="#cb59-2176" aria-hidden="true" tabindex="-1"></a>    <span class="fu">first</span>()</span>
<span id="cb59-2177"><a href="#cb59-2177" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-2178"><a href="#cb59-2178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2179"><a href="#cb59-2179" aria-hidden="true" tabindex="-1"></a>n_other_leisure <span class="ot">&lt;-</span> scales<span class="sc">::</span><span class="fu">comma</span>(</span>
<span id="cb59-2180"><a href="#cb59-2180" aria-hidden="true" tabindex="-1"></a>  activity_summary <span class="sc">|&gt;</span></span>
<span id="cb59-2181"><a href="#cb59-2181" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(activity_label <span class="sc">==</span> <span class="st">"other_leisure"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2182"><a href="#cb59-2182" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(total) <span class="sc">|&gt;</span></span>
<span id="cb59-2183"><a href="#cb59-2183" aria-hidden="true" tabindex="-1"></a>    <span class="fu">first</span>()</span>
<span id="cb59-2184"><a href="#cb59-2184" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-2185"><a href="#cb59-2185" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-2186"><a href="#cb59-2186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2189"><a href="#cb59-2189" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-2190"><a href="#cb59-2190" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: h3-model</span></span>
<span id="cb59-2191"><a href="#cb59-2191" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-2192"><a href="#cb59-2192" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Fit H3 models: displaced core domain → global NS)"</span></span>
<span id="cb59-2193"><a href="#cb59-2193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2194"><a href="#cb59-2194" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb59-2195"><a href="#cb59-2195" aria-hidden="true" tabindex="-1"></a>h3_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/h3_fits.rds"</span></span>
<span id="cb59-2196"><a href="#cb59-2196" aria-hidden="true" tabindex="-1"></a>h3_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/h3_pooled.rds"</span></span>
<span id="cb59-2197"><a href="#cb59-2197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2198"><a href="#cb59-2198" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(h3_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(h3_pooled_file)) {</span>
<span id="cb59-2199"><a href="#cb59-2199" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached H3 model fits"</span>)</span>
<span id="cb59-2200"><a href="#cb59-2200" aria-hidden="true" tabindex="-1"></a>  h3_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(h3_cache_file)</span>
<span id="cb59-2201"><a href="#cb59-2201" aria-hidden="true" tabindex="-1"></a>  h3_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(h3_pooled_file)</span>
<span id="cb59-2202"><a href="#cb59-2202" aria-hidden="true" tabindex="-1"></a>  h3mod <span class="ot">&lt;-</span> h3_fits[[<span class="dv">1</span>]]</span>
<span id="cb59-2203"><a href="#cb59-2203" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-2204"><a href="#cb59-2204" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting H3 models..."</span>)</span>
<span id="cb59-2205"><a href="#cb59-2205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2206"><a href="#cb59-2206" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit model to each imputed dataset</span></span>
<span id="cb59-2207"><a href="#cb59-2207" aria-hidden="true" tabindex="-1"></a>  h3_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb59-2208"><a href="#cb59-2208" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb59-2209"><a href="#cb59-2209" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb59-2210"><a href="#cb59-2210" aria-hidden="true" tabindex="-1"></a>      global_ns <span class="sc">~</span> displaced_core_domain <span class="sc">+</span></span>
<span id="cb59-2211"><a href="#cb59-2211" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">+</span> displaced_core_domain <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-2212"><a href="#cb59-2212" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-2213"><a href="#cb59-2213" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i</span>
<span id="cb59-2214"><a href="#cb59-2214" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-2215"><a href="#cb59-2215" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb59-2216"><a href="#cb59-2216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2217"><a href="#cb59-2217" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pool estimates using Rubin's rules</span></span>
<span id="cb59-2218"><a href="#cb59-2218" aria-hidden="true" tabindex="-1"></a>  h3_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(h3_fits)</span>
<span id="cb59-2219"><a href="#cb59-2219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2220"><a href="#cb59-2220" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use first imputation's model for plotting</span></span>
<span id="cb59-2221"><a href="#cb59-2221" aria-hidden="true" tabindex="-1"></a>  h3mod <span class="ot">&lt;-</span> h3_fits[[<span class="dv">1</span>]]</span>
<span id="cb59-2222"><a href="#cb59-2222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2223"><a href="#cb59-2223" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save results</span></span>
<span id="cb59-2224"><a href="#cb59-2224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="st">"data/models"</span>, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-2225"><a href="#cb59-2225" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(h3_fits, h3_cache_file)</span>
<span id="cb59-2226"><a href="#cb59-2226" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(h3_pooled, h3_pooled_file)</span>
<span id="cb59-2227"><a href="#cb59-2227" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Saved H3 model fits to cache"</span>)</span>
<span id="cb59-2228"><a href="#cb59-2228" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-2229"><a href="#cb59-2229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2230"><a href="#cb59-2230" aria-hidden="true" tabindex="-1"></a>h3_est <span class="ot">&lt;-</span> <span class="fu">number</span>(</span>
<span id="cb59-2231"><a href="#cb59-2231" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(h3_pooled) <span class="sc">|&gt;</span></span>
<span id="cb59-2232"><a href="#cb59-2232" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-2233"><a href="#cb59-2233" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"displaced_core_domainTRUE"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2234"><a href="#cb59-2234" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(estimate),</span>
<span id="cb59-2235"><a href="#cb59-2235" aria-hidden="true" tabindex="-1"></a>  .<span class="dv">01</span></span>
<span id="cb59-2236"><a href="#cb59-2236" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-2237"><a href="#cb59-2237" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-2238"><a href="#cb59-2238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2239"><a href="#cb59-2239" aria-hidden="true" tabindex="-1"></a>::: {.place arguments='top, scope: "parent", float: true'}</span>
<span id="cb59-2240"><a href="#cb59-2240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2243"><a href="#cb59-2243" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-2244"><a href="#cb59-2244" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-h3-predictions</span></span>
<span id="cb59-2245"><a href="#cb59-2245" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Global need satisfaction when gaming displaces vs. does not displace core life domains. Raincloud plot shows distribution (histogram), mean with 95% quantile interval, and line connecting means to emphasize the negligible difference."</span></span>
<span id="cb59-2246"><a href="#cb59-2246" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Plot H3: displaced activity categories vs global NS)"</span></span>
<span id="cb59-2247"><a href="#cb59-2247" aria-hidden="true" tabindex="-1"></a><span class="co">#| out-width: 60%</span></span>
<span id="cb59-2248"><a href="#cb59-2248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2249"><a href="#cb59-2249" aria-hidden="true" tabindex="-1"></a><span class="co"># Get raw data from first imputation for visualization</span></span>
<span id="cb59-2250"><a href="#cb59-2250" aria-hidden="true" tabindex="-1"></a>h3_data <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span></span>
<span id="cb59-2251"><a href="#cb59-2251" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(.imp <span class="sc">==</span> <span class="dv">1</span>, <span class="sc">!</span><span class="fu">is.na</span>(displaced_core_domain)) <span class="sc">|&gt;</span></span>
<span id="cb59-2252"><a href="#cb59-2252" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-2253"><a href="#cb59-2253" aria-hidden="true" tabindex="-1"></a>    <span class="at">displacement_label =</span> <span class="fu">if_else</span>(</span>
<span id="cb59-2254"><a href="#cb59-2254" aria-hidden="true" tabindex="-1"></a>      displaced_core_domain,</span>
<span id="cb59-2255"><a href="#cb59-2255" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Displaced core domain"</span>,</span>
<span id="cb59-2256"><a href="#cb59-2256" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Displaced non-core domain"</span></span>
<span id="cb59-2257"><a href="#cb59-2257" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-2258"><a href="#cb59-2258" aria-hidden="true" tabindex="-1"></a>    <span class="at">x_numeric =</span> <span class="fu">if_else</span>(displaced_core_domain, <span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb59-2259"><a href="#cb59-2259" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-2260"><a href="#cb59-2260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2261"><a href="#cb59-2261" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate means for each group (to match what stat_histinterval will show)</span></span>
<span id="cb59-2262"><a href="#cb59-2262" aria-hidden="true" tabindex="-1"></a>h3_means <span class="ot">&lt;-</span> h3_data <span class="sc">|&gt;</span></span>
<span id="cb59-2263"><a href="#cb59-2263" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(x_numeric, displacement_label) <span class="sc">|&gt;</span></span>
<span id="cb59-2264"><a href="#cb59-2264" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_ns =</span> <span class="fu">mean</span>(global_ns, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb59-2265"><a href="#cb59-2265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2266"><a href="#cb59-2266" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(h3_data, <span class="fu">aes</span>(<span class="at">x =</span> x_numeric, <span class="at">y =</span> global_ns)) <span class="sc">+</span></span>
<span id="cb59-2267"><a href="#cb59-2267" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Raincloud plot with asymmetric histograms</span></span>
<span id="cb59-2268"><a href="#cb59-2268" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_histinterval</span>(</span>
<span id="cb59-2269"><a href="#cb59-2269" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> h3_data <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span>displaced_core_domain),</span>
<span id="cb59-2270"><a href="#cb59-2270" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">fill =</span> displacement_label),</span>
<span id="cb59-2271"><a href="#cb59-2271" aria-hidden="true" tabindex="-1"></a>    <span class="at">slab_alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb59-2272"><a href="#cb59-2272" aria-hidden="true" tabindex="-1"></a>    <span class="at">point_interval =</span> mean_qi,</span>
<span id="cb59-2273"><a href="#cb59-2273" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">7</span>, <span class="at">by =</span> .<span class="dv">4</span>),</span>
<span id="cb59-2274"><a href="#cb59-2274" aria-hidden="true" tabindex="-1"></a>    <span class="at">interval_color =</span> <span class="st">"black"</span>,</span>
<span id="cb59-2275"><a href="#cb59-2275" aria-hidden="true" tabindex="-1"></a>    <span class="at">point_color =</span> <span class="st">"black"</span>,</span>
<span id="cb59-2276"><a href="#cb59-2276" aria-hidden="true" tabindex="-1"></a>    <span class="at">point_size =</span> <span class="dv">3</span>,</span>
<span id="cb59-2277"><a href="#cb59-2277" aria-hidden="true" tabindex="-1"></a>    <span class="at">slab_fill =</span> colors<span class="sc">$</span>global_ns,</span>
<span id="cb59-2278"><a href="#cb59-2278" aria-hidden="true" tabindex="-1"></a>    <span class="at">side =</span> <span class="st">"left"</span></span>
<span id="cb59-2279"><a href="#cb59-2279" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-2280"><a href="#cb59-2280" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_histinterval</span>(</span>
<span id="cb59-2281"><a href="#cb59-2281" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> h3_data <span class="sc">|&gt;</span> <span class="fu">filter</span>(displaced_core_domain),</span>
<span id="cb59-2282"><a href="#cb59-2282" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">fill =</span> displacement_label),</span>
<span id="cb59-2283"><a href="#cb59-2283" aria-hidden="true" tabindex="-1"></a>    <span class="at">slab_alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb59-2284"><a href="#cb59-2284" aria-hidden="true" tabindex="-1"></a>    <span class="at">point_interval =</span> mean_qi,</span>
<span id="cb59-2285"><a href="#cb59-2285" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">7</span>, <span class="at">by =</span> .<span class="dv">4</span>),</span>
<span id="cb59-2286"><a href="#cb59-2286" aria-hidden="true" tabindex="-1"></a>    <span class="at">interval_color =</span> <span class="st">"black"</span>,</span>
<span id="cb59-2287"><a href="#cb59-2287" aria-hidden="true" tabindex="-1"></a>    <span class="at">point_color =</span> <span class="st">"black"</span>,</span>
<span id="cb59-2288"><a href="#cb59-2288" aria-hidden="true" tabindex="-1"></a>    <span class="at">point_size =</span> <span class="dv">3</span>,</span>
<span id="cb59-2289"><a href="#cb59-2289" aria-hidden="true" tabindex="-1"></a>    <span class="at">slab_fill =</span> colors<span class="sc">$</span>global_ns,</span>
<span id="cb59-2290"><a href="#cb59-2290" aria-hidden="true" tabindex="-1"></a>    <span class="at">side =</span> <span class="st">"right"</span></span>
<span id="cb59-2291"><a href="#cb59-2291" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-2292"><a href="#cb59-2292" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Line connecting the mean point estimates</span></span>
<span id="cb59-2293"><a href="#cb59-2293" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(</span>
<span id="cb59-2294"><a href="#cb59-2294" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> h3_means,</span>
<span id="cb59-2295"><a href="#cb59-2295" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> x_numeric, <span class="at">y =</span> mean_ns),</span>
<span id="cb59-2296"><a href="#cb59-2296" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"black"</span>,</span>
<span id="cb59-2297"><a href="#cb59-2297" aria-hidden="true" tabindex="-1"></a>    <span class="at">linewidth =</span> <span class="fl">0.8</span>,</span>
<span id="cb59-2298"><a href="#cb59-2298" aria-hidden="true" tabindex="-1"></a>    <span class="at">linetype =</span> <span class="st">"solid"</span></span>
<span id="cb59-2299"><a href="#cb59-2299" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-2300"><a href="#cb59-2300" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb59-2301"><a href="#cb59-2301" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb59-2302"><a href="#cb59-2302" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Displaced non-core</span><span class="sc">\n</span><span class="st">domain"</span>, <span class="st">"Displaced core</span><span class="sc">\n</span><span class="st">domain"</span>)</span>
<span id="cb59-2303"><a href="#cb59-2303" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-2304"><a href="#cb59-2304" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb59-2305"><a href="#cb59-2305" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>,</span>
<span id="cb59-2306"><a href="#cb59-2306" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">7</span>)</span>
<span id="cb59-2307"><a href="#cb59-2307" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-2308"><a href="#cb59-2308" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb59-2309"><a href="#cb59-2309" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb59-2310"><a href="#cb59-2310" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> labels[<span class="st">"global_ns"</span>]</span>
<span id="cb59-2311"><a href="#cb59-2311" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-2312"><a href="#cb59-2312" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb59-2313"><a href="#cb59-2313" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>),</span>
<span id="cb59-2314"><a href="#cb59-2314" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb59-2315"><a href="#cb59-2315" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span></span>
<span id="cb59-2316"><a href="#cb59-2316" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-2317"><a href="#cb59-2317" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-2318"><a href="#cb59-2318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2319"><a href="#cb59-2319" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb59-2320"><a href="#cb59-2320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2321"><a href="#cb59-2321" aria-hidden="true" tabindex="-1"></a>Participants reported what activity their gaming session displaced <span class="in">`r total_responses`</span> times across the study. In <span class="in">`r n_core`</span> cases (<span class="in">`r pct_core`</span>%), gaming displaced a core life domain: sleep, eating, or fitness (*n* = `r n_sleep`), social engagements (*n* = `r n_social`), work or school (*n* = `r n_work`), or caretaking (*n* = `r n_caretaking`). Gaming most commonly displaced non-core activities such as other digital media use (*n* = `r n_digital_media`) and other leisure activities (*n* = <span class="in">`r n_other_leisure`</span>).</span>
<span id="cb59-2322"><a href="#cb59-2322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2323"><a href="#cb59-2323" aria-hidden="true" tabindex="-1"></a>Results provide very weak support for H3: on average, people who reported that their most recent gaming session displaced a core life domain reported <span class="in">`r h3_est`</span> lower global need satisfaction. On a 7-point scale, this difference is extremely small, and the distributions of global need satisfaction when gaming displaced core vs. non-core domains are nearly identical (@fig-h3-predictions).</span>
<span id="cb59-2324"><a href="#cb59-2324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2325"><a href="#cb59-2325" aria-hidden="true" tabindex="-1"></a>An exploratory analysis (Appendix Sensitivity Analysis 10) examined whether this relationship differed for specific displaced life domains. Results showed that need satisfaction was lower when gaming displaced work/school responsibilities and sleep/eating/fitness, but---contrary to expectations---tended to be higher when gaming displaced social engagements or caretaking. We return to this in the discussion. </span>
<span id="cb59-2326"><a href="#cb59-2326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2329"><a href="#cb59-2329" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-2330"><a href="#cb59-2330" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-main-results</span></span>
<span id="cb59-2331"><a href="#cb59-2331" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Summary of main hypothesis tests (H1-H3)"</span></span>
<span id="cb59-2332"><a href="#cb59-2332" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Create combined results table)"</span></span>
<span id="cb59-2333"><a href="#cb59-2333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2334"><a href="#cb59-2334" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all three hypothesis results into one table</span></span>
<span id="cb59-2335"><a href="#cb59-2335" aria-hidden="true" tabindex="-1"></a>h1_combined <span class="ot">&lt;-</span> <span class="fu">summary</span>(h1_pooled) <span class="sc">|&gt;</span></span>
<span id="cb59-2336"><a href="#cb59-2336" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-2337"><a href="#cb59-2337" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>, <span class="sc">!</span><span class="fu">str_detect</span>(term, <span class="st">"_cb"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-2338"><a href="#cb59-2338" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, estimate, std.error, statistic, p.value) <span class="sc">|&gt;</span></span>
<span id="cb59-2339"><a href="#cb59-2339" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-2340"><a href="#cb59-2340" aria-hidden="true" tabindex="-1"></a>    <span class="at">Model =</span> <span class="st">"H1: game NS → global NS"</span>,</span>
<span id="cb59-2341"><a href="#cb59-2341" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term),</span>
<span id="cb59-2342"><a href="#cb59-2342" aria-hidden="true" tabindex="-1"></a>    <span class="at">test_stat =</span> <span class="st">"t"</span></span>
<span id="cb59-2343"><a href="#cb59-2343" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-2344"><a href="#cb59-2344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2345"><a href="#cb59-2345" aria-hidden="true" tabindex="-1"></a>h2_combined <span class="ot">&lt;-</span> <span class="fu">summary</span>(h2_pooled) <span class="sc">|&gt;</span></span>
<span id="cb59-2346"><a href="#cb59-2346" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-2347"><a href="#cb59-2347" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>, <span class="sc">!</span><span class="fu">str_detect</span>(term, <span class="st">"_cb"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-2348"><a href="#cb59-2348" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, estimate, std.error, statistic, p.value) <span class="sc">|&gt;</span></span>
<span id="cb59-2349"><a href="#cb59-2349" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-2350"><a href="#cb59-2350" aria-hidden="true" tabindex="-1"></a>    <span class="at">Model =</span> <span class="st">"H2: game NS + global NF → play"</span>,</span>
<span id="cb59-2351"><a href="#cb59-2351" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term),</span>
<span id="cb59-2352"><a href="#cb59-2352" aria-hidden="true" tabindex="-1"></a>    <span class="at">test_stat =</span> <span class="st">"z"</span></span>
<span id="cb59-2353"><a href="#cb59-2353" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-2354"><a href="#cb59-2354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2355"><a href="#cb59-2355" aria-hidden="true" tabindex="-1"></a>h3_combined <span class="ot">&lt;-</span> <span class="fu">summary</span>(h3_pooled) <span class="sc">|&gt;</span></span>
<span id="cb59-2356"><a href="#cb59-2356" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-2357"><a href="#cb59-2357" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2358"><a href="#cb59-2358" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, estimate, std.error, statistic, p.value) <span class="sc">|&gt;</span></span>
<span id="cb59-2359"><a href="#cb59-2359" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-2360"><a href="#cb59-2360" aria-hidden="true" tabindex="-1"></a>    <span class="at">Model =</span> <span class="st">"H3: displaced core → global NS"</span>,</span>
<span id="cb59-2361"><a href="#cb59-2361" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term),</span>
<span id="cb59-2362"><a href="#cb59-2362" aria-hidden="true" tabindex="-1"></a>    <span class="at">test_stat =</span> <span class="st">"t"</span></span>
<span id="cb59-2363"><a href="#cb59-2363" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-2364"><a href="#cb59-2364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2365"><a href="#cb59-2365" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine and format</span></span>
<span id="cb59-2366"><a href="#cb59-2366" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(h1_combined, h2_combined, h3_combined) <span class="sc">|&gt;</span></span>
<span id="cb59-2367"><a href="#cb59-2367" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-2368"><a href="#cb59-2368" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(estimate, std.error, statistic), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>)),</span>
<span id="cb59-2369"><a href="#cb59-2369" aria-hidden="true" tabindex="-1"></a>    <span class="at">p.value =</span> <span class="fu">case_when</span>(</span>
<span id="cb59-2370"><a href="#cb59-2370" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;.001"</span>,</span>
<span id="cb59-2371"><a href="#cb59-2371" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(<span class="fu">round</span>(p.value, <span class="dv">3</span>))</span>
<span id="cb59-2372"><a href="#cb59-2372" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-2373"><a href="#cb59-2373" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create combined test statistic column with appropriate label</span></span>
<span id="cb59-2374"><a href="#cb59-2374" aria-hidden="true" tabindex="-1"></a>    <span class="at">test_result =</span> <span class="fu">glue</span>(<span class="st">"{statistic} ({test_stat})"</span>)</span>
<span id="cb59-2375"><a href="#cb59-2375" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-2376"><a href="#cb59-2376" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb59-2377"><a href="#cb59-2377" aria-hidden="true" tabindex="-1"></a>    Model,</span>
<span id="cb59-2378"><a href="#cb59-2378" aria-hidden="true" tabindex="-1"></a>    <span class="at">Parameter =</span> term,</span>
<span id="cb59-2379"><a href="#cb59-2379" aria-hidden="true" tabindex="-1"></a>    <span class="at">Estimate =</span> estimate,</span>
<span id="cb59-2380"><a href="#cb59-2380" aria-hidden="true" tabindex="-1"></a>    <span class="at">SE =</span> std.error,</span>
<span id="cb59-2381"><a href="#cb59-2381" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Statistic</span><span class="st">`</span> <span class="ot">=</span> test_result,</span>
<span id="cb59-2382"><a href="#cb59-2382" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">p</span><span class="st">`</span> <span class="ot">=</span> p.value</span>
<span id="cb59-2383"><a href="#cb59-2383" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-2384"><a href="#cb59-2384" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-2385"><a href="#cb59-2385" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2386"><a href="#cb59-2386" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2387"><a href="#cb59-2387" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_tt</span>(<span class="at">j =</span> <span class="st">"Model"</span>)</span>
<span id="cb59-2388"><a href="#cb59-2388" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-2389"><a href="#cb59-2389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2390"><a href="#cb59-2390" aria-hidden="true" tabindex="-1"></a><span class="fu"># Study 2: Exploratory Evidence from PowerWash Simulator</span></span>
<span id="cb59-2391"><a href="#cb59-2391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2394"><a href="#cb59-2394" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-2395"><a href="#cb59-2395" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: study2-data-download</span></span>
<span id="cb59-2396"><a href="#cb59-2396" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Download PWS data from OSF)"</span></span>
<span id="cb59-2397"><a href="#cb59-2397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2398"><a href="#cb59-2398" aria-hidden="true" tabindex="-1"></a><span class="co"># Download PWS data from OSF</span></span>
<span id="cb59-2399"><a href="#cb59-2399" aria-hidden="true" tabindex="-1"></a>path_pws <span class="ot">&lt;-</span> <span class="st">"data/pws/pws_data.zip"</span></span>
<span id="cb59-2400"><a href="#cb59-2400" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(path_pws)) {</span>
<span id="cb59-2401"><a href="#cb59-2401" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="st">"data/pws"</span>, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-2402"><a href="#cb59-2402" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(</span>
<span id="cb59-2403"><a href="#cb59-2403" aria-hidden="true" tabindex="-1"></a>    <span class="at">url =</span> <span class="st">"https://osf.io/download/j48qf/"</span>,</span>
<span id="cb59-2404"><a href="#cb59-2404" aria-hidden="true" tabindex="-1"></a>    <span class="at">destfile =</span> path_pws</span>
<span id="cb59-2405"><a href="#cb59-2405" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-2406"><a href="#cb59-2406" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-2407"><a href="#cb59-2407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2408"><a href="#cb59-2408" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract only the study_prompt_answered.csv file we need</span></span>
<span id="cb59-2409"><a href="#cb59-2409" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(<span class="st">"data/pws/study_prompt_answered.csv"</span>)) {</span>
<span id="cb59-2410"><a href="#cb59-2410" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unzip</span>(</span>
<span id="cb59-2411"><a href="#cb59-2411" aria-hidden="true" tabindex="-1"></a>    <span class="at">zipfile =</span> path_pws,</span>
<span id="cb59-2412"><a href="#cb59-2412" aria-hidden="true" tabindex="-1"></a>    <span class="at">files =</span> <span class="st">"data/study_prompt_answered.csv"</span>,</span>
<span id="cb59-2413"><a href="#cb59-2413" aria-hidden="true" tabindex="-1"></a>    <span class="at">exdir =</span> <span class="st">"data/pws"</span>,</span>
<span id="cb59-2414"><a href="#cb59-2414" aria-hidden="true" tabindex="-1"></a>    <span class="at">junkpaths =</span> <span class="cn">TRUE</span></span>
<span id="cb59-2415"><a href="#cb59-2415" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-2416"><a href="#cb59-2416" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-2417"><a href="#cb59-2417" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-2418"><a href="#cb59-2418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2421"><a href="#cb59-2421" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-2422"><a href="#cb59-2422" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: study2-data-prep</span></span>
<span id="cb59-2423"><a href="#cb59-2423" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Prepare PWS session data)"</span></span>
<span id="cb59-2424"><a href="#cb59-2424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2425"><a href="#cb59-2425" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(<span class="st">"data/pws/pws_sessions.csv"</span>)) {</span>
<span id="cb59-2426"><a href="#cb59-2426" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Load and process prompts</span></span>
<span id="cb59-2427"><a href="#cb59-2427" aria-hidden="true" tabindex="-1"></a>  pws_raw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb59-2428"><a href="#cb59-2428" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data/pws/study_prompt_answered.csv"</span>,</span>
<span id="cb59-2429"><a href="#cb59-2429" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_select =</span> <span class="fu">c</span>(</span>
<span id="cb59-2430"><a href="#cb59-2430" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb59-2431"><a href="#cb59-2431" aria-hidden="true" tabindex="-1"></a>      <span class="at">time =</span> Time_utc,</span>
<span id="cb59-2432"><a href="#cb59-2432" aria-hidden="true" tabindex="-1"></a>      <span class="at">duration =</span> CurrentSessionLength,</span>
<span id="cb59-2433"><a href="#cb59-2433" aria-hidden="true" tabindex="-1"></a>      <span class="at">prompt =</span> LastStudyPromptType,</span>
<span id="cb59-2434"><a href="#cb59-2434" aria-hidden="true" tabindex="-1"></a>      response</span>
<span id="cb59-2435"><a href="#cb59-2435" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-2436"><a href="#cb59-2436" aria-hidden="true" tabindex="-1"></a>    <span class="at">show_col_types =</span> <span class="cn">FALSE</span></span>
<span id="cb59-2437"><a href="#cb59-2437" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-2438"><a href="#cb59-2438" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb59-2439"><a href="#cb59-2439" aria-hidden="true" tabindex="-1"></a>      <span class="at">pid =</span> <span class="fu">factor</span>(pid),</span>
<span id="cb59-2440"><a href="#cb59-2440" aria-hidden="true" tabindex="-1"></a>      <span class="at">response =</span> response <span class="sc">/</span> <span class="dv">100</span></span>
<span id="cb59-2441"><a href="#cb59-2441" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb59-2442"><a href="#cb59-2442" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(pid, time) <span class="sc">|&gt;</span></span>
<span id="cb59-2443"><a href="#cb59-2443" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb59-2444"><a href="#cb59-2444" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Calculate time since last prompt in minutes</span></span>
<span id="cb59-2445"><a href="#cb59-2445" aria-hidden="true" tabindex="-1"></a>      <span class="at">time_since_last =</span> <span class="fu">as.numeric</span>(</span>
<span id="cb59-2446"><a href="#cb59-2446" aria-hidden="true" tabindex="-1"></a>        <span class="fu">difftime</span>(</span>
<span id="cb59-2447"><a href="#cb59-2447" aria-hidden="true" tabindex="-1"></a>          time,</span>
<span id="cb59-2448"><a href="#cb59-2448" aria-hidden="true" tabindex="-1"></a>          <span class="fu">lag</span>(time, <span class="dv">1</span>, <span class="at">default =</span> <span class="fu">as_datetime</span>(<span class="st">"1970-01-01"</span>)),</span>
<span id="cb59-2449"><a href="#cb59-2449" aria-hidden="true" tabindex="-1"></a>          <span class="at">units =</span> <span class="st">"mins"</span></span>
<span id="cb59-2450"><a href="#cb59-2450" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb59-2451"><a href="#cb59-2451" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb59-2452"><a href="#cb59-2452" aria-hidden="true" tabindex="-1"></a>      <span class="co"># New session if gap &gt; 30 minutes</span></span>
<span id="cb59-2453"><a href="#cb59-2453" aria-hidden="true" tabindex="-1"></a>      <span class="at">new_session =</span> time_since_last <span class="sc">&gt;</span> <span class="dv">30</span>,</span>
<span id="cb59-2454"><a href="#cb59-2454" aria-hidden="true" tabindex="-1"></a>      <span class="at">session =</span> <span class="fu">cumsum</span>(new_session),</span>
<span id="cb59-2455"><a href="#cb59-2455" aria-hidden="true" tabindex="-1"></a>      <span class="at">.by =</span> pid</span>
<span id="cb59-2456"><a href="#cb59-2456" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb59-2457"><a href="#cb59-2457" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>time_since_last)</span>
<span id="cb59-2458"><a href="#cb59-2458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2459"><a href="#cb59-2459" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save prompt-level data for troubleshooting (includes all prompt times)</span></span>
<span id="cb59-2460"><a href="#cb59-2460" aria-hidden="true" tabindex="-1"></a>  pws_prompts_detail <span class="ot">&lt;-</span> pws_raw <span class="sc">|&gt;</span></span>
<span id="cb59-2461"><a href="#cb59-2461" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>new_session) <span class="sc">|&gt;</span></span>
<span id="cb59-2462"><a href="#cb59-2462" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(pid, session) <span class="sc">|&gt;</span></span>
<span id="cb59-2463"><a href="#cb59-2463" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2464"><a href="#cb59-2464" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb59-2465"><a href="#cb59-2465" aria-hidden="true" tabindex="-1"></a>      <span class="at">prompt_time =</span> time,</span>
<span id="cb59-2466"><a href="#cb59-2466" aria-hidden="true" tabindex="-1"></a>      <span class="at">first_time =</span> <span class="fu">first</span>(time),</span>
<span id="cb59-2467"><a href="#cb59-2467" aria-hidden="true" tabindex="-1"></a>      <span class="at">first_duration =</span> <span class="fu">first</span>(duration),</span>
<span id="cb59-2468"><a href="#cb59-2468" aria-hidden="true" tabindex="-1"></a>      <span class="at">startTime =</span> <span class="fu">if_else</span>(</span>
<span id="cb59-2469"><a href="#cb59-2469" aria-hidden="true" tabindex="-1"></a>        first_duration <span class="sc">&lt;</span> <span class="dv">15</span>,</span>
<span id="cb59-2470"><a href="#cb59-2470" aria-hidden="true" tabindex="-1"></a>        first_time <span class="sc">-</span> first_duration <span class="sc">*</span> <span class="dv">60</span>,</span>
<span id="cb59-2471"><a href="#cb59-2471" aria-hidden="true" tabindex="-1"></a>        first_time</span>
<span id="cb59-2472"><a href="#cb59-2472" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb59-2473"><a href="#cb59-2473" aria-hidden="true" tabindex="-1"></a>      <span class="at">startTime =</span> <span class="fu">min</span>(startTime),</span>
<span id="cb59-2474"><a href="#cb59-2474" aria-hidden="true" tabindex="-1"></a>      <span class="at">endTime =</span> <span class="fu">max</span>(time),</span>
<span id="cb59-2475"><a href="#cb59-2475" aria-hidden="true" tabindex="-1"></a>      <span class="at">sessionLength =</span> <span class="fu">round</span>(<span class="fu">as.integer</span>(endTime <span class="sc">-</span> startTime) <span class="sc">/</span> <span class="dv">60</span>, <span class="dv">2</span>)</span>
<span id="cb59-2476"><a href="#cb59-2476" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb59-2477"><a href="#cb59-2477" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-2478"><a href="#cb59-2478" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(</span>
<span id="cb59-2479"><a href="#cb59-2479" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb59-2480"><a href="#cb59-2480" aria-hidden="true" tabindex="-1"></a>      session,</span>
<span id="cb59-2481"><a href="#cb59-2481" aria-hidden="true" tabindex="-1"></a>      prompt_time,</span>
<span id="cb59-2482"><a href="#cb59-2482" aria-hidden="true" tabindex="-1"></a>      prompt,</span>
<span id="cb59-2483"><a href="#cb59-2483" aria-hidden="true" tabindex="-1"></a>      response,</span>
<span id="cb59-2484"><a href="#cb59-2484" aria-hidden="true" tabindex="-1"></a>      duration,</span>
<span id="cb59-2485"><a href="#cb59-2485" aria-hidden="true" tabindex="-1"></a>      startTime,</span>
<span id="cb59-2486"><a href="#cb59-2486" aria-hidden="true" tabindex="-1"></a>      endTime,</span>
<span id="cb59-2487"><a href="#cb59-2487" aria-hidden="true" tabindex="-1"></a>      sessionLength</span>
<span id="cb59-2488"><a href="#cb59-2488" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-2489"><a href="#cb59-2489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2490"><a href="#cb59-2490" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize for analysis</span></span>
<span id="cb59-2491"><a href="#cb59-2491" aria-hidden="true" tabindex="-1"></a>  pws_prompts <span class="ot">&lt;-</span> pws_raw <span class="sc">|&gt;</span></span>
<span id="cb59-2492"><a href="#cb59-2492" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>new_session) <span class="sc">|&gt;</span></span>
<span id="cb59-2493"><a href="#cb59-2493" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(pid, session) <span class="sc">|&gt;</span></span>
<span id="cb59-2494"><a href="#cb59-2494" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2495"><a href="#cb59-2495" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb59-2496"><a href="#cb59-2496" aria-hidden="true" tabindex="-1"></a>      <span class="at">first_time =</span> <span class="fu">first</span>(time),</span>
<span id="cb59-2497"><a href="#cb59-2497" aria-hidden="true" tabindex="-1"></a>      <span class="at">first_duration =</span> <span class="fu">first</span>(duration),</span>
<span id="cb59-2498"><a href="#cb59-2498" aria-hidden="true" tabindex="-1"></a>      <span class="at">startTime =</span> <span class="fu">if_else</span>(</span>
<span id="cb59-2499"><a href="#cb59-2499" aria-hidden="true" tabindex="-1"></a>        first_duration <span class="sc">&lt;</span> <span class="dv">15</span>,</span>
<span id="cb59-2500"><a href="#cb59-2500" aria-hidden="true" tabindex="-1"></a>        first_time <span class="sc">-</span> first_duration <span class="sc">*</span> <span class="dv">60</span>,</span>
<span id="cb59-2501"><a href="#cb59-2501" aria-hidden="true" tabindex="-1"></a>        first_time</span>
<span id="cb59-2502"><a href="#cb59-2502" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb59-2503"><a href="#cb59-2503" aria-hidden="true" tabindex="-1"></a>      <span class="at">startTime =</span> <span class="fu">min</span>(startTime),</span>
<span id="cb59-2504"><a href="#cb59-2504" aria-hidden="true" tabindex="-1"></a>      <span class="at">endTime =</span> <span class="fu">max</span>(time)</span>
<span id="cb59-2505"><a href="#cb59-2505" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb59-2506"><a href="#cb59-2506" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>first_time, <span class="sc">-</span>first_duration) <span class="sc">|&gt;</span></span>
<span id="cb59-2507"><a href="#cb59-2507" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(pid, session, prompt) <span class="sc">|&gt;</span></span>
<span id="cb59-2508"><a href="#cb59-2508" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb59-2509"><a href="#cb59-2509" aria-hidden="true" tabindex="-1"></a>      <span class="at">numPrompts =</span> <span class="fu">n</span>(),</span>
<span id="cb59-2510"><a href="#cb59-2510" aria-hidden="true" tabindex="-1"></a>      <span class="at">mean =</span> <span class="fu">mean</span>(response, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-2511"><a href="#cb59-2511" aria-hidden="true" tabindex="-1"></a>      <span class="at">startTime =</span> <span class="fu">first</span>(startTime),</span>
<span id="cb59-2512"><a href="#cb59-2512" aria-hidden="true" tabindex="-1"></a>      <span class="at">endTime =</span> <span class="fu">first</span>(endTime),</span>
<span id="cb59-2513"><a href="#cb59-2513" aria-hidden="true" tabindex="-1"></a>      <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb59-2514"><a href="#cb59-2514" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb59-2515"><a href="#cb59-2515" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb59-2516"><a href="#cb59-2516" aria-hidden="true" tabindex="-1"></a>      <span class="at">sessionLength =</span> <span class="fu">round</span>(<span class="fu">as.integer</span>(endTime <span class="sc">-</span> startTime) <span class="sc">/</span> <span class="dv">60</span>, <span class="dv">2</span>),</span>
<span id="cb59-2517"><a href="#cb59-2517" aria-hidden="true" tabindex="-1"></a>      <span class="at">mean =</span> <span class="fu">ifelse</span>(<span class="fu">is.nan</span>(mean), <span class="cn">NA_real_</span>, mean)</span>
<span id="cb59-2518"><a href="#cb59-2518" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-2519"><a href="#cb59-2519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2520"><a href="#cb59-2520" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert to wide format</span></span>
<span id="cb59-2521"><a href="#cb59-2521" aria-hidden="true" tabindex="-1"></a>  pws_wide <span class="ot">&lt;-</span> pws_prompts <span class="sc">|&gt;</span></span>
<span id="cb59-2522"><a href="#cb59-2522" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sessionLength <span class="sc">&gt;</span> <span class="dv">5</span> <span class="sc">&amp;</span> sessionLength <span class="sc">&lt;</span> <span class="dv">480</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2523"><a href="#cb59-2523" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_wider</span>(</span>
<span id="cb59-2524"><a href="#cb59-2524" aria-hidden="true" tabindex="-1"></a>      <span class="at">id_cols =</span> <span class="fu">c</span>(pid, session, startTime, endTime, sessionLength),</span>
<span id="cb59-2525"><a href="#cb59-2525" aria-hidden="true" tabindex="-1"></a>      <span class="at">names_from =</span> prompt,</span>
<span id="cb59-2526"><a href="#cb59-2526" aria-hidden="true" tabindex="-1"></a>      <span class="at">values_from =</span> <span class="fu">c</span>(numPrompts, mean),</span>
<span id="cb59-2527"><a href="#cb59-2527" aria-hidden="true" tabindex="-1"></a>      <span class="at">names_sort =</span> <span class="cn">TRUE</span></span>
<span id="cb59-2528"><a href="#cb59-2528" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb59-2529"><a href="#cb59-2529" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span><span class="fu">contains</span>(<span class="st">"_NA"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-2530"><a href="#cb59-2530" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-2531"><a href="#cb59-2531" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(pid) <span class="sc">|&gt;</span></span>
<span id="cb59-2532"><a href="#cb59-2532" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb59-2533"><a href="#cb59-2533" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_gap =</span> <span class="fu">lead</span>(start_time, <span class="dv">1</span>) <span class="sc">-</span> end_time,</span>
<span id="cb59-2534"><a href="#cb59-2534" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_gap =</span> <span class="fu">round</span>(<span class="fu">as.integer</span>(session_gap) <span class="sc">/</span> <span class="dv">60</span> <span class="sc">/</span> <span class="dv">60</span>, <span class="dv">2</span>),</span>
<span id="cb59-2535"><a href="#cb59-2535" aria-hidden="true" tabindex="-1"></a>      <span class="at">prev_session_length =</span> <span class="fu">lag</span>(session_length, <span class="dv">1</span>),</span>
<span id="cb59-2536"><a href="#cb59-2536" aria-hidden="true" tabindex="-1"></a>      <span class="at">prev_session_gap =</span> <span class="fu">lag</span>(session_gap, <span class="dv">1</span>),</span>
<span id="cb59-2537"><a href="#cb59-2537" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Combine autonomy and competence into game need satisfaction</span></span>
<span id="cb59-2538"><a href="#cb59-2538" aria-hidden="true" tabindex="-1"></a>      <span class="at">game_ns =</span> (mean_autonomy <span class="sc">+</span> mean_competence) <span class="sc">/</span> <span class="dv">2</span>,</span>
<span id="cb59-2539"><a href="#cb59-2539" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Calculate person means</span></span>
<span id="cb59-2540"><a href="#cb59-2540" aria-hidden="true" tabindex="-1"></a>      <span class="at">game_ns_pm =</span> <span class="fu">mean</span>(game_ns, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-2541"><a href="#cb59-2541" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_length_pm =</span> <span class="fu">mean</span>(session_length, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-2542"><a href="#cb59-2542" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_gap_pm =</span> <span class="fu">mean</span>(session_gap, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-2543"><a href="#cb59-2543" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb59-2544"><a href="#cb59-2544" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-2545"><a href="#cb59-2545" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate grand means and centered values</span></span>
<span id="cb59-2546"><a href="#cb59-2546" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb59-2547"><a href="#cb59-2547" aria-hidden="true" tabindex="-1"></a>      <span class="at">game_ns_gm =</span> <span class="fu">mean</span>(game_ns_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-2548"><a href="#cb59-2548" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_length_gm =</span> <span class="fu">mean</span>(session_length_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-2549"><a href="#cb59-2549" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_gap_gm =</span> <span class="fu">mean</span>(session_gap_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-2550"><a href="#cb59-2550" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Within-person centered (deviation from person mean)</span></span>
<span id="cb59-2551"><a href="#cb59-2551" aria-hidden="true" tabindex="-1"></a>      <span class="at">game_ns_cw =</span> game_ns <span class="sc">-</span> game_ns_pm,</span>
<span id="cb59-2552"><a href="#cb59-2552" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_length_cw =</span> session_length <span class="sc">-</span> session_length_pm,</span>
<span id="cb59-2553"><a href="#cb59-2553" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_gap_cw =</span> session_gap <span class="sc">-</span> session_gap_pm,</span>
<span id="cb59-2554"><a href="#cb59-2554" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Between-person centered (person mean - grand mean)</span></span>
<span id="cb59-2555"><a href="#cb59-2555" aria-hidden="true" tabindex="-1"></a>      <span class="at">game_ns_cb =</span> game_ns_pm <span class="sc">-</span> game_ns_gm,</span>
<span id="cb59-2556"><a href="#cb59-2556" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_length_cb =</span> session_length_pm <span class="sc">-</span> session_length_gm,</span>
<span id="cb59-2557"><a href="#cb59-2557" aria-hidden="true" tabindex="-1"></a>      <span class="at">session_gap_cb =</span> session_gap_pm <span class="sc">-</span> session_gap_gm</span>
<span id="cb59-2558"><a href="#cb59-2558" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb59-2559"><a href="#cb59-2559" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(</span>
<span id="cb59-2560"><a href="#cb59-2560" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb59-2561"><a href="#cb59-2561" aria-hidden="true" tabindex="-1"></a>      session,</span>
<span id="cb59-2562"><a href="#cb59-2562" aria-hidden="true" tabindex="-1"></a>      session_length,</span>
<span id="cb59-2563"><a href="#cb59-2563" aria-hidden="true" tabindex="-1"></a>      session_gap,</span>
<span id="cb59-2564"><a href="#cb59-2564" aria-hidden="true" tabindex="-1"></a>      prev_session_length,</span>
<span id="cb59-2565"><a href="#cb59-2565" aria-hidden="true" tabindex="-1"></a>      prev_session_gap,</span>
<span id="cb59-2566"><a href="#cb59-2566" aria-hidden="true" tabindex="-1"></a>      <span class="fu">everything</span>()</span>
<span id="cb59-2567"><a href="#cb59-2567" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-2568"><a href="#cb59-2568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2569"><a href="#cb59-2569" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_csv</span>(pws_wide, <span class="st">"data/pws/pws_sessions.csv"</span>)</span>
<span id="cb59-2570"><a href="#cb59-2570" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_csv</span>(pws_prompts_detail, <span class="st">"data/pws/pws_prompts_detail.csv"</span>)</span>
<span id="cb59-2571"><a href="#cb59-2571" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-2572"><a href="#cb59-2572" aria-hidden="true" tabindex="-1"></a>  pws_wide <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/pws/pws_sessions.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb59-2573"><a href="#cb59-2573" aria-hidden="true" tabindex="-1"></a>  pws_prompts_detail <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb59-2574"><a href="#cb59-2574" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data/pws/pws_prompts_detail.csv"</span>,</span>
<span id="cb59-2575"><a href="#cb59-2575" aria-hidden="true" tabindex="-1"></a>    <span class="at">show_col_types =</span> <span class="cn">FALSE</span></span>
<span id="cb59-2576"><a href="#cb59-2576" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-2577"><a href="#cb59-2577" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-2578"><a href="#cb59-2578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2579"><a href="#cb59-2579" aria-hidden="true" tabindex="-1"></a><span class="co"># Store sample size for inline reporting</span></span>
<span id="cb59-2580"><a href="#cb59-2580" aria-hidden="true" tabindex="-1"></a>pws_n_players <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">unique</span>(pws_wide<span class="sc">$</span>pid))</span>
<span id="cb59-2581"><a href="#cb59-2581" aria-hidden="true" tabindex="-1"></a>pws_n_sessions <span class="ot">&lt;-</span> <span class="fu">nrow</span>(pws_wide)</span>
<span id="cb59-2582"><a href="#cb59-2582" aria-hidden="true" tabindex="-1"></a>pws_n_players_fmt <span class="ot">&lt;-</span> scales<span class="sc">::</span><span class="fu">comma</span>(pws_n_players)</span>
<span id="cb59-2583"><a href="#cb59-2583" aria-hidden="true" tabindex="-1"></a>pws_n_sessions_fmt <span class="ot">&lt;-</span> scales<span class="sc">::</span><span class="fu">comma</span>(pws_n_sessions)</span>
<span id="cb59-2584"><a href="#cb59-2584" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-2585"><a href="#cb59-2585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2586"><a href="#cb59-2586" aria-hidden="true" tabindex="-1"></a><span class="fu">## Study 2 Method</span></span>
<span id="cb59-2587"><a href="#cb59-2587" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2588"><a href="#cb59-2588" aria-hidden="true" tabindex="-1"></a>To assess whether our findings generalize beyond the Open Play dataset, we examined a previously unpublished dataset from a commercial game study. These data come from *PowerWash Simulator* (PWS), a first-person simulation game where players use pressure washers to clean various objects <span class="co">[</span><span class="ot">@VuorreEtAl2023intensivea</span><span class="co">]</span>. Players were prompted during gameplay to rate their experiences of autonomy, competence, focus, wellbeing, immersion, and enjoyment on 0-100 scales. We linked these ratings to objective play behavior extracted from game logs.</span>
<span id="cb59-2589"><a href="#cb59-2589" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2590"><a href="#cb59-2590" aria-hidden="true" tabindex="-1"></a>The original study procedures were granted ethical approval by Oxford University’s Central University Research Ethics Committee (SSH_OII_CIA_21_011).</span>
<span id="cb59-2591"><a href="#cb59-2591" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2592"><a href="#cb59-2592" aria-hidden="true" tabindex="-1"></a><span class="fu">### Participants</span></span>
<span id="cb59-2593"><a href="#cb59-2593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2594"><a href="#cb59-2594" aria-hidden="true" tabindex="-1"></a>The characteristics of the full sample of 11,080 players in the PWS dataset are described in <span class="co">[</span><span class="ot">@VuorreEtAl2023intensivea</span><span class="co">]</span>; here, we briefly describe the subset of data relevant to our questions. All participants were over 18 years old, provided informed consent, answered at least one mood question, and did not request their data to be deleted. The median age was 27 (19, 40; 1st and 9th deciles), and the four most frequent gender responses were Male (4,537, 52.2%), Female (2,675, 30.8%), Non-binary (723, 8.3%), and Transgender (326, 3.7%). Participants were resident in 39 countries, with the USA (4,917, 56.5%), UK (840, 9.7%), Canada (448, 5.2%), and Germany (390, 4.5%) being the most represented. Recruitment happened in multiple waves through multiple avenues inside and outside of the game. Study participation was incentivized through cosmetic in-game rewards (e.g., item skins). </span>
<span id="cb59-2595"><a href="#cb59-2595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2596"><a href="#cb59-2596" aria-hidden="true" tabindex="-1"></a><span class="fu">### Measures</span></span>
<span id="cb59-2597"><a href="#cb59-2597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2598"><a href="#cb59-2598" aria-hidden="true" tabindex="-1"></a>*Play sessions* were defined as continuous periods of activity separated by gaps in engagement of at least 30 minutes, yielding <span class="in">`r pws_n_sessions_fmt`</span> sessions across <span class="in">`r pws_n_players_fmt`</span> players. Based on the session timestamps, we calculated two behavioral outcomes: session length (minutes) and session gap (hours; defined as the end timestamp of the previous session and the start timestamp of the subsequent one). </span>
<span id="cb59-2599"><a href="#cb59-2599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2600"><a href="#cb59-2600" aria-hidden="true" tabindex="-1"></a>*Need satisfaction* was measured via two in-game prompts on a visual analogue scale from 0 to 100: an autonomy item "Just now, I was doing the things I really wanted to in Powerwash Simulator” and a competence item "Just now, I felt competent playing PowerWash Simulator", each with visual analogue scale endpoints "Not at all" and "As much as possible". We converted each observation to a 1--10 scale for interpretability. For each session, we took the mean of all autonomy and competence ratings to generate a single need satisfaction indicator (analogously to Study 1) and decomposed it into within- and between-person components.</span>
<span id="cb59-2601"><a href="#cb59-2601" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2602"><a href="#cb59-2602" aria-hidden="true" tabindex="-1"></a><span class="fu">### Analysis Approach</span></span>
<span id="cb59-2603"><a href="#cb59-2603" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2604"><a href="#cb59-2604" aria-hidden="true" tabindex="-1"></a>Analogously to study 1, we estimated the relationship between need satisfaction and outcomes (session length, session gap) using linear mixed effects models, with random intercepts and slopes for each participant. Outcomes were log-transformed due to heavily right-skewed distributions. Following our main analysis approach, we decomposed need satisfaction predictors into within- and between-person components and controlled for previous session length and session gap to isolate need satisfaction effects.</span>
<span id="cb59-2605"><a href="#cb59-2605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2608"><a href="#cb59-2608" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-2609"><a href="#cb59-2609" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: study2-models</span></span>
<span id="cb59-2610"><a href="#cb59-2610" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Fit PWS models)"</span></span>
<span id="cb59-2611"><a href="#cb59-2611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2612"><a href="#cb59-2612" aria-hidden="true" tabindex="-1"></a><span class="co"># Model 1: Session length ~ game need satisfaction</span></span>
<span id="cb59-2613"><a href="#cb59-2613" aria-hidden="true" tabindex="-1"></a>pws_m1 <span class="ot">&lt;-</span> lme4<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb59-2614"><a href="#cb59-2614" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(session_length) <span class="sc">~</span></span>
<span id="cb59-2615"><a href="#cb59-2615" aria-hidden="true" tabindex="-1"></a>    game_ns_cw <span class="sc">+</span></span>
<span id="cb59-2616"><a href="#cb59-2616" aria-hidden="true" tabindex="-1"></a>    game_ns_cb <span class="sc">+</span></span>
<span id="cb59-2617"><a href="#cb59-2617" aria-hidden="true" tabindex="-1"></a>    prev_session_length <span class="sc">+</span></span>
<span id="cb59-2618"><a href="#cb59-2618" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">+</span> game_ns_cw <span class="sc">|</span> pid),</span>
<span id="cb59-2619"><a href="#cb59-2619" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> pws_wide,</span>
<span id="cb59-2620"><a href="#cb59-2620" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-2621"><a href="#cb59-2621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2622"><a href="#cb59-2622" aria-hidden="true" tabindex="-1"></a><span class="co"># Model 2: Session gap ~ game need satisfaction</span></span>
<span id="cb59-2623"><a href="#cb59-2623" aria-hidden="true" tabindex="-1"></a>pws_m2 <span class="ot">&lt;-</span> lme4<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb59-2624"><a href="#cb59-2624" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(session_gap) <span class="sc">~</span></span>
<span id="cb59-2625"><a href="#cb59-2625" aria-hidden="true" tabindex="-1"></a>    game_ns_cw <span class="sc">+</span></span>
<span id="cb59-2626"><a href="#cb59-2626" aria-hidden="true" tabindex="-1"></a>    game_ns_cb <span class="sc">+</span></span>
<span id="cb59-2627"><a href="#cb59-2627" aria-hidden="true" tabindex="-1"></a>    prev_session_gap <span class="sc">+</span></span>
<span id="cb59-2628"><a href="#cb59-2628" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">+</span> game_ns_cw <span class="sc">|</span> pid),</span>
<span id="cb59-2629"><a href="#cb59-2629" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> pws_wide <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(session_gap))</span>
<span id="cb59-2630"><a href="#cb59-2630" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-2631"><a href="#cb59-2631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2632"><a href="#cb59-2632" aria-hidden="true" tabindex="-1"></a>pred_m1 <span class="ot">&lt;-</span> <span class="fu">predictions</span>(</span>
<span id="cb59-2633"><a href="#cb59-2633" aria-hidden="true" tabindex="-1"></a>  pws_m1,</span>
<span id="cb59-2634"><a href="#cb59-2634" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb59-2635"><a href="#cb59-2635" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> pws_m1,</span>
<span id="cb59-2636"><a href="#cb59-2636" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">9</span>),</span>
<span id="cb59-2637"><a href="#cb59-2637" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> <span class="dv">0</span>,</span>
<span id="cb59-2638"><a href="#cb59-2638" aria-hidden="true" tabindex="-1"></a>    <span class="at">prev_session_length =</span> <span class="fu">mean</span>(pws_wide<span class="sc">$</span>prev_session_length, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-2639"><a href="#cb59-2639" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-2640"><a href="#cb59-2640" aria-hidden="true" tabindex="-1"></a>  <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb59-2641"><a href="#cb59-2641" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-2642"><a href="#cb59-2642" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-2643"><a href="#cb59-2643" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(game_ns_cw) <span class="sc">|&gt;</span></span>
<span id="cb59-2644"><a href="#cb59-2644" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-2645"><a href="#cb59-2645" aria-hidden="true" tabindex="-1"></a>    <span class="at">estimate =</span> <span class="fu">exp</span>(estimate),</span>
<span id="cb59-2646"><a href="#cb59-2646" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.low =</span> <span class="fu">exp</span>(conf.low),</span>
<span id="cb59-2647"><a href="#cb59-2647" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.high =</span> <span class="fu">exp</span>(conf.high)</span>
<span id="cb59-2648"><a href="#cb59-2648" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-2649"><a href="#cb59-2649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2650"><a href="#cb59-2650" aria-hidden="true" tabindex="-1"></a>pws_m1_max_eff <span class="ot">&lt;-</span> pred_m1 <span class="sc">|&gt;</span></span>
<span id="cb59-2651"><a href="#cb59-2651" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb59-2652"><a href="#cb59-2652" aria-hidden="true" tabindex="-1"></a>    <span class="at">est =</span> <span class="fu">diff</span>(estimate),</span>
<span id="cb59-2653"><a href="#cb59-2653" aria-hidden="true" tabindex="-1"></a>    <span class="at">lo =</span> <span class="fu">diff</span>(conf.low),</span>
<span id="cb59-2654"><a href="#cb59-2654" aria-hidden="true" tabindex="-1"></a>    <span class="at">hi =</span> <span class="fu">diff</span>(conf.high)</span>
<span id="cb59-2655"><a href="#cb59-2655" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-2656"><a href="#cb59-2656" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb59-2657"><a href="#cb59-2657" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glue</span>(</span>
<span id="cb59-2658"><a href="#cb59-2658" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{number(est, accuracy = 0.1)} minutes "</span>,</span>
<span id="cb59-2659"><a href="#cb59-2659" aria-hidden="true" tabindex="-1"></a>      <span class="st">"[95% CI {number(lo, accuracy = 0.1)}, "</span>,</span>
<span id="cb59-2660"><a href="#cb59-2660" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{number(hi, accuracy = 0.1)}]"</span></span>
<span id="cb59-2661"><a href="#cb59-2661" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-2662"><a href="#cb59-2662" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-2663"><a href="#cb59-2663" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb59-2664"><a href="#cb59-2664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2665"><a href="#cb59-2665" aria-hidden="true" tabindex="-1"></a>pred_m2 <span class="ot">&lt;-</span> <span class="fu">predictions</span>(</span>
<span id="cb59-2666"><a href="#cb59-2666" aria-hidden="true" tabindex="-1"></a>  pws_m2,</span>
<span id="cb59-2667"><a href="#cb59-2667" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb59-2668"><a href="#cb59-2668" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> pws_m2,</span>
<span id="cb59-2669"><a href="#cb59-2669" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">9</span>),</span>
<span id="cb59-2670"><a href="#cb59-2670" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> <span class="dv">0</span>,</span>
<span id="cb59-2671"><a href="#cb59-2671" aria-hidden="true" tabindex="-1"></a>    <span class="at">prev_session_gap =</span> <span class="fu">mean</span>(pws_wide<span class="sc">$</span>prev_session_gap, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-2672"><a href="#cb59-2672" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-2673"><a href="#cb59-2673" aria-hidden="true" tabindex="-1"></a>  <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb59-2674"><a href="#cb59-2674" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-2675"><a href="#cb59-2675" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-2676"><a href="#cb59-2676" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(game_ns_cw) <span class="sc">|&gt;</span></span>
<span id="cb59-2677"><a href="#cb59-2677" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-2678"><a href="#cb59-2678" aria-hidden="true" tabindex="-1"></a>    <span class="at">estimate =</span> <span class="fu">exp</span>(estimate),</span>
<span id="cb59-2679"><a href="#cb59-2679" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.low =</span> <span class="fu">exp</span>(conf.low),</span>
<span id="cb59-2680"><a href="#cb59-2680" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.high =</span> <span class="fu">exp</span>(conf.high)</span>
<span id="cb59-2681"><a href="#cb59-2681" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-2682"><a href="#cb59-2682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2683"><a href="#cb59-2683" aria-hidden="true" tabindex="-1"></a>pws_m2_max_eff <span class="ot">&lt;-</span> pred_m2 <span class="sc">|&gt;</span></span>
<span id="cb59-2684"><a href="#cb59-2684" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb59-2685"><a href="#cb59-2685" aria-hidden="true" tabindex="-1"></a>    <span class="at">est =</span> <span class="fu">diff</span>(estimate),</span>
<span id="cb59-2686"><a href="#cb59-2686" aria-hidden="true" tabindex="-1"></a>    <span class="at">lo =</span> <span class="fu">diff</span>(conf.low),</span>
<span id="cb59-2687"><a href="#cb59-2687" aria-hidden="true" tabindex="-1"></a>    <span class="at">hi =</span> <span class="fu">diff</span>(conf.high)</span>
<span id="cb59-2688"><a href="#cb59-2688" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-2689"><a href="#cb59-2689" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb59-2690"><a href="#cb59-2690" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glue</span>(</span>
<span id="cb59-2691"><a href="#cb59-2691" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{number(est, accuracy = 0.1)} hours "</span>,</span>
<span id="cb59-2692"><a href="#cb59-2692" aria-hidden="true" tabindex="-1"></a>      <span class="st">"[95% CI {number(lo, accuracy = 0.1)}, "</span>,</span>
<span id="cb59-2693"><a href="#cb59-2693" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{number(hi, accuracy = 0.1)}]"</span></span>
<span id="cb59-2694"><a href="#cb59-2694" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-2695"><a href="#cb59-2695" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-2696"><a href="#cb59-2696" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb59-2697"><a href="#cb59-2697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2698"><a href="#cb59-2698" aria-hidden="true" tabindex="-1"></a>pws_m1_est <span class="ot">&lt;-</span> <span class="fu">report_lmer_term</span>(pws_m1, <span class="st">"game_ns_cw"</span>, <span class="at">p_method =</span> <span class="st">"wald_z"</span>)</span>
<span id="cb59-2699"><a href="#cb59-2699" aria-hidden="true" tabindex="-1"></a>pws_m2_est <span class="ot">&lt;-</span> <span class="fu">report_lmer_term</span>(pws_m2, <span class="st">"game_ns_cw"</span>, <span class="at">p_method =</span> <span class="st">"wald_z"</span>)</span>
<span id="cb59-2700"><a href="#cb59-2700" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2701"><a href="#cb59-2701" aria-hidden="true" tabindex="-1"></a>game_ns_sd <span class="ot">&lt;-</span> <span class="fu">number</span>(<span class="fu">sd</span>(pws_wide<span class="sc">$</span>game_ns_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), .<span class="dv">01</span>)</span>
<span id="cb59-2702"><a href="#cb59-2702" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2703"><a href="#cb59-2703" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-2704"><a href="#cb59-2704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2705"><a href="#cb59-2705" aria-hidden="true" tabindex="-1"></a>::: {.place arguments='top, scope: "parent", float: true'}</span>
<span id="cb59-2706"><a href="#cb59-2706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2709"><a href="#cb59-2709" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-2710"><a href="#cb59-2710" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-study2-results</span></span>
<span id="cb59-2711"><a href="#cb59-2711" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Within-person effects of need satisfaction on play behavior in PowerWash Simulator. (A) Session length. (B) Time to next session. Shaded regions show 95% confidence intervals."</span></span>
<span id="cb59-2712"><a href="#cb59-2712" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Visualize PWS marginal effects)"</span></span>
<span id="cb59-2713"><a href="#cb59-2713" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-asp: 0.4</span></span>
<span id="cb59-2714"><a href="#cb59-2714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2715"><a href="#cb59-2715" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate predictions for session length</span></span>
<span id="cb59-2716"><a href="#cb59-2716" aria-hidden="true" tabindex="-1"></a>pred_m1 <span class="ot">&lt;-</span> marginaleffects<span class="sc">::</span><span class="fu">predictions</span>(</span>
<span id="cb59-2717"><a href="#cb59-2717" aria-hidden="true" tabindex="-1"></a>  pws_m1,</span>
<span id="cb59-2718"><a href="#cb59-2718" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb59-2719"><a href="#cb59-2719" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> <span class="fu">seq</span>(</span>
<span id="cb59-2720"><a href="#cb59-2720" aria-hidden="true" tabindex="-1"></a>      <span class="fu">min</span>(pws_wide<span class="sc">$</span>game_ns_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-2721"><a href="#cb59-2721" aria-hidden="true" tabindex="-1"></a>      <span class="fu">max</span>(pws_wide<span class="sc">$</span>game_ns_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-2722"><a href="#cb59-2722" aria-hidden="true" tabindex="-1"></a>      <span class="at">length.out =</span> <span class="dv">100</span></span>
<span id="cb59-2723"><a href="#cb59-2723" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-2724"><a href="#cb59-2724" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> <span class="dv">0</span>,</span>
<span id="cb59-2725"><a href="#cb59-2725" aria-hidden="true" tabindex="-1"></a>    <span class="at">prev_session_length =</span> <span class="fu">mean</span>(pws_wide<span class="sc">$</span>prev_session_length, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-2726"><a href="#cb59-2726" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-2727"><a href="#cb59-2727" aria-hidden="true" tabindex="-1"></a>  <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb59-2728"><a href="#cb59-2728" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-2729"><a href="#cb59-2729" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-2730"><a href="#cb59-2730" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-2731"><a href="#cb59-2731" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Back-transform from log scale to original scale (minutes)</span></span>
<span id="cb59-2732"><a href="#cb59-2732" aria-hidden="true" tabindex="-1"></a>    <span class="at">estimate =</span> <span class="fu">exp</span>(estimate),</span>
<span id="cb59-2733"><a href="#cb59-2733" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.low =</span> <span class="fu">exp</span>(conf.low),</span>
<span id="cb59-2734"><a href="#cb59-2734" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.high =</span> <span class="fu">exp</span>(conf.high)</span>
<span id="cb59-2735"><a href="#cb59-2735" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-2736"><a href="#cb59-2736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2737"><a href="#cb59-2737" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate predictions for session gap</span></span>
<span id="cb59-2738"><a href="#cb59-2738" aria-hidden="true" tabindex="-1"></a>pred_m2 <span class="ot">&lt;-</span> marginaleffects<span class="sc">::</span><span class="fu">predictions</span>(</span>
<span id="cb59-2739"><a href="#cb59-2739" aria-hidden="true" tabindex="-1"></a>  pws_m2,</span>
<span id="cb59-2740"><a href="#cb59-2740" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb59-2741"><a href="#cb59-2741" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> <span class="fu">seq</span>(</span>
<span id="cb59-2742"><a href="#cb59-2742" aria-hidden="true" tabindex="-1"></a>      <span class="fu">min</span>(pws_wide<span class="sc">$</span>game_ns_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-2743"><a href="#cb59-2743" aria-hidden="true" tabindex="-1"></a>      <span class="fu">max</span>(pws_wide<span class="sc">$</span>game_ns_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-2744"><a href="#cb59-2744" aria-hidden="true" tabindex="-1"></a>      <span class="at">length.out =</span> <span class="dv">100</span></span>
<span id="cb59-2745"><a href="#cb59-2745" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-2746"><a href="#cb59-2746" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> <span class="dv">0</span>,</span>
<span id="cb59-2747"><a href="#cb59-2747" aria-hidden="true" tabindex="-1"></a>    <span class="at">prev_session_gap =</span> <span class="fu">mean</span>(pws_wide<span class="sc">$</span>prev_session_gap, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-2748"><a href="#cb59-2748" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-2749"><a href="#cb59-2749" aria-hidden="true" tabindex="-1"></a>  <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb59-2750"><a href="#cb59-2750" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-2751"><a href="#cb59-2751" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-2752"><a href="#cb59-2752" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-2753"><a href="#cb59-2753" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Back-transform from log scale to original scale (hours)</span></span>
<span id="cb59-2754"><a href="#cb59-2754" aria-hidden="true" tabindex="-1"></a>    <span class="at">estimate =</span> <span class="fu">exp</span>(estimate),</span>
<span id="cb59-2755"><a href="#cb59-2755" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.low =</span> <span class="fu">exp</span>(conf.low),</span>
<span id="cb59-2756"><a href="#cb59-2756" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.high =</span> <span class="fu">exp</span>(conf.high)</span>
<span id="cb59-2757"><a href="#cb59-2757" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-2758"><a href="#cb59-2758" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2759"><a href="#cb59-2759" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel A: Session length</span></span>
<span id="cb59-2760"><a href="#cb59-2760" aria-hidden="true" tabindex="-1"></a>p_m1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(pred_m1, <span class="fu">aes</span>(<span class="at">x =</span> game_ns_cw, <span class="at">y =</span> estimate)) <span class="sc">+</span></span>
<span id="cb59-2761"><a href="#cb59-2761" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(</span>
<span id="cb59-2762"><a href="#cb59-2762" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> conf.low, <span class="at">ymax =</span> conf.high),</span>
<span id="cb59-2763"><a href="#cb59-2763" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.2</span>,</span>
<span id="cb59-2764"><a href="#cb59-2764" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> colors<span class="sc">$</span>game_ns</span>
<span id="cb59-2765"><a href="#cb59-2765" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-2766"><a href="#cb59-2766" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> colors<span class="sc">$</span>game_ns, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb59-2767"><a href="#cb59-2767" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_log10</span>(</span>
<span id="cb59-2768"><a href="#cb59-2768" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">breaks_log</span>(<span class="at">n =</span> <span class="dv">6</span>),</span>
<span id="cb59-2769"><a href="#cb59-2769" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>()</span>
<span id="cb59-2770"><a href="#cb59-2770" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-2771"><a href="#cb59-2771" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb59-2772"><a href="#cb59-2772" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> labels[<span class="st">"game_ns"</span>],</span>
<span id="cb59-2773"><a href="#cb59-2773" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Session length (minutes)"</span></span>
<span id="cb59-2774"><a href="#cb59-2774" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-2775"><a href="#cb59-2775" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2776"><a href="#cb59-2776" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel B: Session gap</span></span>
<span id="cb59-2777"><a href="#cb59-2777" aria-hidden="true" tabindex="-1"></a>p_m2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(pred_m2, <span class="fu">aes</span>(<span class="at">x =</span> game_ns_cw, <span class="at">y =</span> estimate)) <span class="sc">+</span></span>
<span id="cb59-2778"><a href="#cb59-2778" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(</span>
<span id="cb59-2779"><a href="#cb59-2779" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> conf.low, <span class="at">ymax =</span> conf.high),</span>
<span id="cb59-2780"><a href="#cb59-2780" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.2</span>,</span>
<span id="cb59-2781"><a href="#cb59-2781" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> colors<span class="sc">$</span>global_ns</span>
<span id="cb59-2782"><a href="#cb59-2782" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-2783"><a href="#cb59-2783" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> colors<span class="sc">$</span>global_ns, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb59-2784"><a href="#cb59-2784" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_log10</span>(</span>
<span id="cb59-2785"><a href="#cb59-2785" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">breaks_log</span>(<span class="at">n =</span> <span class="dv">6</span>),</span>
<span id="cb59-2786"><a href="#cb59-2786" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>()</span>
<span id="cb59-2787"><a href="#cb59-2787" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-2788"><a href="#cb59-2788" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb59-2789"><a href="#cb59-2789" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> labels[<span class="st">"game_ns"</span>],</span>
<span id="cb59-2790"><a href="#cb59-2790" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Time to next session (hours)"</span></span>
<span id="cb59-2791"><a href="#cb59-2791" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-2792"><a href="#cb59-2792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2793"><a href="#cb59-2793" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine panels</span></span>
<span id="cb59-2794"><a href="#cb59-2794" aria-hidden="true" tabindex="-1"></a>p_m1 <span class="sc">+</span></span>
<span id="cb59-2795"><a href="#cb59-2795" aria-hidden="true" tabindex="-1"></a>  p_m2 <span class="sc">+</span></span>
<span id="cb59-2796"><a href="#cb59-2796" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">"A"</span>) <span class="sc">&amp;</span></span>
<span id="cb59-2797"><a href="#cb59-2797" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.tag =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb59-2798"><a href="#cb59-2798" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-2799"><a href="#cb59-2799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2800"><a href="#cb59-2800" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb59-2801"><a href="#cb59-2801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2802"><a href="#cb59-2802" aria-hidden="true" tabindex="-1"></a><span class="fu">## Study 2 Results: Exploratory</span></span>
<span id="cb59-2803"><a href="#cb59-2803" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2804"><a href="#cb59-2804" aria-hidden="true" tabindex="-1"></a>Results are shown in @fig-study2-results. Panel A shows that people who felt greater need satisfaction than they normally do during the course of a gaming session did not play significantly longer than usual: if a player reported the largest possible change, a session with 10 reported need satisfaction for someone who typically reports only a 1, we would predict a change of just <span class="in">`r pws_m1_max_eff`</span>. </span>
<span id="cb59-2805"><a href="#cb59-2805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2806"><a href="#cb59-2806" aria-hidden="true" tabindex="-1"></a>Panel B shows that within-person variation in need satisfaction weakly predicted session gap. If a player reported the largest possible change in need satisfaction of 9 points, we would predict a change of just <span class="in">`r pws_m2_max_eff`</span> in time until their next session. While this is statistically significant, given that typical deviations in within-person need satisfaction are much smaller (within-person SD = <span class="in">`r game_ns_sd`</span> points), the practical impact on behavior is minimal.</span>
<span id="cb59-2807"><a href="#cb59-2807" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb59-2808"><a href="#cb59-2808" aria-hidden="true" tabindex="-1"></a>Broadly, results therefore converge with Study 1: Despite examining <span class="in">`r pws_n_sessions_fmt`</span> sessions from <span class="in">`r pws_n_players_fmt`</span> players in a different game using different measures, the pattern of weak behavioral predictions replicated. Full model outputs are provided in the Appendix (@tbl-full-study2).</span>
<span id="cb59-2809"><a href="#cb59-2809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2810"><a href="#cb59-2810" aria-hidden="true" tabindex="-1"></a><span class="fu"># Discussion</span></span>
<span id="cb59-2811"><a href="#cb59-2811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2812"><a href="#cb59-2812" aria-hidden="true" tabindex="-1"></a>Across Study 1 and Study 2, our findings reveal a consistent pattern: basic psychological needs---whether satisfied in games or frustrated in daily life---show weak or null relationships with subsequent gaming behavior. This stands in contrast to the substantial body of literature linking need satisfaction to self-reported outcomes like enjoyment, continued play intentions, and wellbeing <span class="co">[</span><span class="ot">@TyackMekler2020Selfdetermination</span><span class="co">]</span>. </span>
<span id="cb59-2813"><a href="#cb59-2813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2814"><a href="#cb59-2814" aria-hidden="true" tabindex="-1"></a>This disconnect between self-reported and behavioral outcomes has important implications. Self-determination theory, particularly as applied to games, has been extensively validated using self-report measures. Players who report higher need satisfaction also report greater enjoyment, stronger intentions to continue playing, and better wellbeing outcomes <span class="co">[</span><span class="ot">@AdinolfTurkay2019differences; @OliverEtAl2016video; @TamboriniEtAl2011Media; @FormosaEtAl2022Need; @TyackEtAl2020Restorative</span><span class="co">]</span>. Our results do not challenge these relationships. Rather, they suggest that the pathway from needs to actual behavior may be substantially weaker or more complex than the pathway from needs to self-reported experiences and intentions.</span>
<span id="cb59-2815"><a href="#cb59-2815" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2816"><a href="#cb59-2816" aria-hidden="true" tabindex="-1"></a>Our findings are not the first to find weak links between basic needs and gaming engagement as measured by digital trace data. Motivation was only very weakly associated with total engagement in *League of Legends* <span class="co">[</span><span class="ot">@BruhlmannEtAl2020Motivational</span><span class="co">]</span>. Competence satisfaction did not meaningfully predict voluntary engagement in a custom RPG <span class="co">[</span><span class="ot">@KaoEtAl2024How</span><span class="co">]</span>, and satisfaction of all three needs was only very weakly related to playtime in Animal Crossing: New Horizons and Plants vs Zombies: Battle for Neighborville over a 2-week timescale (r = .07, likely too weak to be practically significant) <span class="co">[</span><span class="ot">@JohannesEtAl2021Video</span><span class="co">]</span>. We suggest several paths forward. </span>
<span id="cb59-2817"><a href="#cb59-2817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2818"><a href="#cb59-2818" aria-hidden="true" tabindex="-1"></a><span class="fu">## Alternative behavioural frameworks</span></span>
<span id="cb59-2819"><a href="#cb59-2819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2820"><a href="#cb59-2820" aria-hidden="true" tabindex="-1"></a>The weak associations between need experiences and subsequent play behaviour suggest that basic psychological needs may not be the primary drivers of short-term gaming engagement. In light of this, we suggest player experience research consider other theoretical frameworks that might provide better or complementary explanations for short-term gaming engagement. We are aware of least three such frameworks.  </span>
<span id="cb59-2821"><a href="#cb59-2821" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2822"><a href="#cb59-2822" aria-hidden="true" tabindex="-1"></a>Behaviourist and reinforcement-learning accounts emphasise the power of recent rewards and environmental cues, rather than subjective motives, in sustaining behaviour <span class="co">[</span><span class="ot">@Skinner1965Science; @Niv2009Reinforcement</span><span class="co">]</span>. Recent work has expanded and adapted these predictions for the digital media domain <span class="co">[</span><span class="ot">@NorwoodPrzybylski2025new</span><span class="co">]</span>. Under such models, a primary cause of players re-engaging is that the behaviour has been reliably reinforced, not because they recently felt more autonomy, competence, or relatedness. </span>
<span id="cb59-2823"><a href="#cb59-2823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2824"><a href="#cb59-2824" aria-hidden="true" tabindex="-1"></a>Habit theory similarly predicts minimal coupling between momentary experiences and action. With sufficient repetition in stable contexts, gaming becomes cue-triggered and automatic, guided by procedural memory rather than conscious motivational states <span class="co">[</span><span class="ot">@OuelletteWood1998Habit; @WoodRunger2016Psychology</span><span class="co">]</span>. If players typically launch games at particular times or in response to specific cues, need fluctuations may exert little incremental influence over behaviour.</span>
<span id="cb59-2825"><a href="#cb59-2825" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2826"><a href="#cb59-2826" aria-hidden="true" tabindex="-1"></a>A third possibility is regulatory cessation. In homeostatic and cybernetic models, behaviour is energized by need- or goal-discrepancies and should weaken once these are reduced; highly satisfying engagement may therefore decrease the likelihood of immediate re-engagement <span class="co">[</span><span class="ot">@Hull1943Principles; @Toates1986Motivational; @CarverScheier2001selfregulation</span><span class="co">]</span>. Self-determination theory explicitly rejects this logic for psychological needs, arguing that need satisfaction does not produce satiation or motivational decline and may instead sustain intrinsic motivation <span class="co">[</span><span class="ot">@SheldonGunz2009psychological</span><span class="co">]</span>. However, SDT evidence has primarily relied on self-reported motivation rather than observed behavioural continuation, potentially obscuring homeostatic or satiation-like dynamics that operate at the level of action. In games research, where engagement unfolds as repeated consumption, such regulatory processes may better account for short-term disengagement following highly satisfying play episodes.</span>
<span id="cb59-2827"><a href="#cb59-2827" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2828"><a href="#cb59-2828" aria-hidden="true" tabindex="-1"></a>Each of these perspectives aligns with broader evidence that subjective intentions and experiences often predict real-world actions only weakly because behaviour is multiply determined and heavily constrained by situational affordances <span class="co">[</span><span class="ot">@SheeranWebb2016Intention</span><span class="co">]</span>. For researchers, our findings therefore suggest that comprehensive models of gaming behaviour may need to incorporate reinforcement histories, habits, and regulatory processes alongside need-based motivations. For game developers, they suggest that relying on experiential metrics (e.g., 'fun', satisfaction surveys) may provide an incomplete picture of what sustains engagement. For parents and clinicians, they suggest that efforts to promote healthier play patterns may benefit from structural interventions---e.g., modifying reward pacing, friction costs, or contextual cues---rather than focusing solely on enhancing need fulfilment.</span>
<span id="cb59-2829"><a href="#cb59-2829" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2830"><a href="#cb59-2830" aria-hidden="true" tabindex="-1"></a><span class="fu">## The value of open behavioral data</span></span>
<span id="cb59-2831"><a href="#cb59-2831" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2832"><a href="#cb59-2832" aria-hidden="true" tabindex="-1"></a>The introduction to this paper outlined three key limitations in gaming research: lack of researcher access to industry data, temporal mismatch between trace data and surveys, and weak theoretical frameworks. Our study addressed all three by negotiating multi-platform access, implementing daily diaries, and testing theory-driven predictions. Yet the clearest contribution may be demonstrating what becomes visible when self-report is paired with comprehensive behavioral records.</span>
<span id="cb59-2833"><a href="#cb59-2833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2834"><a href="#cb59-2834" aria-hidden="true" tabindex="-1"></a>Had we relied solely on self-report measures of play behavior---as most media use research does---we may well have found that need satisfaction correlates with intrinsic motivation, and that therefore higher engagement is likely <span class="co">[</span><span class="ot">@NeysEtAl2014exploring; @KosaUysal2024Exploration</span><span class="co">]</span>. The trace data reveal a different picture. This is not unique to SDT or gaming; intention-behavior gaps are well-documented across health behaviors, environmental actions, and consumer choices <span class="co">[</span><span class="ot">@SheeranWebb2016Intention</span><span class="co">]</span>. But it is particularly consequential in a field where theoretical claims increasingly concern behavior itself---how much people play, when they play, what motivates them to start or stop.</span>
<span id="cb59-2835"><a href="#cb59-2835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2836"><a href="#cb59-2836" aria-hidden="true" tabindex="-1"></a>The broader lesson extends beyond SDT. As gaming research matures beyond simple quantity-based approaches <span class="co">[</span><span class="ot">@BallouEtAl2025How</span><span class="co">]</span>, theories must be validated against behavioral outcomes, not just self-reported proxies. Open player behavior data---whether through industry partnerships, player-controlled data sharing infrastructures, or other mechanisms---is essential infrastructure for this work. </span>
<span id="cb59-2837"><a href="#cb59-2837" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2838"><a href="#cb59-2838" aria-hidden="true" tabindex="-1"></a>There are, however, practical barriers to making such behavioural evidence routine. Privacy and re-identification risks are non-trivial for high-resolution telemetry, particularly when combined with survey responses, and these risks create understandable reluctance among both participants and data holders. Industry incentives also rarely align with open scientific practices: the most informative behavioural data are often commercially sensitive, operationally costly to extract, and legally complex to share across jurisdictions. Methodologically, the field also lacks shared standards for defining sessions, handling idle time, linking multi-platform identities, and documenting preprocessing decisions—each of which can meaningfully affect substantive conclusions.</span>
<span id="cb59-2839"><a href="#cb59-2839" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2840"><a href="#cb59-2840" aria-hidden="true" tabindex="-1"></a>We therefore advocate for multi-platform solutions, mixing both open source and, where possible with high transparency standards, industry collaborations. Multi-platform coverage matters substantively because platform ecosystems structure when and how people play. Different platforms afford different play contexts (e.g., portable vs. fixed-location play, solitary vs. social defaults, friction to launch, and typical session cadence), and these affordances can shift the distribution of sessions across the day and week. When studies observe only a single platform, they risk misclassifying a person’s true “non-play” periods (e.g., apparent disengagement on one platform may simply reflect switching to another), attenuating within-person associations and obscuring displacement dynamics. Single-platform datasets also risk overgeneralizing from idiosyncratic platform cultures and technical constraints (such as background processes, suspend/resume behavior, or account sharing) that can inflate or distort behavioural measures.</span>
<span id="cb59-2841"><a href="#cb59-2841" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2842"><a href="#cb59-2842" aria-hidden="true" tabindex="-1"></a><span class="fu">## Implications for the BANG model</span></span>
<span id="cb59-2843"><a href="#cb59-2843" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2844"><a href="#cb59-2844" aria-hidden="true" tabindex="-1"></a>Only one of BANG's prediction was supported (H1/B6: game needs → global needs), consistent with prior literature <span class="co">[</span><span class="ot">@AllenAnderson2018satisfaction; @BallouEtAl2024Basic</span><span class="co">]</span> and the proposed hierarchical structure at the core of SDT <span class="co">[</span><span class="ot">@Vallerand1997Hierarchical</span><span class="co">]</span>. However, the behavioral predictions fared poorly. Neither in-game positive experiences nor deficits in life in general meaningfully predicted subsequent play (global need frustration → subsequent play) was not supported. All in all, BANG hypotheses B5, B8, and B9 were unsupported in our data.</span>
<span id="cb59-2845"><a href="#cb59-2845" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2846"><a href="#cb59-2846" aria-hidden="true" tabindex="-1"></a>Null results for theoretical predictions can generally be attributed to (1) lack of statistical power, (2) validity issues (e.g., poor design, poor measures), (3) incorrect auxiliary hypotheses, or (4) theory failure <span class="co">[</span><span class="ot">@Meehl1990Why</span><span class="co">]</span>. We argue that our study is reasonably well-powered <span class="co">[</span><span class="ot">see @BallouEtAl2025Psychological for simulated sensitivity analyses</span><span class="co">]</span>, and with the exception of H3 whose "hypothetical displacement" measure has obvious flaws (see Limitations), uses valid measures---in particular, because we observe real-world behaviour.</span>
<span id="cb59-2847"><a href="#cb59-2847" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2848"><a href="#cb59-2848" aria-hidden="true" tabindex="-1"></a>We endeavored to test the most prominent auxiliary hypothesis present, namely the auxiliary of correct timescale, by comparing 6-hour, 12-hour, and 24-hour time periods, and by triangulating using the PowerWash Simulator dataset, wherein need-related experiences are captured within the session itself. However, none were able to find meaningful support for the behavioral predictions. </span>
<span id="cb59-2849"><a href="#cb59-2849" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2850"><a href="#cb59-2850" aria-hidden="true" tabindex="-1"></a>We therefore interpret our results as evidence against certain BANG predictions, necessitating model updating. From a metascientific perspective, model updating after falsification is central to iterative model calibration  and theory modulation <span class="co">[</span><span class="ot">@Meehl1990Why</span><span class="co">]</span>, in which constructs are sharpened, measurement improved, and boundary conditions more precisely articulated. Updating BANG requires identifying *when* and *why* need-related processes do and do not predict behavioral engagement. </span>
<span id="cb59-2851"><a href="#cb59-2851" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2852"><a href="#cb59-2852" aria-hidden="true" tabindex="-1"></a>A wholesale revision of BANG is beyond the scope of the current paper, but our results suggest follow-up investigation should be limited to targeted probes aimed at determining whether the null results here reflect (i) temporal misalignment (for example, it may be that need satisfaction updates expectations much more gradually); (ii) boundary conditions (for example, if where need--behaviour links emerge only for specific players, games, or contexts with low constraint and weak habitual control); or (iii) competing processes (for example, if habits, reinforcement histories, and situational affordances dominate short-term behaviour, leaving needs to shape preferences rather than actions). Critically, if behavioural effects remain absent under conditions designed to maximise their detectability, BANG’s behavioural claims should be revised or removed rather than further insulated.</span>
<span id="cb59-2853"><a href="#cb59-2853" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2854"><a href="#cb59-2854" aria-hidden="true" tabindex="-1"></a><span class="fu">## Limitations and Future Directions</span></span>
<span id="cb59-2855"><a href="#cb59-2855" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2856"><a href="#cb59-2856" aria-hidden="true" tabindex="-1"></a>Several limitations qualify the interpretation of the present findings. First, although our analyses focus on within-person associations, these estimates should not be interpreted as causal effects <span class="co">[</span><span class="ot">@RohrerMurayama2021These</span><span class="co">]</span>. Even with dense longitudinal measurement, within-person variation does not isolate exogenous change: need satisfaction may covary with unmeasured situational factors (e.g., time availability, fatigue, social context) that independently shape gaming behaviour. Our results therefore speak to the strength of empirical coupling between needs and behaviour, not to causal necessity or sufficiency.</span>
<span id="cb59-2857"><a href="#cb59-2857" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2858"><a href="#cb59-2858" aria-hidden="true" tabindex="-1"></a>Second, our test of displacement (H3) relies on a hypothetical counterfactual measure: what participants report they would have done had they not played. This approach is coarse and vulnerable to recall bias, rationalisation, and ambiguity in how respondents interpret "most likely" alternatives. While the measure provides a useful first pass at identifying potentially displaced life domains, it is ill-suited for detecting subtle or cumulative displacement processes and likely attenuates any true effects. More rigorous tests of displacement will require objective time-use data or designs that directly observe trade-offs between activities.</span>
<span id="cb59-2859"><a href="#cb59-2859" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2860"><a href="#cb59-2860" aria-hidden="true" tabindex="-1"></a>Third, the behavioural outcomes examined here reflect short-term engagement patterns, such as session length and return latency. Null or weak associations at this timescale do not rule out need-related effects on longer-term outcomes, such as game choice, persistence over months, or disengagement trajectories. Our conclusions are therefore limited to short-term behavioural dynamics and should not be generalized to all forms of gaming involvement.</span>
<span id="cb59-2861"><a href="#cb59-2861" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2862"><a href="#cb59-2862" aria-hidden="true" tabindex="-1"></a>Finally, our sample, although purposively sampled for racial and gender diversity, should be understood as consisting of engaged 18--40 year old players willing to share detailed behavioural data and complete intensive surveys, rather than as representative of all players. This selectivity limits generalizability in two ways. First, casual players, younger adolescents, and individuals with minimal or highly irregular play patterns are underrepresented. Second, highly engaged players' behaviour may differ systematically from those among less engaged populations (e.g,more routinized or more highly habit-driven). The weak need–behaviour associations observed here may not generalize to all player groups, nor do they preclude stronger effects in populations with greater variability in motivation or fewer structural constraints.</span>
<span id="cb59-2863"><a href="#cb59-2863" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2864"><a href="#cb59-2864" aria-hidden="true" tabindex="-1"></a>Together, these limitations suggest that the present findings should be interpreted as strong evidence against large, general, short-term behavioural effects of need satisfaction among engaged adult players, rather than as definitive evidence against any role for psychological needs in shaping gaming behaviour more broadly.</span>
<span id="cb59-2865"><a href="#cb59-2865" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2866"><a href="#cb59-2866" aria-hidden="true" tabindex="-1"></a><span class="fu"># References</span></span>
<span id="cb59-2867"><a href="#cb59-2867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2868"><a href="#cb59-2868" aria-hidden="true" tabindex="-1"></a><span class="in">```{=typst}</span></span>
<span id="cb59-2869"><a href="#cb59-2869" aria-hidden="true" tabindex="-1"></a><span class="in">#set page(columns: 1)</span></span>
<span id="cb59-2870"><a href="#cb59-2870" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-2871"><a href="#cb59-2871" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2872"><a href="#cb59-2872" aria-hidden="true" tabindex="-1"></a><span class="fu"># Appendix</span></span>
<span id="cb59-2873"><a href="#cb59-2873" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2874"><a href="#cb59-2874" aria-hidden="true" tabindex="-1"></a><span class="fu">## Full Model Outputs</span></span>
<span id="cb59-2875"><a href="#cb59-2875" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2876"><a href="#cb59-2876" aria-hidden="true" tabindex="-1"></a>This section provides complete model summaries for the three main hypothesis tests (H1-H3), including all fixed effects (both within- and between-person), random effects, and autocorrelation parameters.</span>
<span id="cb59-2877"><a href="#cb59-2877" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2878"><a href="#cb59-2878" aria-hidden="true" tabindex="-1"></a><span class="fu">### H1: Game need satisfaction predicts global need satisfaction</span></span>
<span id="cb59-2879"><a href="#cb59-2879" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2882"><a href="#cb59-2882" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-2883"><a href="#cb59-2883" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-full-h1</span></span>
<span id="cb59-2884"><a href="#cb59-2884" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "H1: Complete model summary for game NS → global NS"</span></span>
<span id="cb59-2885"><a href="#cb59-2885" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Full H1 model output)"</span></span>
<span id="cb59-2886"><a href="#cb59-2886" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2887"><a href="#cb59-2887" aria-hidden="true" tabindex="-1"></a><span class="co"># Use first imputation model for complete summary</span></span>
<span id="cb59-2888"><a href="#cb59-2888" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(</span>
<span id="cb59-2889"><a href="#cb59-2889" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">"H1: Game NS positively associated with Global NS"</span> <span class="ot">=</span> h1mod),</span>
<span id="cb59-2890"><a href="#cb59-2890" aria-hidden="true" tabindex="-1"></a>  <span class="at">coef_rename =</span> labels,</span>
<span id="cb59-2891"><a href="#cb59-2891" aria-hidden="true" tabindex="-1"></a>  <span class="at">statistic =</span> <span class="fu">c</span>(</span>
<span id="cb59-2892"><a href="#cb59-2892" aria-hidden="true" tabindex="-1"></a>    <span class="st">"conf.int"</span>,</span>
<span id="cb59-2893"><a href="#cb59-2893" aria-hidden="true" tabindex="-1"></a>    <span class="st">"s.e. = {std.error}"</span>,</span>
<span id="cb59-2894"><a href="#cb59-2894" aria-hidden="true" tabindex="-1"></a>    <span class="st">"t = {statistic}"</span>,</span>
<span id="cb59-2895"><a href="#cb59-2895" aria-hidden="true" tabindex="-1"></a>    <span class="st">"p = {p.value}"</span></span>
<span id="cb59-2896"><a href="#cb59-2896" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-2897"><a href="#cb59-2897" aria-hidden="true" tabindex="-1"></a>  <span class="at">coef_omit =</span> <span class="st">"wave"</span>, <span class="co"># Omit individual AR(1) wave parameters</span></span>
<span id="cb59-2898"><a href="#cb59-2898" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-2899"><a href="#cb59-2899" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2900"><a href="#cb59-2900" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-2901"><a href="#cb59-2901" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-2902"><a href="#cb59-2902" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2903"><a href="#cb59-2903" aria-hidden="true" tabindex="-1"></a><span class="fu">### H2: Need satisfaction and frustration predict subsequent play</span></span>
<span id="cb59-2904"><a href="#cb59-2904" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2907"><a href="#cb59-2907" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-2908"><a href="#cb59-2908" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-full-h2</span></span>
<span id="cb59-2909"><a href="#cb59-2909" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "H2: Complete model summary for game NS + global NF → play"</span></span>
<span id="cb59-2910"><a href="#cb59-2910" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Full H2 model output)"</span></span>
<span id="cb59-2911"><a href="#cb59-2911" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2912"><a href="#cb59-2912" aria-hidden="true" tabindex="-1"></a><span class="co"># Use first imputation model for complete summary</span></span>
<span id="cb59-2913"><a href="#cb59-2913" aria-hidden="true" tabindex="-1"></a><span class="co"># modelsummary(</span></span>
<span id="cb59-2914"><a href="#cb59-2914" aria-hidden="true" tabindex="-1"></a><span class="co">#   h2mod,</span></span>
<span id="cb59-2915"><a href="#cb59-2915" aria-hidden="true" tabindex="-1"></a><span class="co">#   coef_rename = labels,</span></span>
<span id="cb59-2916"><a href="#cb59-2916" aria-hidden="true" tabindex="-1"></a><span class="co">#   statistic = c(</span></span>
<span id="cb59-2917"><a href="#cb59-2917" aria-hidden="true" tabindex="-1"></a><span class="co">#     "conf.int",</span></span>
<span id="cb59-2918"><a href="#cb59-2918" aria-hidden="true" tabindex="-1"></a><span class="co">#     "s.e. = {std.error}",</span></span>
<span id="cb59-2919"><a href="#cb59-2919" aria-hidden="true" tabindex="-1"></a><span class="co">#     "t = {statistic}",</span></span>
<span id="cb59-2920"><a href="#cb59-2920" aria-hidden="true" tabindex="-1"></a><span class="co">#     "p = {p.value}"</span></span>
<span id="cb59-2921"><a href="#cb59-2921" aria-hidden="true" tabindex="-1"></a><span class="co">#   ),</span></span>
<span id="cb59-2922"><a href="#cb59-2922" aria-hidden="true" tabindex="-1"></a><span class="co">#   coef_omit = "wave", # Omit individual AR(1) wave parameters</span></span>
<span id="cb59-2923"><a href="#cb59-2923" aria-hidden="true" tabindex="-1"></a><span class="co"># ) |&gt;</span></span>
<span id="cb59-2924"><a href="#cb59-2924" aria-hidden="true" tabindex="-1"></a><span class="co">#   style_tt(fontsize = 0.7) |&gt;</span></span>
<span id="cb59-2925"><a href="#cb59-2925" aria-hidden="true" tabindex="-1"></a><span class="co">#   style_tt(i = 0, bold = TRUE)</span></span>
<span id="cb59-2926"><a href="#cb59-2926" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2927"><a href="#cb59-2927" aria-hidden="true" tabindex="-1"></a><span class="do">## 1) Pre-tidy with CIs</span></span>
<span id="cb59-2928"><a href="#cb59-2928" aria-hidden="true" tabindex="-1"></a>tt <span class="ot">&lt;-</span> <span class="fu">tidy</span>(h2mod, <span class="at">effects =</span> <span class="st">"fixed"</span>, <span class="at">conf.int =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-2929"><a href="#cb59-2929" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2930"><a href="#cb59-2930" aria-hidden="true" tabindex="-1"></a><span class="do">## 2) Optional: rename coefficients manually now</span></span>
<span id="cb59-2931"><a href="#cb59-2931" aria-hidden="true" tabindex="-1"></a>tt <span class="ot">&lt;-</span> tt <span class="sc">|&gt;</span></span>
<span id="cb59-2932"><a href="#cb59-2932" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-2933"><a href="#cb59-2933" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(term, <span class="sc">!!!</span>labels)</span>
<span id="cb59-2934"><a href="#cb59-2934" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-2935"><a href="#cb59-2935" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2936"><a href="#cb59-2936" aria-hidden="true" tabindex="-1"></a><span class="do">## 3) Pre-compute glance once</span></span>
<span id="cb59-2937"><a href="#cb59-2937" aria-hidden="true" tabindex="-1"></a>gl <span class="ot">&lt;-</span> <span class="fu">glance</span>(h2mod)</span>
<span id="cb59-2938"><a href="#cb59-2938" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2939"><a href="#cb59-2939" aria-hidden="true" tabindex="-1"></a><span class="do">## 4) Wrap as a modelsummary_list (no further introspection)</span></span>
<span id="cb59-2940"><a href="#cb59-2940" aria-hidden="true" tabindex="-1"></a>mod_obj <span class="ot">&lt;-</span> <span class="fu">structure</span>(</span>
<span id="cb59-2941"><a href="#cb59-2941" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb59-2942"><a href="#cb59-2942" aria-hidden="true" tabindex="-1"></a>    <span class="at">tidy =</span> tt,</span>
<span id="cb59-2943"><a href="#cb59-2943" aria-hidden="true" tabindex="-1"></a>    <span class="at">glance =</span> gl</span>
<span id="cb59-2944"><a href="#cb59-2944" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-2945"><a href="#cb59-2945" aria-hidden="true" tabindex="-1"></a>  <span class="at">class =</span> <span class="st">"modelsummary_list"</span></span>
<span id="cb59-2946"><a href="#cb59-2946" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-2947"><a href="#cb59-2947" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2948"><a href="#cb59-2948" aria-hidden="true" tabindex="-1"></a><span class="do">## 5) Now call modelsummary on this object</span></span>
<span id="cb59-2949"><a href="#cb59-2949" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(</span>
<span id="cb59-2950"><a href="#cb59-2950" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">"H2: NS &amp; NF associated with likelihood of subsequent play"</span> <span class="ot">=</span> mod_obj),</span>
<span id="cb59-2951"><a href="#cb59-2951" aria-hidden="true" tabindex="-1"></a>  <span class="at">statistic =</span> <span class="fu">c</span>(</span>
<span id="cb59-2952"><a href="#cb59-2952" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CI = [{conf.low}, {conf.high}]"</span>,</span>
<span id="cb59-2953"><a href="#cb59-2953" aria-hidden="true" tabindex="-1"></a>    <span class="st">"s.e. = {std.error}"</span>,</span>
<span id="cb59-2954"><a href="#cb59-2954" aria-hidden="true" tabindex="-1"></a>    <span class="st">"z = {statistic}"</span>,</span>
<span id="cb59-2955"><a href="#cb59-2955" aria-hidden="true" tabindex="-1"></a>    <span class="st">"p = {p.value}"</span></span>
<span id="cb59-2956"><a href="#cb59-2956" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-2957"><a href="#cb59-2957" aria-hidden="true" tabindex="-1"></a>  <span class="at">coef_omit =</span> <span class="st">"wave"</span>,</span>
<span id="cb59-2958"><a href="#cb59-2958" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-2959"><a href="#cb59-2959" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2960"><a href="#cb59-2960" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-2961"><a href="#cb59-2961" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2962"><a href="#cb59-2962" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-2963"><a href="#cb59-2963" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2964"><a href="#cb59-2964" aria-hidden="true" tabindex="-1"></a><span class="fu">### H3: Displacing core domains predicts lower global need satisfaction</span></span>
<span id="cb59-2965"><a href="#cb59-2965" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2968"><a href="#cb59-2968" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-2969"><a href="#cb59-2969" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-full-h3</span></span>
<span id="cb59-2970"><a href="#cb59-2970" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "H3: Complete model summary for displaced core → global NS"</span></span>
<span id="cb59-2971"><a href="#cb59-2971" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Full H3 model output)"</span></span>
<span id="cb59-2972"><a href="#cb59-2972" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2973"><a href="#cb59-2973" aria-hidden="true" tabindex="-1"></a><span class="co"># Use first imputation model for complete summary</span></span>
<span id="cb59-2974"><a href="#cb59-2974" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(</span>
<span id="cb59-2975"><a href="#cb59-2975" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb59-2976"><a href="#cb59-2976" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H3: Displacement of core life domain associated with lower Global NF"</span> <span class="ot">=</span> h3mod</span>
<span id="cb59-2977"><a href="#cb59-2977" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-2978"><a href="#cb59-2978" aria-hidden="true" tabindex="-1"></a>  <span class="at">coef_rename =</span> labels,</span>
<span id="cb59-2979"><a href="#cb59-2979" aria-hidden="true" tabindex="-1"></a>  <span class="at">statistic =</span> <span class="fu">c</span>(</span>
<span id="cb59-2980"><a href="#cb59-2980" aria-hidden="true" tabindex="-1"></a>    <span class="st">"conf.int"</span>,</span>
<span id="cb59-2981"><a href="#cb59-2981" aria-hidden="true" tabindex="-1"></a>    <span class="st">"s.e. = {std.error}"</span>,</span>
<span id="cb59-2982"><a href="#cb59-2982" aria-hidden="true" tabindex="-1"></a>    <span class="st">"t = {statistic}"</span>,</span>
<span id="cb59-2983"><a href="#cb59-2983" aria-hidden="true" tabindex="-1"></a>    <span class="st">"p = {p.value}"</span></span>
<span id="cb59-2984"><a href="#cb59-2984" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-2985"><a href="#cb59-2985" aria-hidden="true" tabindex="-1"></a>  <span class="at">coef_omit =</span> <span class="st">"wave"</span>, <span class="co"># Omit individual AR(1) wave parameters</span></span>
<span id="cb59-2986"><a href="#cb59-2986" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-2987"><a href="#cb59-2987" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-2988"><a href="#cb59-2988" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-2989"><a href="#cb59-2989" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-2990"><a href="#cb59-2990" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2991"><a href="#cb59-2991" aria-hidden="true" tabindex="-1"></a><span class="fu">### Study 2: Game need satisfaction predicts play behavior</span></span>
<span id="cb59-2992"><a href="#cb59-2992" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2995"><a href="#cb59-2995" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-2996"><a href="#cb59-2996" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-full-study2</span></span>
<span id="cb59-2997"><a href="#cb59-2997" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Study 2: Complete model summaries for game NS → play behavior"</span></span>
<span id="cb59-2998"><a href="#cb59-2998" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Full Study 2 model output)"</span></span>
<span id="cb59-2999"><a href="#cb59-2999" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3000"><a href="#cb59-3000" aria-hidden="true" tabindex="-1"></a><span class="co"># Create model summaries for both Study 2 models</span></span>
<span id="cb59-3001"><a href="#cb59-3001" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(</span>
<span id="cb59-3002"><a href="#cb59-3002" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb59-3003"><a href="#cb59-3003" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Session Length"</span> <span class="ot">=</span> pws_m1,</span>
<span id="cb59-3004"><a href="#cb59-3004" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Time to Next Session"</span> <span class="ot">=</span> pws_m2</span>
<span id="cb59-3005"><a href="#cb59-3005" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-3006"><a href="#cb59-3006" aria-hidden="true" tabindex="-1"></a>  <span class="at">coef_rename =</span> labels,</span>
<span id="cb59-3007"><a href="#cb59-3007" aria-hidden="true" tabindex="-1"></a>  <span class="at">statistic =</span> <span class="fu">c</span>(</span>
<span id="cb59-3008"><a href="#cb59-3008" aria-hidden="true" tabindex="-1"></a>    <span class="st">"conf.int"</span>,</span>
<span id="cb59-3009"><a href="#cb59-3009" aria-hidden="true" tabindex="-1"></a>    <span class="st">"s.e. = {std.error}"</span>,</span>
<span id="cb59-3010"><a href="#cb59-3010" aria-hidden="true" tabindex="-1"></a>    <span class="st">"t = {statistic}"</span>,</span>
<span id="cb59-3011"><a href="#cb59-3011" aria-hidden="true" tabindex="-1"></a>    <span class="st">"p = {p.value}"</span></span>
<span id="cb59-3012"><a href="#cb59-3012" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-3013"><a href="#cb59-3013" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-3014"><a href="#cb59-3014" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-3015"><a href="#cb59-3015" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-3016"><a href="#cb59-3016" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3017"><a href="#cb59-3017" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3018"><a href="#cb59-3018" aria-hidden="true" tabindex="-1"></a><span class="fu">## Diagnostics</span></span>
<span id="cb59-3019"><a href="#cb59-3019" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3022"><a href="#cb59-3022" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3023"><a href="#cb59-3023" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-imputation</span></span>
<span id="cb59-3024"><a href="#cb59-3024" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Imputed vs observed distributions for need satisfaction/frustration variables"</span></span>
<span id="cb59-3025"><a href="#cb59-3025" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb59-3026"><a href="#cb59-3026" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 12</span></span>
<span id="cb59-3027"><a href="#cb59-3027" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3028"><a href="#cb59-3028" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare observed vs imputed distributions (pooled across waves)</span></span>
<span id="cb59-3029"><a href="#cb59-3029" aria-hidden="true" tabindex="-1"></a>daily_imputed <span class="sc">|&gt;</span></span>
<span id="cb59-3030"><a href="#cb59-3030" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb59-3031"><a href="#cb59-3031" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(global_ns, global_nf, game_ns),</span>
<span id="cb59-3032"><a href="#cb59-3032" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"variable"</span>,</span>
<span id="cb59-3033"><a href="#cb59-3033" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"value"</span></span>
<span id="cb59-3034"><a href="#cb59-3034" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3035"><a href="#cb59-3035" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(value)) <span class="sc">|&gt;</span></span>
<span id="cb59-3036"><a href="#cb59-3036" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-3037"><a href="#cb59-3037" aria-hidden="true" tabindex="-1"></a>    <span class="at">data_type =</span> <span class="fu">if_else</span>(.imp <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"Observed"</span>, <span class="st">"Imputed"</span>),</span>
<span id="cb59-3038"><a href="#cb59-3038" aria-hidden="true" tabindex="-1"></a>    <span class="at">data_type =</span> <span class="fu">factor</span>(data_type, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Observed"</span>, <span class="st">"Imputed"</span>)),</span>
<span id="cb59-3039"><a href="#cb59-3039" aria-hidden="true" tabindex="-1"></a>    <span class="at">variable =</span> <span class="fu">factor</span>(</span>
<span id="cb59-3040"><a href="#cb59-3040" aria-hidden="true" tabindex="-1"></a>      variable,</span>
<span id="cb59-3041"><a href="#cb59-3041" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"game_ns"</span>, <span class="st">"global_ns"</span>, <span class="st">"global_nf"</span>),</span>
<span id="cb59-3042"><a href="#cb59-3042" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">c</span>(labels[<span class="st">"game_ns"</span>], labels[<span class="st">"global_ns"</span>], labels[<span class="st">"global_nf"</span>])</span>
<span id="cb59-3043"><a href="#cb59-3043" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3044"><a href="#cb59-3044" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3045"><a href="#cb59-3045" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">color =</span> data_type, <span class="at">group =</span> .imp)) <span class="sc">+</span></span>
<span id="cb59-3046"><a href="#cb59-3046" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">linewidth =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb59-3047"><a href="#cb59-3047" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb59-3048"><a href="#cb59-3048" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Observed"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Imputed"</span> <span class="ot">=</span> <span class="st">"steelblue"</span>)</span>
<span id="cb59-3049"><a href="#cb59-3049" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-3050"><a href="#cb59-3050" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>variable, <span class="at">scales =</span> <span class="st">"free"</span>, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb59-3051"><a href="#cb59-3051" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="cn">NULL</span>, <span class="at">x =</span> <span class="st">"Value"</span>, <span class="at">y =</span> <span class="st">"Density"</span>) <span class="sc">+</span></span>
<span id="cb59-3052"><a href="#cb59-3052" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span>
<span id="cb59-3053"><a href="#cb59-3053" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3054"><a href="#cb59-3054" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3055"><a href="#cb59-3055" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3056"><a href="#cb59-3056" aria-hidden="true" tabindex="-1"></a><span class="fu">## Sensitivity Analyses</span></span>
<span id="cb59-3057"><a href="#cb59-3057" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3058"><a href="#cb59-3058" aria-hidden="true" tabindex="-1"></a>We conducted several sensitivity analyses to assess the robustness of our findings regarding the relationship between need satisfaction/frustration and subsequent play behavior.</span>
<span id="cb59-3059"><a href="#cb59-3059" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3060"><a href="#cb59-3060" aria-hidden="true" tabindex="-1"></a><span class="fu">### S1: Temporal window robustness</span></span>
<span id="cb59-3061"><a href="#cb59-3061" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3062"><a href="#cb59-3062" aria-hidden="true" tabindex="-1"></a>Testing whether the temporal window affects results. The main analysis used 24 hours post-survey. Here we test: (a) 12 hours post-survey, (b) 6 hours post-survey, and (c) 24 hours pre-survey (reverse temporal ordering to test bidirectionality).</span>
<span id="cb59-3063"><a href="#cb59-3063" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3066"><a href="#cb59-3066" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3067"><a href="#cb59-3067" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: s1-12h-model</span></span>
<span id="cb59-3068"><a href="#cb59-3068" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-3069"><a href="#cb59-3069" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (S1: Fit models with 12-hour play window)"</span></span>
<span id="cb59-3070"><a href="#cb59-3070" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3071"><a href="#cb59-3071" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb59-3072"><a href="#cb59-3072" aria-hidden="true" tabindex="-1"></a>sens1_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens1_fits.rds"</span></span>
<span id="cb59-3073"><a href="#cb59-3073" aria-hidden="true" tabindex="-1"></a>sens1_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens1_pooled.rds"</span></span>
<span id="cb59-3074"><a href="#cb59-3074" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3075"><a href="#cb59-3075" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens1_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(sens1_pooled_file)) {</span>
<span id="cb59-3076"><a href="#cb59-3076" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S1 model fits"</span>)</span>
<span id="cb59-3077"><a href="#cb59-3077" aria-hidden="true" tabindex="-1"></a>  sens1_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens1_cache_file)</span>
<span id="cb59-3078"><a href="#cb59-3078" aria-hidden="true" tabindex="-1"></a>  sens1_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens1_pooled_file)</span>
<span id="cb59-3079"><a href="#cb59-3079" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-3080"><a href="#cb59-3080" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S1 models..."</span>)</span>
<span id="cb59-3081"><a href="#cb59-3081" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3082"><a href="#cb59-3082" aria-hidden="true" tabindex="-1"></a>  sens1_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb59-3083"><a href="#cb59-3083" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting S1 model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb59-3084"><a href="#cb59-3084" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb59-3085"><a href="#cb59-3085" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb59-3086"><a href="#cb59-3086" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_12h <span class="sc">~</span></span>
<span id="cb59-3087"><a href="#cb59-3087" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb59-3088"><a href="#cb59-3088" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb59-3089"><a href="#cb59-3089" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb59-3090"><a href="#cb59-3090" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb59-3091"><a href="#cb59-3091" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-3092"><a href="#cb59-3092" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-3093"><a href="#cb59-3093" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb59-3094"><a href="#cb59-3094" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb59-3095"><a href="#cb59-3095" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb59-3096"><a href="#cb59-3096" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3097"><a href="#cb59-3097" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb59-3098"><a href="#cb59-3098" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3099"><a href="#cb59-3099" aria-hidden="true" tabindex="-1"></a>  sens1_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(sens1_fits)</span>
<span id="cb59-3100"><a href="#cb59-3100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3101"><a href="#cb59-3101" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb59-3102"><a href="#cb59-3102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens1_fits, sens1_cache_file)</span>
<span id="cb59-3103"><a href="#cb59-3103" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens1_pooled, sens1_pooled_file)</span>
<span id="cb59-3104"><a href="#cb59-3104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S1 models saved to cache"</span>)</span>
<span id="cb59-3105"><a href="#cb59-3105" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-3106"><a href="#cb59-3106" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3107"><a href="#cb59-3107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3110"><a href="#cb59-3110" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3111"><a href="#cb59-3111" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: s1b-6h-model</span></span>
<span id="cb59-3112"><a href="#cb59-3112" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-3113"><a href="#cb59-3113" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (S1b: Fit models with 6-hour play window)"</span></span>
<span id="cb59-3114"><a href="#cb59-3114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3115"><a href="#cb59-3115" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb59-3116"><a href="#cb59-3116" aria-hidden="true" tabindex="-1"></a>sens1b_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens1b_fits.rds"</span></span>
<span id="cb59-3117"><a href="#cb59-3117" aria-hidden="true" tabindex="-1"></a>sens1b_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens1b_pooled.rds"</span></span>
<span id="cb59-3118"><a href="#cb59-3118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3119"><a href="#cb59-3119" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens1b_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(sens1b_pooled_file)) {</span>
<span id="cb59-3120"><a href="#cb59-3120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S1b model fits"</span>)</span>
<span id="cb59-3121"><a href="#cb59-3121" aria-hidden="true" tabindex="-1"></a>  sens1b_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens1b_cache_file)</span>
<span id="cb59-3122"><a href="#cb59-3122" aria-hidden="true" tabindex="-1"></a>  sens1b_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens1b_pooled_file)</span>
<span id="cb59-3123"><a href="#cb59-3123" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-3124"><a href="#cb59-3124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S1b models..."</span>)</span>
<span id="cb59-3125"><a href="#cb59-3125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3126"><a href="#cb59-3126" aria-hidden="true" tabindex="-1"></a>  sens1b_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb59-3127"><a href="#cb59-3127" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting S1b model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb59-3128"><a href="#cb59-3128" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb59-3129"><a href="#cb59-3129" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb59-3130"><a href="#cb59-3130" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_6h <span class="sc">~</span></span>
<span id="cb59-3131"><a href="#cb59-3131" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb59-3132"><a href="#cb59-3132" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb59-3133"><a href="#cb59-3133" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb59-3134"><a href="#cb59-3134" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb59-3135"><a href="#cb59-3135" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-3136"><a href="#cb59-3136" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-3137"><a href="#cb59-3137" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb59-3138"><a href="#cb59-3138" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb59-3139"><a href="#cb59-3139" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb59-3140"><a href="#cb59-3140" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3141"><a href="#cb59-3141" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb59-3142"><a href="#cb59-3142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3143"><a href="#cb59-3143" aria-hidden="true" tabindex="-1"></a>  sens1b_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(sens1b_fits)</span>
<span id="cb59-3144"><a href="#cb59-3144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3145"><a href="#cb59-3145" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb59-3146"><a href="#cb59-3146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens1b_fits, sens1b_cache_file)</span>
<span id="cb59-3147"><a href="#cb59-3147" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens1b_pooled, sens1b_pooled_file)</span>
<span id="cb59-3148"><a href="#cb59-3148" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S1b models saved to cache"</span>)</span>
<span id="cb59-3149"><a href="#cb59-3149" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-3150"><a href="#cb59-3150" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3151"><a href="#cb59-3151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3154"><a href="#cb59-3154" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3155"><a href="#cb59-3155" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: s1c-pre-model</span></span>
<span id="cb59-3156"><a href="#cb59-3156" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-3157"><a href="#cb59-3157" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (S1c: Fit models with 24-hour pre-survey play window)"</span></span>
<span id="cb59-3158"><a href="#cb59-3158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3159"><a href="#cb59-3159" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb59-3160"><a href="#cb59-3160" aria-hidden="true" tabindex="-1"></a>sens1c_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens1c_fits.rds"</span></span>
<span id="cb59-3161"><a href="#cb59-3161" aria-hidden="true" tabindex="-1"></a>sens1c_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens1c_pooled.rds"</span></span>
<span id="cb59-3162"><a href="#cb59-3162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3163"><a href="#cb59-3163" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens1c_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(sens1c_pooled_file)) {</span>
<span id="cb59-3164"><a href="#cb59-3164" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S1c model fits"</span>)</span>
<span id="cb59-3165"><a href="#cb59-3165" aria-hidden="true" tabindex="-1"></a>  sens1c_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens1c_cache_file)</span>
<span id="cb59-3166"><a href="#cb59-3166" aria-hidden="true" tabindex="-1"></a>  sens1c_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens1c_pooled_file)</span>
<span id="cb59-3167"><a href="#cb59-3167" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-3168"><a href="#cb59-3168" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S1c models..."</span>)</span>
<span id="cb59-3169"><a href="#cb59-3169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3170"><a href="#cb59-3170" aria-hidden="true" tabindex="-1"></a>  sens1c_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb59-3171"><a href="#cb59-3171" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting S1c model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb59-3172"><a href="#cb59-3172" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb59-3173"><a href="#cb59-3173" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb59-3174"><a href="#cb59-3174" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h_pre <span class="sc">~</span></span>
<span id="cb59-3175"><a href="#cb59-3175" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb59-3176"><a href="#cb59-3176" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb59-3177"><a href="#cb59-3177" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb59-3178"><a href="#cb59-3178" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb59-3179"><a href="#cb59-3179" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-3180"><a href="#cb59-3180" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-3181"><a href="#cb59-3181" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb59-3182"><a href="#cb59-3182" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb59-3183"><a href="#cb59-3183" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb59-3184"><a href="#cb59-3184" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3185"><a href="#cb59-3185" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb59-3186"><a href="#cb59-3186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3187"><a href="#cb59-3187" aria-hidden="true" tabindex="-1"></a>  sens1c_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(sens1c_fits)</span>
<span id="cb59-3188"><a href="#cb59-3188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3189"><a href="#cb59-3189" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb59-3190"><a href="#cb59-3190" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens1c_fits, sens1c_cache_file)</span>
<span id="cb59-3191"><a href="#cb59-3191" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens1c_pooled, sens1c_pooled_file)</span>
<span id="cb59-3192"><a href="#cb59-3192" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S1c models saved to cache"</span>)</span>
<span id="cb59-3193"><a href="#cb59-3193" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-3194"><a href="#cb59-3194" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3195"><a href="#cb59-3195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3198"><a href="#cb59-3198" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3199"><a href="#cb59-3199" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-s1-temporal-windows</span></span>
<span id="cb59-3200"><a href="#cb59-3200" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "S1: H2 associations across different temporal windows. Main analysis (24h post-survey) shown for comparison. Pre-survey window tests reverse temporal ordering."</span></span>
<span id="cb59-3201"><a href="#cb59-3201" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Create combined temporal windows table)"</span></span>
<span id="cb59-3202"><a href="#cb59-3202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3203"><a href="#cb59-3203" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all results</span></span>
<span id="cb59-3204"><a href="#cb59-3204" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(</span>
<span id="cb59-3205"><a href="#cb59-3205" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_results</span>(h2_pooled, <span class="st">"24h post"</span>),</span>
<span id="cb59-3206"><a href="#cb59-3206" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_results</span>(sens1_pooled, <span class="st">"12h post"</span>),</span>
<span id="cb59-3207"><a href="#cb59-3207" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_results</span>(sens1b_pooled, <span class="st">"6h post"</span>),</span>
<span id="cb59-3208"><a href="#cb59-3208" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_results</span>(sens1c_pooled, <span class="st">"24h pre"</span>)</span>
<span id="cb59-3209"><a href="#cb59-3209" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-3210"><a href="#cb59-3210" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb59-3211"><a href="#cb59-3211" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> window,</span>
<span id="cb59-3212"><a href="#cb59-3212" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> result,</span>
<span id="cb59-3213"><a href="#cb59-3213" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_sort =</span> <span class="cn">FALSE</span></span>
<span id="cb59-3214"><a href="#cb59-3214" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3215"><a href="#cb59-3215" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Parameter =</span> term) <span class="sc">|&gt;</span></span>
<span id="cb59-3216"><a href="#cb59-3216" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-3217"><a href="#cb59-3217" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-3218"><a href="#cb59-3218" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-3219"><a href="#cb59-3219" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3220"><a href="#cb59-3220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3221"><a href="#cb59-3221" aria-hidden="true" tabindex="-1"></a><span class="fu">### S2: Random effects specification robustness</span></span>
<span id="cb59-3222"><a href="#cb59-3222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3223"><a href="#cb59-3223" aria-hidden="true" tabindex="-1"></a>Random slopes allow associations to vary across individuals, which is theoretically appropriate for these constructs. The main analysis used a random intercept only model due to convergence issues in frequentist estimation. Here we test whether this simplification affects fixed effect estimates by comparing four specifications: (a) no random slopes (main model), (b) random slope for game NS within-person only, (c) random slope for global NF within-person only, and (d) both random slopes simultaneously using Bayesian estimation (which handles complex random effects more robustly).</span>
<span id="cb59-3224"><a href="#cb59-3224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3227"><a href="#cb59-3227" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3228"><a href="#cb59-3228" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: s2-brms-model</span></span>
<span id="cb59-3229"><a href="#cb59-3229" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-3230"><a href="#cb59-3230" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (S2: Fit Bayesian model with random slopes)"</span></span>
<span id="cb59-3231"><a href="#cb59-3231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3232"><a href="#cb59-3232" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb59-3233"><a href="#cb59-3233" aria-hidden="true" tabindex="-1"></a>sens2_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens2_fit.rds"</span></span>
<span id="cb59-3234"><a href="#cb59-3234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3235"><a href="#cb59-3235" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens2_cache_file)) {</span>
<span id="cb59-3236"><a href="#cb59-3236" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S2 model fit"</span>)</span>
<span id="cb59-3237"><a href="#cb59-3237" aria-hidden="true" tabindex="-1"></a>  sens2_fit <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens2_cache_file)</span>
<span id="cb59-3238"><a href="#cb59-3238" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-3239"><a href="#cb59-3239" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S2 Bayesian model..."</span>)</span>
<span id="cb59-3240"><a href="#cb59-3240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3241"><a href="#cb59-3241" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use complete cases only</span></span>
<span id="cb59-3242"><a href="#cb59-3242" aria-hidden="true" tabindex="-1"></a>  dat_complete <span class="ot">&lt;-</span> daily_imputed <span class="sc">|&gt;</span></span>
<span id="cb59-3243"><a href="#cb59-3243" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb59-3244"><a href="#cb59-3244" aria-hidden="true" tabindex="-1"></a>      .imp <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb59-3245"><a href="#cb59-3245" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(global_ns),</span>
<span id="cb59-3246"><a href="#cb59-3246" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(global_nf),</span>
<span id="cb59-3247"><a href="#cb59-3247" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(game_ns),</span>
<span id="cb59-3248"><a href="#cb59-3248" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(game_nf),</span>
<span id="cb59-3249"><a href="#cb59-3249" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(telemetry_played_any_24h)</span>
<span id="cb59-3250"><a href="#cb59-3250" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3251"><a href="#cb59-3251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3252"><a href="#cb59-3252" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit Bayesian model with random slopes</span></span>
<span id="cb59-3253"><a href="#cb59-3253" aria-hidden="true" tabindex="-1"></a>  sens2_fit <span class="ot">&lt;-</span> <span class="fu">brm</span>(</span>
<span id="cb59-3254"><a href="#cb59-3254" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb59-3255"><a href="#cb59-3255" aria-hidden="true" tabindex="-1"></a>      game_ns_cw <span class="sc">+</span></span>
<span id="cb59-3256"><a href="#cb59-3256" aria-hidden="true" tabindex="-1"></a>      game_ns_cb <span class="sc">+</span></span>
<span id="cb59-3257"><a href="#cb59-3257" aria-hidden="true" tabindex="-1"></a>      global_nf_cw <span class="sc">+</span></span>
<span id="cb59-3258"><a href="#cb59-3258" aria-hidden="true" tabindex="-1"></a>      global_nf_cb <span class="sc">+</span></span>
<span id="cb59-3259"><a href="#cb59-3259" aria-hidden="true" tabindex="-1"></a>      (<span class="dv">1</span> <span class="sc">+</span> game_ns_cw <span class="sc">+</span> global_nf_cw <span class="sc">|</span> pid),</span>
<span id="cb59-3260"><a href="#cb59-3260" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="fu">bernoulli</span>(),</span>
<span id="cb59-3261"><a href="#cb59-3261" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> dat_complete,</span>
<span id="cb59-3262"><a href="#cb59-3262" aria-hidden="true" tabindex="-1"></a>    <span class="at">chains =</span> <span class="dv">4</span>,</span>
<span id="cb59-3263"><a href="#cb59-3263" aria-hidden="true" tabindex="-1"></a>    <span class="at">cores =</span> <span class="dv">4</span>,</span>
<span id="cb59-3264"><a href="#cb59-3264" aria-hidden="true" tabindex="-1"></a>    <span class="at">iter =</span> <span class="dv">5000</span>,</span>
<span id="cb59-3265"><a href="#cb59-3265" aria-hidden="true" tabindex="-1"></a>    <span class="at">warmup =</span> <span class="dv">1000</span>,</span>
<span id="cb59-3266"><a href="#cb59-3266" aria-hidden="true" tabindex="-1"></a>    <span class="at">seed =</span> <span class="dv">8675309</span></span>
<span id="cb59-3267"><a href="#cb59-3267" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-3268"><a href="#cb59-3268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3269"><a href="#cb59-3269" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb59-3270"><a href="#cb59-3270" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens2_fit, sens2_cache_file)</span>
<span id="cb59-3271"><a href="#cb59-3271" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S2 model saved to cache"</span>)</span>
<span id="cb59-3272"><a href="#cb59-3272" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-3273"><a href="#cb59-3273" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3274"><a href="#cb59-3274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3277"><a href="#cb59-3277" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3278"><a href="#cb59-3278" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: s2-oneslope-models</span></span>
<span id="cb59-3279"><a href="#cb59-3279" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-3280"><a href="#cb59-3280" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (S2: Fit H2 models with one random slope at a time)"</span></span>
<span id="cb59-3281"><a href="#cb59-3281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3282"><a href="#cb59-3282" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb59-3283"><a href="#cb59-3283" aria-hidden="true" tabindex="-1"></a>sens2_h2a_cache <span class="ot">&lt;-</span> <span class="st">"data/models/sens2_h2a_fits.rds"</span></span>
<span id="cb59-3284"><a href="#cb59-3284" aria-hidden="true" tabindex="-1"></a>sens2_h2a_pooled_cache <span class="ot">&lt;-</span> <span class="st">"data/models/sens2_h2a_pooled.rds"</span></span>
<span id="cb59-3285"><a href="#cb59-3285" aria-hidden="true" tabindex="-1"></a>sens2_h2b_cache <span class="ot">&lt;-</span> <span class="st">"data/models/sens2_h2b_fits.rds"</span></span>
<span id="cb59-3286"><a href="#cb59-3286" aria-hidden="true" tabindex="-1"></a>sens2_h2b_pooled_cache <span class="ot">&lt;-</span> <span class="st">"data/models/sens2_h2b_pooled.rds"</span></span>
<span id="cb59-3287"><a href="#cb59-3287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3288"><a href="#cb59-3288" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (</span>
<span id="cb59-3289"><a href="#cb59-3289" aria-hidden="true" tabindex="-1"></a>  <span class="fu">file.exists</span>(sens2_h2a_cache) <span class="sc">&amp;&amp;</span></span>
<span id="cb59-3290"><a href="#cb59-3290" aria-hidden="true" tabindex="-1"></a>    <span class="fu">file.exists</span>(sens2_h2a_pooled_cache) <span class="sc">&amp;&amp;</span></span>
<span id="cb59-3291"><a href="#cb59-3291" aria-hidden="true" tabindex="-1"></a>    <span class="fu">file.exists</span>(sens2_h2b_cache) <span class="sc">&amp;&amp;</span></span>
<span id="cb59-3292"><a href="#cb59-3292" aria-hidden="true" tabindex="-1"></a>    <span class="fu">file.exists</span>(sens2_h2b_pooled_cache)</span>
<span id="cb59-3293"><a href="#cb59-3293" aria-hidden="true" tabindex="-1"></a>) {</span>
<span id="cb59-3294"><a href="#cb59-3294" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S2 one-slope model fits"</span>)</span>
<span id="cb59-3295"><a href="#cb59-3295" aria-hidden="true" tabindex="-1"></a>  s2_h2a_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens2_h2a_cache)</span>
<span id="cb59-3296"><a href="#cb59-3296" aria-hidden="true" tabindex="-1"></a>  s2_h2a_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens2_h2a_pooled_cache)</span>
<span id="cb59-3297"><a href="#cb59-3297" aria-hidden="true" tabindex="-1"></a>  s2_h2b_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens2_h2b_cache)</span>
<span id="cb59-3298"><a href="#cb59-3298" aria-hidden="true" tabindex="-1"></a>  s2_h2b_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens2_h2b_pooled_cache)</span>
<span id="cb59-3299"><a href="#cb59-3299" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-3300"><a href="#cb59-3300" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S2 one-slope models..."</span>)</span>
<span id="cb59-3301"><a href="#cb59-3301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3302"><a href="#cb59-3302" aria-hidden="true" tabindex="-1"></a>  <span class="co"># H2a: Random slope for game_ns_cw only</span></span>
<span id="cb59-3303"><a href="#cb59-3303" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S2 H2a models..."</span>)</span>
<span id="cb59-3304"><a href="#cb59-3304" aria-hidden="true" tabindex="-1"></a>  s2_h2a_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb59-3305"><a href="#cb59-3305" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting S2 H2a model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb59-3306"><a href="#cb59-3306" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb59-3307"><a href="#cb59-3307" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb59-3308"><a href="#cb59-3308" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb59-3309"><a href="#cb59-3309" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb59-3310"><a href="#cb59-3310" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb59-3311"><a href="#cb59-3311" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb59-3312"><a href="#cb59-3312" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb59-3313"><a href="#cb59-3313" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">+</span> game_ns_cw <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-3314"><a href="#cb59-3314" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-3315"><a href="#cb59-3315" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb59-3316"><a href="#cb59-3316" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb59-3317"><a href="#cb59-3317" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb59-3318"><a href="#cb59-3318" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3319"><a href="#cb59-3319" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb59-3320"><a href="#cb59-3320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3321"><a href="#cb59-3321" aria-hidden="true" tabindex="-1"></a>  s2_h2a_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(s2_h2a_fits)</span>
<span id="cb59-3322"><a href="#cb59-3322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3323"><a href="#cb59-3323" aria-hidden="true" tabindex="-1"></a>  <span class="co"># H2b: Random slope for global_nf_cw only</span></span>
<span id="cb59-3324"><a href="#cb59-3324" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S2 H2b models..."</span>)</span>
<span id="cb59-3325"><a href="#cb59-3325" aria-hidden="true" tabindex="-1"></a>  s2_h2b_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb59-3326"><a href="#cb59-3326" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting S2 H2b model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb59-3327"><a href="#cb59-3327" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb59-3328"><a href="#cb59-3328" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb59-3329"><a href="#cb59-3329" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb59-3330"><a href="#cb59-3330" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb59-3331"><a href="#cb59-3331" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb59-3332"><a href="#cb59-3332" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb59-3333"><a href="#cb59-3333" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb59-3334"><a href="#cb59-3334" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">+</span> global_nf_cw <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-3335"><a href="#cb59-3335" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-3336"><a href="#cb59-3336" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb59-3337"><a href="#cb59-3337" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb59-3338"><a href="#cb59-3338" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb59-3339"><a href="#cb59-3339" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3340"><a href="#cb59-3340" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb59-3341"><a href="#cb59-3341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3342"><a href="#cb59-3342" aria-hidden="true" tabindex="-1"></a>  s2_h2b_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(s2_h2b_fits)</span>
<span id="cb59-3343"><a href="#cb59-3343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3344"><a href="#cb59-3344" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb59-3345"><a href="#cb59-3345" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(s2_h2a_fits, sens2_h2a_cache)</span>
<span id="cb59-3346"><a href="#cb59-3346" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(s2_h2a_pooled, sens2_h2a_pooled_cache)</span>
<span id="cb59-3347"><a href="#cb59-3347" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(s2_h2b_fits, sens2_h2b_cache)</span>
<span id="cb59-3348"><a href="#cb59-3348" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(s2_h2b_pooled, sens2_h2b_pooled_cache)</span>
<span id="cb59-3349"><a href="#cb59-3349" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S2 one-slope models saved to cache"</span>)</span>
<span id="cb59-3350"><a href="#cb59-3350" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-3351"><a href="#cb59-3351" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3352"><a href="#cb59-3352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3355"><a href="#cb59-3355" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3356"><a href="#cb59-3356" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-s2-specification-comparison</span></span>
<span id="cb59-3357"><a href="#cb59-3357" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "S2: H2 fixed effect estimates across random effects specifications. Frequentist estimates (first three columns) show estimate (p-value). Bayesian estimates show estimate [95% credible interval]."</span></span>
<span id="cb59-3358"><a href="#cb59-3358" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Create S2 combined specification comparison table)"</span></span>
<span id="cb59-3359"><a href="#cb59-3359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3360"><a href="#cb59-3360" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract estimates from main H2 model (no random slopes)</span></span>
<span id="cb59-3361"><a href="#cb59-3361" aria-hidden="true" tabindex="-1"></a>h2_simple <span class="ot">&lt;-</span> <span class="fu">summary</span>(h2_pooled) <span class="sc">|&gt;</span></span>
<span id="cb59-3362"><a href="#cb59-3362" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-3363"><a href="#cb59-3363" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb59-3364"><a href="#cb59-3364" aria-hidden="true" tabindex="-1"></a>    term <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"game_ns_cw"</span>, <span class="st">"global_nf_cw"</span>)</span>
<span id="cb59-3365"><a href="#cb59-3365" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3366"><a href="#cb59-3366" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-3367"><a href="#cb59-3367" aria-hidden="true" tabindex="-1"></a>    <span class="at">result =</span> <span class="fu">glue</span>(</span>
<span id="cb59-3368"><a href="#cb59-3368" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{round(estimate, 3)} ({ifelse(p.value &lt; 0.001, '&lt;.001', round(p.value, 3))})"</span></span>
<span id="cb59-3369"><a href="#cb59-3369" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3370"><a href="#cb59-3370" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3371"><a href="#cb59-3371" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, result) <span class="sc">|&gt;</span></span>
<span id="cb59-3372"><a href="#cb59-3372" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">specification =</span> <span class="st">"No slopes"</span>)</span>
<span id="cb59-3373"><a href="#cb59-3373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3374"><a href="#cb59-3374" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract estimates from one-slope models</span></span>
<span id="cb59-3375"><a href="#cb59-3375" aria-hidden="true" tabindex="-1"></a>h2a_est <span class="ot">&lt;-</span> <span class="fu">summary</span>(s2_h2a_pooled) <span class="sc">|&gt;</span></span>
<span id="cb59-3376"><a href="#cb59-3376" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-3377"><a href="#cb59-3377" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb59-3378"><a href="#cb59-3378" aria-hidden="true" tabindex="-1"></a>    term <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"game_ns_cw"</span>, <span class="st">"global_nf_cw"</span>)</span>
<span id="cb59-3379"><a href="#cb59-3379" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3380"><a href="#cb59-3380" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-3381"><a href="#cb59-3381" aria-hidden="true" tabindex="-1"></a>    <span class="at">result =</span> <span class="fu">glue</span>(</span>
<span id="cb59-3382"><a href="#cb59-3382" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{round(estimate, 3)} ({ifelse(p.value &lt; 0.001, '&lt;.001', round(p.value, 3))})"</span></span>
<span id="cb59-3383"><a href="#cb59-3383" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3384"><a href="#cb59-3384" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3385"><a href="#cb59-3385" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, result) <span class="sc">|&gt;</span></span>
<span id="cb59-3386"><a href="#cb59-3386" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">specification =</span> <span class="st">"RS: game NS"</span>)</span>
<span id="cb59-3387"><a href="#cb59-3387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3388"><a href="#cb59-3388" aria-hidden="true" tabindex="-1"></a>h2b_est <span class="ot">&lt;-</span> <span class="fu">summary</span>(s2_h2b_pooled) <span class="sc">|&gt;</span></span>
<span id="cb59-3389"><a href="#cb59-3389" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-3390"><a href="#cb59-3390" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb59-3391"><a href="#cb59-3391" aria-hidden="true" tabindex="-1"></a>    term <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"game_ns_cw"</span>, <span class="st">"global_nf_cw"</span>)</span>
<span id="cb59-3392"><a href="#cb59-3392" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3393"><a href="#cb59-3393" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-3394"><a href="#cb59-3394" aria-hidden="true" tabindex="-1"></a>    <span class="at">result =</span> <span class="fu">glue</span>(</span>
<span id="cb59-3395"><a href="#cb59-3395" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{round(estimate, 3)} ({ifelse(p.value &lt; 0.001, '&lt;.001', round(p.value, 3))})"</span></span>
<span id="cb59-3396"><a href="#cb59-3396" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3397"><a href="#cb59-3397" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3398"><a href="#cb59-3398" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, result) <span class="sc">|&gt;</span></span>
<span id="cb59-3399"><a href="#cb59-3399" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">specification =</span> <span class="st">"RS: global NF"</span>)</span>
<span id="cb59-3400"><a href="#cb59-3400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3401"><a href="#cb59-3401" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract estimates from Bayesian model with both slopes</span></span>
<span id="cb59-3402"><a href="#cb59-3402" aria-hidden="true" tabindex="-1"></a>sens2_est <span class="ot">&lt;-</span> <span class="fu">summary</span>(sens2_fit)<span class="sc">$</span>fixed <span class="sc">|&gt;</span></span>
<span id="cb59-3403"><a href="#cb59-3403" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">rownames =</span> <span class="st">"term"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-3404"><a href="#cb59-3404" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb59-3405"><a href="#cb59-3405" aria-hidden="true" tabindex="-1"></a>    term <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"game_ns_cw"</span>, <span class="st">"global_nf_cw"</span>)</span>
<span id="cb59-3406"><a href="#cb59-3406" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3407"><a href="#cb59-3407" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-3408"><a href="#cb59-3408" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Bayesian doesn't have p-values, show 95% CI instead</span></span>
<span id="cb59-3409"><a href="#cb59-3409" aria-hidden="true" tabindex="-1"></a>    <span class="at">result =</span> <span class="fu">glue</span>(</span>
<span id="cb59-3410"><a href="#cb59-3410" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{round(Estimate, 3)} [{round(`l-95% CI`, 3)}, {round(`u-95% CI`, 3)}]"</span></span>
<span id="cb59-3411"><a href="#cb59-3411" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3412"><a href="#cb59-3412" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3413"><a href="#cb59-3413" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, result) <span class="sc">|&gt;</span></span>
<span id="cb59-3414"><a href="#cb59-3414" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">specification =</span> <span class="st">"Both slopes (Bayesian)"</span>)</span>
<span id="cb59-3415"><a href="#cb59-3415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3416"><a href="#cb59-3416" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all specifications</span></span>
<span id="cb59-3417"><a href="#cb59-3417" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(h2_simple, h2a_est, h2b_est, sens2_est) <span class="sc">|&gt;</span></span>
<span id="cb59-3418"><a href="#cb59-3418" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-3419"><a href="#cb59-3419" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term)</span>
<span id="cb59-3420"><a href="#cb59-3420" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3421"><a href="#cb59-3421" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> specification, <span class="at">values_from =</span> result) <span class="sc">|&gt;</span></span>
<span id="cb59-3422"><a href="#cb59-3422" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Parameter =</span> term) <span class="sc">|&gt;</span></span>
<span id="cb59-3423"><a href="#cb59-3423" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-3424"><a href="#cb59-3424" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-3425"><a href="#cb59-3425" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-3426"><a href="#cb59-3426" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3427"><a href="#cb59-3427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3428"><a href="#cb59-3428" aria-hidden="true" tabindex="-1"></a><span class="fu">### S3: Play volume (continuous outcome)</span></span>
<span id="cb59-3429"><a href="#cb59-3429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3430"><a href="#cb59-3430" aria-hidden="true" tabindex="-1"></a>Testing whether the predictors have a linear association with play volume in minutes, rather than binary play occurrence. Uses Gaussian family for continuous outcome.</span>
<span id="cb59-3431"><a href="#cb59-3431" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3434"><a href="#cb59-3434" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3435"><a href="#cb59-3435" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: s3-playvolume-model</span></span>
<span id="cb59-3436"><a href="#cb59-3436" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-3437"><a href="#cb59-3437" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (S3: Fit models predicting continuous play volume)"</span></span>
<span id="cb59-3438"><a href="#cb59-3438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3439"><a href="#cb59-3439" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb59-3440"><a href="#cb59-3440" aria-hidden="true" tabindex="-1"></a>sens3_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens3_fits.rds"</span></span>
<span id="cb59-3441"><a href="#cb59-3441" aria-hidden="true" tabindex="-1"></a>sens3_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens3_pooled.rds"</span></span>
<span id="cb59-3442"><a href="#cb59-3442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3443"><a href="#cb59-3443" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens3_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(sens3_pooled_file)) {</span>
<span id="cb59-3444"><a href="#cb59-3444" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S3 model fits"</span>)</span>
<span id="cb59-3445"><a href="#cb59-3445" aria-hidden="true" tabindex="-1"></a>  sens3_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens3_cache_file)</span>
<span id="cb59-3446"><a href="#cb59-3446" aria-hidden="true" tabindex="-1"></a>  sens3_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens3_pooled_file)</span>
<span id="cb59-3447"><a href="#cb59-3447" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-3448"><a href="#cb59-3448" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S3 models..."</span>)</span>
<span id="cb59-3449"><a href="#cb59-3449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3450"><a href="#cb59-3450" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit model to each imputed dataset</span></span>
<span id="cb59-3451"><a href="#cb59-3451" aria-hidden="true" tabindex="-1"></a>  sens3_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb59-3452"><a href="#cb59-3452" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting S3 model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb59-3453"><a href="#cb59-3453" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb59-3454"><a href="#cb59-3454" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb59-3455"><a href="#cb59-3455" aria-hidden="true" tabindex="-1"></a>      play_minutes_24h <span class="sc">~</span></span>
<span id="cb59-3456"><a href="#cb59-3456" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb59-3457"><a href="#cb59-3457" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb59-3458"><a href="#cb59-3458" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb59-3459"><a href="#cb59-3459" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb59-3460"><a href="#cb59-3460" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-3461"><a href="#cb59-3461" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-3462"><a href="#cb59-3462" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb59-3463"><a href="#cb59-3463" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">gaussian</span>()</span>
<span id="cb59-3464"><a href="#cb59-3464" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3465"><a href="#cb59-3465" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb59-3466"><a href="#cb59-3466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3467"><a href="#cb59-3467" aria-hidden="true" tabindex="-1"></a>  sens3_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(sens3_fits)</span>
<span id="cb59-3468"><a href="#cb59-3468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3469"><a href="#cb59-3469" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb59-3470"><a href="#cb59-3470" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens3_fits, sens3_cache_file)</span>
<span id="cb59-3471"><a href="#cb59-3471" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens3_pooled, sens3_pooled_file)</span>
<span id="cb59-3472"><a href="#cb59-3472" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S3 models saved to cache"</span>)</span>
<span id="cb59-3473"><a href="#cb59-3473" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-3474"><a href="#cb59-3474" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3475"><a href="#cb59-3475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3478"><a href="#cb59-3478" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3479"><a href="#cb59-3479" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-s3-results</span></span>
<span id="cb59-3480"><a href="#cb59-3480" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "S3: H2 predicting continuous play volume (minutes)"</span></span>
<span id="cb59-3481"><a href="#cb59-3481" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Create S5 results table)"</span></span>
<span id="cb59-3482"><a href="#cb59-3482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3483"><a href="#cb59-3483" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sens3_pooled) <span class="sc">|&gt;</span></span>
<span id="cb59-3484"><a href="#cb59-3484" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-3485"><a href="#cb59-3485" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>, <span class="sc">!</span><span class="fu">str_detect</span>(term, <span class="st">"_cb"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-3486"><a href="#cb59-3486" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, estimate, std.error, statistic, p.value) <span class="sc">|&gt;</span></span>
<span id="cb59-3487"><a href="#cb59-3487" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-3488"><a href="#cb59-3488" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term),</span>
<span id="cb59-3489"><a href="#cb59-3489" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(estimate, std.error, statistic), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>)),</span>
<span id="cb59-3490"><a href="#cb59-3490" aria-hidden="true" tabindex="-1"></a>    <span class="at">p.value =</span> <span class="fu">case_when</span>(</span>
<span id="cb59-3491"><a href="#cb59-3491" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;.001"</span>,</span>
<span id="cb59-3492"><a href="#cb59-3492" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(<span class="fu">round</span>(p.value, <span class="dv">3</span>))</span>
<span id="cb59-3493"><a href="#cb59-3493" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3494"><a href="#cb59-3494" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3495"><a href="#cb59-3495" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb59-3496"><a href="#cb59-3496" aria-hidden="true" tabindex="-1"></a>    <span class="at">Parameter =</span> term,</span>
<span id="cb59-3497"><a href="#cb59-3497" aria-hidden="true" tabindex="-1"></a>    <span class="at">Estimate =</span> estimate,</span>
<span id="cb59-3498"><a href="#cb59-3498" aria-hidden="true" tabindex="-1"></a>    <span class="at">SE =</span> std.error,</span>
<span id="cb59-3499"><a href="#cb59-3499" aria-hidden="true" tabindex="-1"></a>    <span class="at">t =</span> statistic,</span>
<span id="cb59-3500"><a href="#cb59-3500" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> p.value</span>
<span id="cb59-3501"><a href="#cb59-3501" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3502"><a href="#cb59-3502" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-3503"><a href="#cb59-3503" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-3504"><a href="#cb59-3504" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-3505"><a href="#cb59-3505" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3506"><a href="#cb59-3506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3507"><a href="#cb59-3507" aria-hidden="true" tabindex="-1"></a><span class="fu">### S4: Complete cases only (no imputation)</span></span>
<span id="cb59-3508"><a href="#cb59-3508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3509"><a href="#cb59-3509" aria-hidden="true" tabindex="-1"></a>Testing whether multiple imputation introduced bias. Main analysis used MICE with PMM; here we analyze only complete cases.</span>
<span id="cb59-3510"><a href="#cb59-3510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3513"><a href="#cb59-3513" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3514"><a href="#cb59-3514" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: s4-complete-model</span></span>
<span id="cb59-3515"><a href="#cb59-3515" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-3516"><a href="#cb59-3516" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (S4: Fit models on complete cases only)"</span></span>
<span id="cb59-3517"><a href="#cb59-3517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3518"><a href="#cb59-3518" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb59-3519"><a href="#cb59-3519" aria-hidden="true" tabindex="-1"></a>sens4_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens4_fit.rds"</span></span>
<span id="cb59-3520"><a href="#cb59-3520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3521"><a href="#cb59-3521" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens4_cache_file)) {</span>
<span id="cb59-3522"><a href="#cb59-3522" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S4 model fit"</span>)</span>
<span id="cb59-3523"><a href="#cb59-3523" aria-hidden="true" tabindex="-1"></a>  sens4_fit <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens4_cache_file)</span>
<span id="cb59-3524"><a href="#cb59-3524" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-3525"><a href="#cb59-3525" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S4 model..."</span>)</span>
<span id="cb59-3526"><a href="#cb59-3526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3527"><a href="#cb59-3527" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use .imp == 0 (original data with missingness)</span></span>
<span id="cb59-3528"><a href="#cb59-3528" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to complete cases on key variables</span></span>
<span id="cb59-3529"><a href="#cb59-3529" aria-hidden="true" tabindex="-1"></a>  dat_complete <span class="ot">&lt;-</span> daily_imputed <span class="sc">|&gt;</span></span>
<span id="cb59-3530"><a href="#cb59-3530" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb59-3531"><a href="#cb59-3531" aria-hidden="true" tabindex="-1"></a>      .imp <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb59-3532"><a href="#cb59-3532" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(global_ns),</span>
<span id="cb59-3533"><a href="#cb59-3533" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(global_nf),</span>
<span id="cb59-3534"><a href="#cb59-3534" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(game_ns),</span>
<span id="cb59-3535"><a href="#cb59-3535" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(game_nf),</span>
<span id="cb59-3536"><a href="#cb59-3536" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(telemetry_played_any_24h)</span>
<span id="cb59-3537"><a href="#cb59-3537" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3538"><a href="#cb59-3538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3539"><a href="#cb59-3539" aria-hidden="true" tabindex="-1"></a>  sens4_fit <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(</span>
<span id="cb59-3540"><a href="#cb59-3540" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb59-3541"><a href="#cb59-3541" aria-hidden="true" tabindex="-1"></a>      game_ns_cw <span class="sc">+</span></span>
<span id="cb59-3542"><a href="#cb59-3542" aria-hidden="true" tabindex="-1"></a>      game_ns_cb <span class="sc">+</span></span>
<span id="cb59-3543"><a href="#cb59-3543" aria-hidden="true" tabindex="-1"></a>      global_nf_cw <span class="sc">+</span></span>
<span id="cb59-3544"><a href="#cb59-3544" aria-hidden="true" tabindex="-1"></a>      global_nf_cb <span class="sc">+</span></span>
<span id="cb59-3545"><a href="#cb59-3545" aria-hidden="true" tabindex="-1"></a>      (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-3546"><a href="#cb59-3546" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-3547"><a href="#cb59-3547" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> dat_complete,</span>
<span id="cb59-3548"><a href="#cb59-3548" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb59-3549"><a href="#cb59-3549" aria-hidden="true" tabindex="-1"></a>    <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb59-3550"><a href="#cb59-3550" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-3551"><a href="#cb59-3551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3552"><a href="#cb59-3552" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb59-3553"><a href="#cb59-3553" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens4_fit, sens4_cache_file)</span>
<span id="cb59-3554"><a href="#cb59-3554" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S4 model saved to cache"</span>)</span>
<span id="cb59-3555"><a href="#cb59-3555" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-3556"><a href="#cb59-3556" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3557"><a href="#cb59-3557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3560"><a href="#cb59-3560" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3561"><a href="#cb59-3561" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-s4-results</span></span>
<span id="cb59-3562"><a href="#cb59-3562" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "S4: H2 with complete cases only (no imputation)"</span></span>
<span id="cb59-3563"><a href="#cb59-3563" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Create S4 results table)"</span></span>
<span id="cb59-3564"><a href="#cb59-3564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3565"><a href="#cb59-3565" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sens4_fit)<span class="sc">$</span>coefficients<span class="sc">$</span>cond <span class="sc">|&gt;</span></span>
<span id="cb59-3566"><a href="#cb59-3566" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">rownames =</span> <span class="st">"term"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-3567"><a href="#cb59-3567" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>, <span class="sc">!</span><span class="fu">str_detect</span>(term, <span class="st">"_cb"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-3568"><a href="#cb59-3568" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, Estimate, <span class="st">`</span><span class="at">Std. Error</span><span class="st">`</span>, <span class="st">`</span><span class="at">z value</span><span class="st">`</span>, <span class="st">`</span><span class="at">Pr(&gt;|z|)</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-3569"><a href="#cb59-3569" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-3570"><a href="#cb59-3570" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term),</span>
<span id="cb59-3571"><a href="#cb59-3571" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(Estimate, <span class="st">`</span><span class="at">Std. Error</span><span class="st">`</span>, <span class="st">`</span><span class="at">z value</span><span class="st">`</span>), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>)),</span>
<span id="cb59-3572"><a href="#cb59-3572" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Pr(&gt;|z|)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb59-3573"><a href="#cb59-3573" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Pr(&gt;|z|)</span><span class="st">`</span> <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;.001"</span>,</span>
<span id="cb59-3574"><a href="#cb59-3574" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="st">`</span><span class="at">Pr(&gt;|z|)</span><span class="st">`</span>, <span class="dv">3</span>))</span>
<span id="cb59-3575"><a href="#cb59-3575" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3576"><a href="#cb59-3576" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3577"><a href="#cb59-3577" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Parameter =</span> term, <span class="at">SE =</span> <span class="st">`</span><span class="at">Std. Error</span><span class="st">`</span>, <span class="at">z =</span> <span class="st">`</span><span class="at">z value</span><span class="st">`</span>, <span class="at">p =</span> <span class="st">`</span><span class="at">Pr(&gt;|z|)</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-3578"><a href="#cb59-3578" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-3579"><a href="#cb59-3579" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-3580"><a href="#cb59-3580" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-3581"><a href="#cb59-3581" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3582"><a href="#cb59-3582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3583"><a href="#cb59-3583" aria-hidden="true" tabindex="-1"></a><span class="fu">### S5: Full sample imputation (preregistered approach)</span></span>
<span id="cb59-3584"><a href="#cb59-3584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3585"><a href="#cb59-3585" aria-hidden="true" tabindex="-1"></a>Main analysis imputed analytical sample only (≥15 waves, N~555) for statistical soundness. Preregistration specified imputing all participants. Here we implement that approach for comparison, though note that imputing 80%+ missing data for sparse participants is statistically questionable.</span>
<span id="cb59-3586"><a href="#cb59-3586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3589"><a href="#cb59-3589" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3590"><a href="#cb59-3590" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: s7-full-imputation</span></span>
<span id="cb59-3591"><a href="#cb59-3591" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-3592"><a href="#cb59-3592" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (S5: Run imputation on full sample)"</span></span>
<span id="cb59-3593"><a href="#cb59-3593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3594"><a href="#cb59-3594" aria-hidden="true" tabindex="-1"></a><span class="co"># Set M for full sample imputation (can be lower for testing)</span></span>
<span id="cb59-3595"><a href="#cb59-3595" aria-hidden="true" tabindex="-1"></a>M_FULL_SAMPLE <span class="ot">&lt;-</span> <span class="dv">3</span> <span class="co"># Set to 27 for final run</span></span>
<span id="cb59-3596"><a href="#cb59-3596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3597"><a href="#cb59-3597" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="st">"=== FULL SAMPLE IMPUTATION (PREREGISTERED) ==="</span>)</span>
<span id="cb59-3598"><a href="#cb59-3598" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb59-3599"><a href="#cb59-3599" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Imputing all {length(full_eligible_pids)} participants with M={M_FULL_SAMPLE}"</span></span>
<span id="cb59-3600"><a href="#cb59-3600" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb59-3601"><a href="#cb59-3601" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3602"><a href="#cb59-3602" aria-hidden="true" tabindex="-1"></a><span class="co"># Separate telemetry (no missing data) - use full sample</span></span>
<span id="cb59-3603"><a href="#cb59-3603" aria-hidden="true" tabindex="-1"></a>telemetry_vars_full <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb59-3604"><a href="#cb59-3604" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb59-3605"><a href="#cb59-3605" aria-hidden="true" tabindex="-1"></a>    pid,</span>
<span id="cb59-3606"><a href="#cb59-3606" aria-hidden="true" tabindex="-1"></a>    wave,</span>
<span id="cb59-3607"><a href="#cb59-3607" aria-hidden="true" tabindex="-1"></a>    date,</span>
<span id="cb59-3608"><a href="#cb59-3608" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h,</span>
<span id="cb59-3609"><a href="#cb59-3609" aria-hidden="true" tabindex="-1"></a>    play_minutes_24h,</span>
<span id="cb59-3610"><a href="#cb59-3610" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_12h,</span>
<span id="cb59-3611"><a href="#cb59-3611" aria-hidden="true" tabindex="-1"></a>    play_minutes_12h,</span>
<span id="cb59-3612"><a href="#cb59-3612" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_6h,</span>
<span id="cb59-3613"><a href="#cb59-3613" aria-hidden="true" tabindex="-1"></a>    play_minutes_6h,</span>
<span id="cb59-3614"><a href="#cb59-3614" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h_pre,</span>
<span id="cb59-3615"><a href="#cb59-3615" aria-hidden="true" tabindex="-1"></a>    play_minutes_24h_pre</span>
<span id="cb59-3616"><a href="#cb59-3616" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-3617"><a href="#cb59-3617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3618"><a href="#cb59-3618" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to wide format for imputation - NO FILTER</span></span>
<span id="cb59-3619"><a href="#cb59-3619" aria-hidden="true" tabindex="-1"></a>surveys_wide_full <span class="ot">&lt;-</span> surveys <span class="sc">|&gt;</span></span>
<span id="cb59-3620"><a href="#cb59-3620" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb59-3621"><a href="#cb59-3621" aria-hidden="true" tabindex="-1"></a>    pid,</span>
<span id="cb59-3622"><a href="#cb59-3622" aria-hidden="true" tabindex="-1"></a>    wave,</span>
<span id="cb59-3623"><a href="#cb59-3623" aria-hidden="true" tabindex="-1"></a>    age,</span>
<span id="cb59-3624"><a href="#cb59-3624" aria-hidden="true" tabindex="-1"></a>    gender,</span>
<span id="cb59-3625"><a href="#cb59-3625" aria-hidden="true" tabindex="-1"></a>    edu_level,</span>
<span id="cb59-3626"><a href="#cb59-3626" aria-hidden="true" tabindex="-1"></a>    employment,</span>
<span id="cb59-3627"><a href="#cb59-3627" aria-hidden="true" tabindex="-1"></a>    marital_status,</span>
<span id="cb59-3628"><a href="#cb59-3628" aria-hidden="true" tabindex="-1"></a>    life_sat_baseline,</span>
<span id="cb59-3629"><a href="#cb59-3629" aria-hidden="true" tabindex="-1"></a>    wemwbs,</span>
<span id="cb59-3630"><a href="#cb59-3630" aria-hidden="true" tabindex="-1"></a>    diaries_completed,</span>
<span id="cb59-3631"><a href="#cb59-3631" aria-hidden="true" tabindex="-1"></a>    self_reported_weekly_play,</span>
<span id="cb59-3632"><a href="#cb59-3632" aria-hidden="true" tabindex="-1"></a>    self_reported_played_24h,</span>
<span id="cb59-3633"><a href="#cb59-3633" aria-hidden="true" tabindex="-1"></a>    displaced_core_domain,</span>
<span id="cb59-3634"><a href="#cb59-3634" aria-hidden="true" tabindex="-1"></a>    bpnsfs_1,</span>
<span id="cb59-3635"><a href="#cb59-3635" aria-hidden="true" tabindex="-1"></a>    bpnsfs_2,</span>
<span id="cb59-3636"><a href="#cb59-3636" aria-hidden="true" tabindex="-1"></a>    bpnsfs_3,</span>
<span id="cb59-3637"><a href="#cb59-3637" aria-hidden="true" tabindex="-1"></a>    bpnsfs_4,</span>
<span id="cb59-3638"><a href="#cb59-3638" aria-hidden="true" tabindex="-1"></a>    bpnsfs_5,</span>
<span id="cb59-3639"><a href="#cb59-3639" aria-hidden="true" tabindex="-1"></a>    bpnsfs_6,</span>
<span id="cb59-3640"><a href="#cb59-3640" aria-hidden="true" tabindex="-1"></a>    bangs_1,</span>
<span id="cb59-3641"><a href="#cb59-3641" aria-hidden="true" tabindex="-1"></a>    bangs_2,</span>
<span id="cb59-3642"><a href="#cb59-3642" aria-hidden="true" tabindex="-1"></a>    bangs_3,</span>
<span id="cb59-3643"><a href="#cb59-3643" aria-hidden="true" tabindex="-1"></a>    bangs_4,</span>
<span id="cb59-3644"><a href="#cb59-3644" aria-hidden="true" tabindex="-1"></a>    bangs_5,</span>
<span id="cb59-3645"><a href="#cb59-3645" aria-hidden="true" tabindex="-1"></a>    bangs_6</span>
<span id="cb59-3646"><a href="#cb59-3646" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3647"><a href="#cb59-3647" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb59-3648"><a href="#cb59-3648" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_cols =</span> <span class="fu">c</span>(</span>
<span id="cb59-3649"><a href="#cb59-3649" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb59-3650"><a href="#cb59-3650" aria-hidden="true" tabindex="-1"></a>      age,</span>
<span id="cb59-3651"><a href="#cb59-3651" aria-hidden="true" tabindex="-1"></a>      gender,</span>
<span id="cb59-3652"><a href="#cb59-3652" aria-hidden="true" tabindex="-1"></a>      edu_level,</span>
<span id="cb59-3653"><a href="#cb59-3653" aria-hidden="true" tabindex="-1"></a>      employment,</span>
<span id="cb59-3654"><a href="#cb59-3654" aria-hidden="true" tabindex="-1"></a>      marital_status,</span>
<span id="cb59-3655"><a href="#cb59-3655" aria-hidden="true" tabindex="-1"></a>      life_sat_baseline,</span>
<span id="cb59-3656"><a href="#cb59-3656" aria-hidden="true" tabindex="-1"></a>      wemwbs,</span>
<span id="cb59-3657"><a href="#cb59-3657" aria-hidden="true" tabindex="-1"></a>      diaries_completed,</span>
<span id="cb59-3658"><a href="#cb59-3658" aria-hidden="true" tabindex="-1"></a>      self_reported_weekly_play</span>
<span id="cb59-3659"><a href="#cb59-3659" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-3660"><a href="#cb59-3660" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> wave,</span>
<span id="cb59-3661"><a href="#cb59-3661" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> <span class="fu">c</span>(</span>
<span id="cb59-3662"><a href="#cb59-3662" aria-hidden="true" tabindex="-1"></a>      self_reported_played_24h,</span>
<span id="cb59-3663"><a href="#cb59-3663" aria-hidden="true" tabindex="-1"></a>      displaced_core_domain,</span>
<span id="cb59-3664"><a href="#cb59-3664" aria-hidden="true" tabindex="-1"></a>      bpnsfs_1,</span>
<span id="cb59-3665"><a href="#cb59-3665" aria-hidden="true" tabindex="-1"></a>      bpnsfs_2,</span>
<span id="cb59-3666"><a href="#cb59-3666" aria-hidden="true" tabindex="-1"></a>      bpnsfs_3,</span>
<span id="cb59-3667"><a href="#cb59-3667" aria-hidden="true" tabindex="-1"></a>      bpnsfs_4,</span>
<span id="cb59-3668"><a href="#cb59-3668" aria-hidden="true" tabindex="-1"></a>      bpnsfs_5,</span>
<span id="cb59-3669"><a href="#cb59-3669" aria-hidden="true" tabindex="-1"></a>      bpnsfs_6,</span>
<span id="cb59-3670"><a href="#cb59-3670" aria-hidden="true" tabindex="-1"></a>      bangs_1,</span>
<span id="cb59-3671"><a href="#cb59-3671" aria-hidden="true" tabindex="-1"></a>      bangs_2,</span>
<span id="cb59-3672"><a href="#cb59-3672" aria-hidden="true" tabindex="-1"></a>      bangs_3,</span>
<span id="cb59-3673"><a href="#cb59-3673" aria-hidden="true" tabindex="-1"></a>      bangs_4,</span>
<span id="cb59-3674"><a href="#cb59-3674" aria-hidden="true" tabindex="-1"></a>      bangs_5,</span>
<span id="cb59-3675"><a href="#cb59-3675" aria-hidden="true" tabindex="-1"></a>      bangs_6</span>
<span id="cb59-3676"><a href="#cb59-3676" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-3677"><a href="#cb59-3677" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_sep =</span> <span class="st">"_w"</span></span>
<span id="cb59-3678"><a href="#cb59-3678" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-3679"><a href="#cb59-3679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3680"><a href="#cb59-3680" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up imputation methods (same as analytical sample)</span></span>
<span id="cb59-3681"><a href="#cb59-3681" aria-hidden="true" tabindex="-1"></a>played_vars_full <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide_full)[<span class="fu">grepl</span>(</span>
<span id="cb59-3682"><a href="#cb59-3682" aria-hidden="true" tabindex="-1"></a>  <span class="st">"^self_reported_played_24h_w"</span>,</span>
<span id="cb59-3683"><a href="#cb59-3683" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(surveys_wide_full)</span>
<span id="cb59-3684"><a href="#cb59-3684" aria-hidden="true" tabindex="-1"></a>)]</span>
<span id="cb59-3685"><a href="#cb59-3685" aria-hidden="true" tabindex="-1"></a>bpnsfs_vars_full <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide_full)[<span class="fu">grepl</span>(</span>
<span id="cb59-3686"><a href="#cb59-3686" aria-hidden="true" tabindex="-1"></a>  <span class="st">"^bpnsfs_[1-6]_w"</span>,</span>
<span id="cb59-3687"><a href="#cb59-3687" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(surveys_wide_full)</span>
<span id="cb59-3688"><a href="#cb59-3688" aria-hidden="true" tabindex="-1"></a>)]</span>
<span id="cb59-3689"><a href="#cb59-3689" aria-hidden="true" tabindex="-1"></a>bangs_vars_full <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide_full)[<span class="fu">grepl</span>(</span>
<span id="cb59-3690"><a href="#cb59-3690" aria-hidden="true" tabindex="-1"></a>  <span class="st">"^bangs_[1-6]_w"</span>,</span>
<span id="cb59-3691"><a href="#cb59-3691" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(surveys_wide_full)</span>
<span id="cb59-3692"><a href="#cb59-3692" aria-hidden="true" tabindex="-1"></a>)]</span>
<span id="cb59-3693"><a href="#cb59-3693" aria-hidden="true" tabindex="-1"></a>displaced_vars_full <span class="ot">&lt;-</span> <span class="fu">names</span>(surveys_wide_full)[<span class="fu">grepl</span>(</span>
<span id="cb59-3694"><a href="#cb59-3694" aria-hidden="true" tabindex="-1"></a>  <span class="st">"^displaced_core_domain_w"</span>,</span>
<span id="cb59-3695"><a href="#cb59-3695" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(surveys_wide_full)</span>
<span id="cb59-3696"><a href="#cb59-3696" aria-hidden="true" tabindex="-1"></a>)]</span>
<span id="cb59-3697"><a href="#cb59-3697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3698"><a href="#cb59-3698" aria-hidden="true" tabindex="-1"></a>methods_full <span class="ot">&lt;-</span> <span class="fu">setNames</span>(</span>
<span id="cb59-3699"><a href="#cb59-3699" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rep</span>(<span class="st">""</span>, <span class="fu">ncol</span>(surveys_wide_full)),</span>
<span id="cb59-3700"><a href="#cb59-3700" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(surveys_wide_full)</span>
<span id="cb59-3701"><a href="#cb59-3701" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-3702"><a href="#cb59-3702" aria-hidden="true" tabindex="-1"></a>methods_full[played_vars_full] <span class="ot">&lt;-</span> <span class="st">"logreg"</span></span>
<span id="cb59-3703"><a href="#cb59-3703" aria-hidden="true" tabindex="-1"></a>methods_full[<span class="fu">c</span>(bpnsfs_vars_full, bangs_vars_full, displaced_vars_full)] <span class="ot">&lt;-</span> <span class="st">"pmm"</span></span>
<span id="cb59-3704"><a href="#cb59-3704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3705"><a href="#cb59-3705" aria-hidden="true" tabindex="-1"></a>person_level_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb59-3706"><a href="#cb59-3706" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pid"</span>,</span>
<span id="cb59-3707"><a href="#cb59-3707" aria-hidden="true" tabindex="-1"></a>  <span class="st">"age"</span>,</span>
<span id="cb59-3708"><a href="#cb59-3708" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gender"</span>,</span>
<span id="cb59-3709"><a href="#cb59-3709" aria-hidden="true" tabindex="-1"></a>  <span class="st">"edu_level"</span>,</span>
<span id="cb59-3710"><a href="#cb59-3710" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employment"</span>,</span>
<span id="cb59-3711"><a href="#cb59-3711" aria-hidden="true" tabindex="-1"></a>  <span class="st">"marital_status"</span>,</span>
<span id="cb59-3712"><a href="#cb59-3712" aria-hidden="true" tabindex="-1"></a>  <span class="st">"life_sat_baseline"</span>,</span>
<span id="cb59-3713"><a href="#cb59-3713" aria-hidden="true" tabindex="-1"></a>  <span class="st">"wemwbs"</span>,</span>
<span id="cb59-3714"><a href="#cb59-3714" aria-hidden="true" tabindex="-1"></a>  <span class="st">"diaries_completed"</span>,</span>
<span id="cb59-3715"><a href="#cb59-3715" aria-hidden="true" tabindex="-1"></a>  <span class="st">"self_reported_weekly_play"</span></span>
<span id="cb59-3716"><a href="#cb59-3716" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-3717"><a href="#cb59-3717" aria-hidden="true" tabindex="-1"></a>methods_full[person_level_vars] <span class="ot">&lt;-</span> <span class="st">""</span></span>
<span id="cb59-3718"><a href="#cb59-3718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3719"><a href="#cb59-3719" aria-hidden="true" tabindex="-1"></a><span class="co"># Create WHERE matrix (same conditional imputation logic)</span></span>
<span id="cb59-3720"><a href="#cb59-3720" aria-hidden="true" tabindex="-1"></a>where_matrix_full <span class="ot">&lt;-</span> <span class="fu">is.na</span>(surveys_wide_full)</span>
<span id="cb59-3721"><a href="#cb59-3721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3722"><a href="#cb59-3722" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (bangs_var <span class="cf">in</span> bangs_vars_full) {</span>
<span id="cb59-3723"><a href="#cb59-3723" aria-hidden="true" tabindex="-1"></a>  wave_num <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(bangs_var, <span class="st">"</span><span class="sc">\\</span><span class="st">d+$"</span>)</span>
<span id="cb59-3724"><a href="#cb59-3724" aria-hidden="true" tabindex="-1"></a>  played_var <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"self_reported_played_24h_w"</span>, wave_num)</span>
<span id="cb59-3725"><a href="#cb59-3725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3726"><a href="#cb59-3726" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (played_var <span class="sc">%in%</span> <span class="fu">names</span>(surveys_wide_full)) {</span>
<span id="cb59-3727"><a href="#cb59-3727" aria-hidden="true" tabindex="-1"></a>    no_play <span class="ot">&lt;-</span> surveys_wide_full[[played_var]] <span class="sc">==</span> <span class="st">"No"</span> <span class="sc">&amp;</span></span>
<span id="cb59-3728"><a href="#cb59-3728" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(surveys_wide_full[[bangs_var]])</span>
<span id="cb59-3729"><a href="#cb59-3729" aria-hidden="true" tabindex="-1"></a>    where_matrix_full[no_play, bangs_var] <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb59-3730"><a href="#cb59-3730" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb59-3731"><a href="#cb59-3731" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-3732"><a href="#cb59-3732" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3733"><a href="#cb59-3733" aria-hidden="true" tabindex="-1"></a><span class="co"># Sparse predictor matrix (same settings as analytical)</span></span>
<span id="cb59-3734"><a href="#cb59-3734" aria-hidden="true" tabindex="-1"></a>pred_full <span class="ot">&lt;-</span> <span class="fu">quickpred</span>(</span>
<span id="cb59-3735"><a href="#cb59-3735" aria-hidden="true" tabindex="-1"></a>  surveys_wide_full,</span>
<span id="cb59-3736"><a href="#cb59-3736" aria-hidden="true" tabindex="-1"></a>  <span class="at">mincor =</span> <span class="fl">0.3</span>,</span>
<span id="cb59-3737"><a href="#cb59-3737" aria-hidden="true" tabindex="-1"></a>  <span class="at">minpuc =</span> <span class="fl">0.3</span>,</span>
<span id="cb59-3738"><a href="#cb59-3738" aria-hidden="true" tabindex="-1"></a>  <span class="at">include =</span> <span class="fu">c</span>(<span class="st">"age"</span>, <span class="st">"wemwbs"</span>, <span class="st">"self_reported_weekly_play"</span>),</span>
<span id="cb59-3739"><a href="#cb59-3739" aria-hidden="true" tabindex="-1"></a>  <span class="at">exclude =</span> <span class="fu">c</span>(</span>
<span id="cb59-3740"><a href="#cb59-3740" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pid"</span>,</span>
<span id="cb59-3741"><a href="#cb59-3741" aria-hidden="true" tabindex="-1"></a>    <span class="st">"gender"</span>,</span>
<span id="cb59-3742"><a href="#cb59-3742" aria-hidden="true" tabindex="-1"></a>    <span class="st">"edu_level"</span>,</span>
<span id="cb59-3743"><a href="#cb59-3743" aria-hidden="true" tabindex="-1"></a>    <span class="st">"employment"</span>,</span>
<span id="cb59-3744"><a href="#cb59-3744" aria-hidden="true" tabindex="-1"></a>    <span class="st">"marital_status"</span>,</span>
<span id="cb59-3745"><a href="#cb59-3745" aria-hidden="true" tabindex="-1"></a>    <span class="st">"diaries_completed"</span></span>
<span id="cb59-3746"><a href="#cb59-3746" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-3747"><a href="#cb59-3747" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-3748"><a href="#cb59-3748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3749"><a href="#cb59-3749" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if imputation already exists</span></span>
<span id="cb59-3750"><a href="#cb59-3750" aria-hidden="true" tabindex="-1"></a>imp_file_full <span class="ot">&lt;-</span> <span class="st">"data/imputation_full.csv.gz"</span></span>
<span id="cb59-3751"><a href="#cb59-3751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3752"><a href="#cb59-3752" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(imp_file_full)) {</span>
<span id="cb59-3753"><a href="#cb59-3753" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Loading existing full sample imputation from {imp_file_full}"</span>))</span>
<span id="cb59-3754"><a href="#cb59-3754" aria-hidden="true" tabindex="-1"></a>  imp_long_full <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(imp_file_full, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb59-3755"><a href="#cb59-3755" aria-hidden="true" tabindex="-1"></a>  imp_full <span class="ot">&lt;-</span> <span class="fu">as.mids</span>(imp_long_full)</span>
<span id="cb59-3756"><a href="#cb59-3756" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Loaded imputation object (M={imp_full$m})"</span>))</span>
<span id="cb59-3757"><a href="#cb59-3757" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-3758"><a href="#cb59-3758" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"No existing imputation found - running MICE on full sample"</span>))</span>
<span id="cb59-3759"><a href="#cb59-3759" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3760"><a href="#cb59-3760" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb59-3761"><a href="#cb59-3761" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Running MICE: M={M_FULL_SAMPLE}, N={nrow(surveys_wide_full)}, started {Sys.time()}"</span></span>
<span id="cb59-3762"><a href="#cb59-3762" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb59-3763"><a href="#cb59-3763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3764"><a href="#cb59-3764" aria-hidden="true" tabindex="-1"></a>  imp_full <span class="ot">&lt;-</span> <span class="fu">futuremice</span>(</span>
<span id="cb59-3765"><a href="#cb59-3765" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> surveys_wide_full,</span>
<span id="cb59-3766"><a href="#cb59-3766" aria-hidden="true" tabindex="-1"></a>    <span class="at">m =</span> M_FULL_SAMPLE,</span>
<span id="cb59-3767"><a href="#cb59-3767" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> methods_full,</span>
<span id="cb59-3768"><a href="#cb59-3768" aria-hidden="true" tabindex="-1"></a>    <span class="at">predictorMatrix =</span> pred_full,</span>
<span id="cb59-3769"><a href="#cb59-3769" aria-hidden="true" tabindex="-1"></a>    <span class="at">where =</span> where_matrix_full,</span>
<span id="cb59-3770"><a href="#cb59-3770" aria-hidden="true" tabindex="-1"></a>    <span class="at">maxit =</span> <span class="dv">5</span>,</span>
<span id="cb59-3771"><a href="#cb59-3771" aria-hidden="true" tabindex="-1"></a>    <span class="at">n.core =</span> parallel<span class="sc">::</span><span class="fu">detectCores</span>() <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb59-3772"><a href="#cb59-3772" aria-hidden="true" tabindex="-1"></a>    <span class="at">parallelseed =</span> <span class="dv">8675309</span></span>
<span id="cb59-3773"><a href="#cb59-3773" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-3774"><a href="#cb59-3774" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3775"><a href="#cb59-3775" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Completed {Sys.time()}"</span>))</span>
<span id="cb59-3776"><a href="#cb59-3776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3777"><a href="#cb59-3777" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save imputation results</span></span>
<span id="cb59-3778"><a href="#cb59-3778" aria-hidden="true" tabindex="-1"></a>  imp_long_full <span class="ot">&lt;-</span> <span class="fu">complete</span>(imp_full, <span class="at">action =</span> <span class="st">"long"</span>, <span class="at">include =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-3779"><a href="#cb59-3779" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_csv</span>(imp_long_full, imp_file_full)</span>
<span id="cb59-3780"><a href="#cb59-3780" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Saved full sample imputation to {imp_file_full}"</span>))</span>
<span id="cb59-3781"><a href="#cb59-3781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3782"><a href="#cb59-3782" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">nrow</span>(imp_full<span class="sc">$</span>loggedEvents) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb59-3783"><a href="#cb59-3783" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb59-3784"><a href="#cb59-3784" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Warning: {nrow(imp_full$loggedEvents)} logged events during full sample imputation"</span></span>
<span id="cb59-3785"><a href="#cb59-3785" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb59-3786"><a href="#cb59-3786" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb59-3787"><a href="#cb59-3787" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-3788"><a href="#cb59-3788" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3789"><a href="#cb59-3789" aria-hidden="true" tabindex="-1"></a><span class="co"># Post-imputation processing for full sample</span></span>
<span id="cb59-3790"><a href="#cb59-3790" aria-hidden="true" tabindex="-1"></a>daily_imputed_full <span class="ot">&lt;-</span> <span class="fu">complete</span>(imp_full, <span class="at">action =</span> <span class="st">"long"</span>, <span class="at">include =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-3791"><a href="#cb59-3791" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb59-3792"><a href="#cb59-3792" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(</span>
<span id="cb59-3793"><a href="#cb59-3793" aria-hidden="true" tabindex="-1"></a>      .imp,</span>
<span id="cb59-3794"><a href="#cb59-3794" aria-hidden="true" tabindex="-1"></a>      .id,</span>
<span id="cb59-3795"><a href="#cb59-3795" aria-hidden="true" tabindex="-1"></a>      pid,</span>
<span id="cb59-3796"><a href="#cb59-3796" aria-hidden="true" tabindex="-1"></a>      age,</span>
<span id="cb59-3797"><a href="#cb59-3797" aria-hidden="true" tabindex="-1"></a>      gender,</span>
<span id="cb59-3798"><a href="#cb59-3798" aria-hidden="true" tabindex="-1"></a>      edu_level,</span>
<span id="cb59-3799"><a href="#cb59-3799" aria-hidden="true" tabindex="-1"></a>      employment,</span>
<span id="cb59-3800"><a href="#cb59-3800" aria-hidden="true" tabindex="-1"></a>      marital_status,</span>
<span id="cb59-3801"><a href="#cb59-3801" aria-hidden="true" tabindex="-1"></a>      life_sat_baseline,</span>
<span id="cb59-3802"><a href="#cb59-3802" aria-hidden="true" tabindex="-1"></a>      wemwbs,</span>
<span id="cb59-3803"><a href="#cb59-3803" aria-hidden="true" tabindex="-1"></a>      diaries_completed,</span>
<span id="cb59-3804"><a href="#cb59-3804" aria-hidden="true" tabindex="-1"></a>      self_reported_weekly_play</span>
<span id="cb59-3805"><a href="#cb59-3805" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-3806"><a href="#cb59-3806" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">".value"</span>, <span class="st">"wave"</span>),</span>
<span id="cb59-3807"><a href="#cb59-3807" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_pattern =</span> <span class="st">"(.+)_w(.+)"</span></span>
<span id="cb59-3808"><a href="#cb59-3808" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3809"><a href="#cb59-3809" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wave =</span> <span class="fu">as.factor</span>(wave)) <span class="sc">|&gt;</span></span>
<span id="cb59-3810"><a href="#cb59-3810" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-3811"><a href="#cb59-3811" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(bpnsfs_1, bpnsfs_3, bpnsfs_5), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-3812"><a href="#cb59-3812" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(bpnsfs_2, bpnsfs_4, bpnsfs_6), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-3813"><a href="#cb59-3813" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(bangs_1, bangs_3, bangs_5), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-3814"><a href="#cb59-3814" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf =</span> <span class="fu">rowMeans</span>(<span class="fu">pick</span>(bangs_2, bangs_4, bangs_6), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-3815"><a href="#cb59-3815" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3816"><a href="#cb59-3816" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(telemetry_vars_full, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"wave"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-3817"><a href="#cb59-3817" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(.imp, pid) <span class="sc">|&gt;</span></span>
<span id="cb59-3818"><a href="#cb59-3818" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-3819"><a href="#cb59-3819" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns_pm =</span> <span class="fu">mean</span>(global_ns, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-3820"><a href="#cb59-3820" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_pm =</span> <span class="fu">mean</span>(global_nf, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-3821"><a href="#cb59-3821" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_pm =</span> <span class="fu">mean</span>(game_ns, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-3822"><a href="#cb59-3822" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf_pm =</span> <span class="fu">mean</span>(game_nf, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-3823"><a href="#cb59-3823" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3824"><a href="#cb59-3824" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-3825"><a href="#cb59-3825" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(.imp) <span class="sc">|&gt;</span></span>
<span id="cb59-3826"><a href="#cb59-3826" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-3827"><a href="#cb59-3827" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns_gm =</span> <span class="fu">mean</span>(global_ns_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-3828"><a href="#cb59-3828" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_gm =</span> <span class="fu">mean</span>(global_nf_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-3829"><a href="#cb59-3829" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_gm =</span> <span class="fu">mean</span>(game_ns_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-3830"><a href="#cb59-3830" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf_gm =</span> <span class="fu">mean</span>(game_nf_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-3831"><a href="#cb59-3831" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns_cw =</span> global_ns <span class="sc">-</span> global_ns_pm,</span>
<span id="cb59-3832"><a href="#cb59-3832" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cw =</span> global_nf <span class="sc">-</span> global_nf_pm,</span>
<span id="cb59-3833"><a href="#cb59-3833" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> game_ns <span class="sc">-</span> game_ns_pm,</span>
<span id="cb59-3834"><a href="#cb59-3834" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf_cw =</span> game_nf <span class="sc">-</span> game_nf_pm,</span>
<span id="cb59-3835"><a href="#cb59-3835" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_ns_cb =</span> global_ns_pm <span class="sc">-</span> global_ns_gm,</span>
<span id="cb59-3836"><a href="#cb59-3836" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cb =</span> global_nf_pm <span class="sc">-</span> global_nf_gm,</span>
<span id="cb59-3837"><a href="#cb59-3837" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> game_ns_pm <span class="sc">-</span> game_ns_gm,</span>
<span id="cb59-3838"><a href="#cb59-3838" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_nf_cb =</span> game_nf_pm <span class="sc">-</span> game_nf_gm</span>
<span id="cb59-3839"><a href="#cb59-3839" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3840"><a href="#cb59-3840" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb59-3841"><a href="#cb59-3841" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3842"><a href="#cb59-3842" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="fu">glue</span>(</span>
<span id="cb59-3843"><a href="#cb59-3843" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Full sample imputation complete: {length(unique(daily_imputed_full$pid))} participants"</span></span>
<span id="cb59-3844"><a href="#cb59-3844" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb59-3845"><a href="#cb59-3845" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3846"><a href="#cb59-3846" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3849"><a href="#cb59-3849" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3850"><a href="#cb59-3850" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: s7-h2-models</span></span>
<span id="cb59-3851"><a href="#cb59-3851" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-3852"><a href="#cb59-3852" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (S5: Fit H2 models to full sample)"</span></span>
<span id="cb59-3853"><a href="#cb59-3853" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3854"><a href="#cb59-3854" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching</span></span>
<span id="cb59-3855"><a href="#cb59-3855" aria-hidden="true" tabindex="-1"></a>sens5_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens5_fits.rds"</span></span>
<span id="cb59-3856"><a href="#cb59-3856" aria-hidden="true" tabindex="-1"></a>sens5_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens5_pooled.rds"</span></span>
<span id="cb59-3857"><a href="#cb59-3857" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3858"><a href="#cb59-3858" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens5_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(sens5_pooled_file)) {</span>
<span id="cb59-3859"><a href="#cb59-3859" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S5 model fits"</span>)</span>
<span id="cb59-3860"><a href="#cb59-3860" aria-hidden="true" tabindex="-1"></a>  sens5_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens5_cache_file)</span>
<span id="cb59-3861"><a href="#cb59-3861" aria-hidden="true" tabindex="-1"></a>  sens5_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens5_pooled_file)</span>
<span id="cb59-3862"><a href="#cb59-3862" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-3863"><a href="#cb59-3863" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S5 models to full sample..."</span>)</span>
<span id="cb59-3864"><a href="#cb59-3864" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3865"><a href="#cb59-3865" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Prepare data for modeling</span></span>
<span id="cb59-3866"><a href="#cb59-3866" aria-hidden="true" tabindex="-1"></a>  dat_full <span class="ot">&lt;-</span> daily_imputed_full <span class="sc">|&gt;</span></span>
<span id="cb59-3867"><a href="#cb59-3867" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(.imp <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-3868"><a href="#cb59-3868" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb59-3869"><a href="#cb59-3869" aria-hidden="true" tabindex="-1"></a>      <span class="at">pid =</span> <span class="fu">factor</span>(pid),</span>
<span id="cb59-3870"><a href="#cb59-3870" aria-hidden="true" tabindex="-1"></a>      <span class="at">wave =</span> <span class="fu">factor</span>(wave)</span>
<span id="cb59-3871"><a href="#cb59-3871" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3872"><a href="#cb59-3872" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3873"><a href="#cb59-3873" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit H2 model to each imputed dataset</span></span>
<span id="cb59-3874"><a href="#cb59-3874" aria-hidden="true" tabindex="-1"></a>  sens5_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>M_FULL_SAMPLE, <span class="cf">function</span>(i) {</span>
<span id="cb59-3875"><a href="#cb59-3875" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting S5 model to imputation {i} of {M_FULL_SAMPLE}"</span>))</span>
<span id="cb59-3876"><a href="#cb59-3876" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat_full <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb59-3877"><a href="#cb59-3877" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb59-3878"><a href="#cb59-3878" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb59-3879"><a href="#cb59-3879" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb59-3880"><a href="#cb59-3880" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb59-3881"><a href="#cb59-3881" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb59-3882"><a href="#cb59-3882" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb59-3883"><a href="#cb59-3883" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-3884"><a href="#cb59-3884" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-3885"><a href="#cb59-3885" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb59-3886"><a href="#cb59-3886" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb59-3887"><a href="#cb59-3887" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb59-3888"><a href="#cb59-3888" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3889"><a href="#cb59-3889" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb59-3890"><a href="#cb59-3890" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3891"><a href="#cb59-3891" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pool estimates</span></span>
<span id="cb59-3892"><a href="#cb59-3892" aria-hidden="true" tabindex="-1"></a>  sens5_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(sens5_fits)</span>
<span id="cb59-3893"><a href="#cb59-3893" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3894"><a href="#cb59-3894" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb59-3895"><a href="#cb59-3895" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens5_fits, sens5_cache_file)</span>
<span id="cb59-3896"><a href="#cb59-3896" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens5_pooled, sens5_pooled_file)</span>
<span id="cb59-3897"><a href="#cb59-3897" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S5 models saved to cache"</span>)</span>
<span id="cb59-3898"><a href="#cb59-3898" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-3899"><a href="#cb59-3899" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3900"><a href="#cb59-3900" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3903"><a href="#cb59-3903" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3904"><a href="#cb59-3904" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-s7-comparison</span></span>
<span id="cb59-3905"><a href="#cb59-3905" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "S7: H2 model comparison between analytical sample (≥15 waves) and full sample (preregistered)"</span></span>
<span id="cb59-3906"><a href="#cb59-3906" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Create S7 comparison table)"</span></span>
<span id="cb59-3907"><a href="#cb59-3907" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3908"><a href="#cb59-3908" aria-hidden="true" tabindex="-1"></a><span class="co"># Analytical sample results</span></span>
<span id="cb59-3909"><a href="#cb59-3909" aria-hidden="true" tabindex="-1"></a>analytical <span class="ot">&lt;-</span> <span class="fu">summary</span>(h2_pooled) <span class="sc">|&gt;</span></span>
<span id="cb59-3910"><a href="#cb59-3910" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-3911"><a href="#cb59-3911" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>, <span class="sc">!</span><span class="fu">str_detect</span>(term, <span class="st">"_cb"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-3912"><a href="#cb59-3912" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-3913"><a href="#cb59-3913" aria-hidden="true" tabindex="-1"></a>    <span class="at">result =</span> <span class="fu">glue</span>(</span>
<span id="cb59-3914"><a href="#cb59-3914" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{round(estimate, 3)} ({ifelse(p.value &lt; 0.001, '&lt;.001', round(p.value, 3))})"</span></span>
<span id="cb59-3915"><a href="#cb59-3915" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-3916"><a href="#cb59-3916" aria-hidden="true" tabindex="-1"></a>    <span class="at">sample =</span> <span class="st">"Analytical (≥15 waves)"</span></span>
<span id="cb59-3917"><a href="#cb59-3917" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3918"><a href="#cb59-3918" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, sample, result)</span>
<span id="cb59-3919"><a href="#cb59-3919" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3920"><a href="#cb59-3920" aria-hidden="true" tabindex="-1"></a><span class="co"># Full sample results</span></span>
<span id="cb59-3921"><a href="#cb59-3921" aria-hidden="true" tabindex="-1"></a>full_sample <span class="ot">&lt;-</span> <span class="fu">summary</span>(sens5_pooled) <span class="sc">|&gt;</span></span>
<span id="cb59-3922"><a href="#cb59-3922" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-3923"><a href="#cb59-3923" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>, <span class="sc">!</span><span class="fu">str_detect</span>(term, <span class="st">"_cb"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-3924"><a href="#cb59-3924" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-3925"><a href="#cb59-3925" aria-hidden="true" tabindex="-1"></a>    <span class="at">result =</span> <span class="fu">glue</span>(</span>
<span id="cb59-3926"><a href="#cb59-3926" aria-hidden="true" tabindex="-1"></a>      <span class="st">"{round(estimate, 3)} ({ifelse(p.value &lt; 0.001, '&lt;.001', round(p.value, 3))})"</span></span>
<span id="cb59-3927"><a href="#cb59-3927" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-3928"><a href="#cb59-3928" aria-hidden="true" tabindex="-1"></a>    <span class="at">sample =</span> <span class="st">"Full sample"</span></span>
<span id="cb59-3929"><a href="#cb59-3929" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3930"><a href="#cb59-3930" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, sample, result)</span>
<span id="cb59-3931"><a href="#cb59-3931" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3932"><a href="#cb59-3932" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine</span></span>
<span id="cb59-3933"><a href="#cb59-3933" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(analytical, full_sample) <span class="sc">|&gt;</span></span>
<span id="cb59-3934"><a href="#cb59-3934" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-3935"><a href="#cb59-3935" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term)</span>
<span id="cb59-3936"><a href="#cb59-3936" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-3937"><a href="#cb59-3937" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> sample, <span class="at">values_from =</span> result) <span class="sc">|&gt;</span></span>
<span id="cb59-3938"><a href="#cb59-3938" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Parameter =</span> term) <span class="sc">|&gt;</span></span>
<span id="cb59-3939"><a href="#cb59-3939" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-3940"><a href="#cb59-3940" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-3941"><a href="#cb59-3941" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-3942"><a href="#cb59-3942" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3943"><a href="#cb59-3943" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3944"><a href="#cb59-3944" aria-hidden="true" tabindex="-1"></a><span class="fu">### S6: Interaction between game NS and global NF</span></span>
<span id="cb59-3945"><a href="#cb59-3945" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3946"><a href="#cb59-3946" aria-hidden="true" tabindex="-1"></a>Testing whether the association of global need frustration with play depends on recent game need satisfaction (i.e., do satisfied players respond differently to global need frustration?).</span>
<span id="cb59-3947"><a href="#cb59-3947" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3950"><a href="#cb59-3950" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3951"><a href="#cb59-3951" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: s6-interaction-model</span></span>
<span id="cb59-3952"><a href="#cb59-3952" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-3953"><a href="#cb59-3953" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (S6: Fit models with game NS × global NF interaction)"</span></span>
<span id="cb59-3954"><a href="#cb59-3954" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3955"><a href="#cb59-3955" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb59-3956"><a href="#cb59-3956" aria-hidden="true" tabindex="-1"></a>sens6_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens6_fits.rds"</span></span>
<span id="cb59-3957"><a href="#cb59-3957" aria-hidden="true" tabindex="-1"></a>sens6_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens6_pooled.rds"</span></span>
<span id="cb59-3958"><a href="#cb59-3958" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3959"><a href="#cb59-3959" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens6_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(sens6_pooled_file)) {</span>
<span id="cb59-3960"><a href="#cb59-3960" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S6 model fits"</span>)</span>
<span id="cb59-3961"><a href="#cb59-3961" aria-hidden="true" tabindex="-1"></a>  sens6_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens6_cache_file)</span>
<span id="cb59-3962"><a href="#cb59-3962" aria-hidden="true" tabindex="-1"></a>  sens6_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens6_pooled_file)</span>
<span id="cb59-3963"><a href="#cb59-3963" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-3964"><a href="#cb59-3964" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S6 models..."</span>)</span>
<span id="cb59-3965"><a href="#cb59-3965" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3966"><a href="#cb59-3966" aria-hidden="true" tabindex="-1"></a>  sens6_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb59-3967"><a href="#cb59-3967" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting S6 model to imputation {i} of {m_imputations}"</span>))</span>
<span id="cb59-3968"><a href="#cb59-3968" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb59-3969"><a href="#cb59-3969" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb59-3970"><a href="#cb59-3970" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb59-3971"><a href="#cb59-3971" aria-hidden="true" tabindex="-1"></a>        game_ns_cw <span class="sc">+</span></span>
<span id="cb59-3972"><a href="#cb59-3972" aria-hidden="true" tabindex="-1"></a>        game_ns_cb <span class="sc">+</span></span>
<span id="cb59-3973"><a href="#cb59-3973" aria-hidden="true" tabindex="-1"></a>        global_nf_cw <span class="sc">+</span></span>
<span id="cb59-3974"><a href="#cb59-3974" aria-hidden="true" tabindex="-1"></a>        global_nf_cb <span class="sc">+</span></span>
<span id="cb59-3975"><a href="#cb59-3975" aria-hidden="true" tabindex="-1"></a>        game_ns_cw<span class="sc">:</span>global_nf_cw <span class="sc">+</span></span>
<span id="cb59-3976"><a href="#cb59-3976" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-3977"><a href="#cb59-3977" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-3978"><a href="#cb59-3978" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb59-3979"><a href="#cb59-3979" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb59-3980"><a href="#cb59-3980" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb59-3981"><a href="#cb59-3981" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-3982"><a href="#cb59-3982" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb59-3983"><a href="#cb59-3983" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3984"><a href="#cb59-3984" aria-hidden="true" tabindex="-1"></a>  sens6_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(sens6_fits)</span>
<span id="cb59-3985"><a href="#cb59-3985" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3986"><a href="#cb59-3986" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb59-3987"><a href="#cb59-3987" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens6_fits, sens6_cache_file)</span>
<span id="cb59-3988"><a href="#cb59-3988" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens6_pooled, sens6_pooled_file)</span>
<span id="cb59-3989"><a href="#cb59-3989" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S6 models saved to cache"</span>)</span>
<span id="cb59-3990"><a href="#cb59-3990" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-3991"><a href="#cb59-3991" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-3992"><a href="#cb59-3992" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3995"><a href="#cb59-3995" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-3996"><a href="#cb59-3996" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-s6-results</span></span>
<span id="cb59-3997"><a href="#cb59-3997" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "S6: H2 with game NS \u00d7 global NF interaction"</span></span>
<span id="cb59-3998"><a href="#cb59-3998" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Create S3 results table)"</span></span>
<span id="cb59-3999"><a href="#cb59-3999" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4000"><a href="#cb59-4000" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sens6_pooled) <span class="sc">|&gt;</span></span>
<span id="cb59-4001"><a href="#cb59-4001" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4002"><a href="#cb59-4002" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>, <span class="sc">!</span><span class="fu">str_detect</span>(term, <span class="st">"_cb"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-4003"><a href="#cb59-4003" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, estimate, std.error, statistic, p.value) <span class="sc">|&gt;</span></span>
<span id="cb59-4004"><a href="#cb59-4004" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-4005"><a href="#cb59-4005" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term),</span>
<span id="cb59-4006"><a href="#cb59-4006" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(estimate, std.error, statistic), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>)),</span>
<span id="cb59-4007"><a href="#cb59-4007" aria-hidden="true" tabindex="-1"></a>    <span class="at">p.value =</span> <span class="fu">case_when</span>(</span>
<span id="cb59-4008"><a href="#cb59-4008" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;.001"</span>,</span>
<span id="cb59-4009"><a href="#cb59-4009" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(<span class="fu">round</span>(p.value, <span class="dv">3</span>))</span>
<span id="cb59-4010"><a href="#cb59-4010" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-4011"><a href="#cb59-4011" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-4012"><a href="#cb59-4012" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb59-4013"><a href="#cb59-4013" aria-hidden="true" tabindex="-1"></a>    <span class="at">Parameter =</span> term,</span>
<span id="cb59-4014"><a href="#cb59-4014" aria-hidden="true" tabindex="-1"></a>    <span class="at">Estimate =</span> estimate,</span>
<span id="cb59-4015"><a href="#cb59-4015" aria-hidden="true" tabindex="-1"></a>    <span class="at">SE =</span> std.error,</span>
<span id="cb59-4016"><a href="#cb59-4016" aria-hidden="true" tabindex="-1"></a>    <span class="at">z =</span> statistic,</span>
<span id="cb59-4017"><a href="#cb59-4017" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> p.value</span>
<span id="cb59-4018"><a href="#cb59-4018" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-4019"><a href="#cb59-4019" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4020"><a href="#cb59-4020" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-4021"><a href="#cb59-4021" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-4022"><a href="#cb59-4022" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-4023"><a href="#cb59-4023" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4024"><a href="#cb59-4024" aria-hidden="true" tabindex="-1"></a><span class="fu">### S7: Non-linearity test with splines</span></span>
<span id="cb59-4025"><a href="#cb59-4025" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4026"><a href="#cb59-4026" aria-hidden="true" tabindex="-1"></a>Testing whether the relationships between predictors and play behavior are non-linear by fitting natural splines to the H2 predictors. We use complete cases only (no imputation) for computational simplicity.</span>
<span id="cb59-4027"><a href="#cb59-4027" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4030"><a href="#cb59-4030" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-4031"><a href="#cb59-4031" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: s7-spline-model</span></span>
<span id="cb59-4032"><a href="#cb59-4032" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-4033"><a href="#cb59-4033" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (S7: Fit H2 model with natural splines)"</span></span>
<span id="cb59-4034"><a href="#cb59-4034" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4035"><a href="#cb59-4035" aria-hidden="true" tabindex="-1"></a><span class="co"># Use complete cases only (no imputation)</span></span>
<span id="cb59-4036"><a href="#cb59-4036" aria-hidden="true" tabindex="-1"></a><span class="co"># Create this outside caching so it's available for plotting</span></span>
<span id="cb59-4037"><a href="#cb59-4037" aria-hidden="true" tabindex="-1"></a>dat_complete <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span></span>
<span id="cb59-4038"><a href="#cb59-4038" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(.imp <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-4039"><a href="#cb59-4039" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb59-4040"><a href="#cb59-4040" aria-hidden="true" tabindex="-1"></a>    pid,</span>
<span id="cb59-4041"><a href="#cb59-4041" aria-hidden="true" tabindex="-1"></a>    wave,</span>
<span id="cb59-4042"><a href="#cb59-4042" aria-hidden="true" tabindex="-1"></a>    date,</span>
<span id="cb59-4043"><a href="#cb59-4043" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h,</span>
<span id="cb59-4044"><a href="#cb59-4044" aria-hidden="true" tabindex="-1"></a>    game_ns_cw,</span>
<span id="cb59-4045"><a href="#cb59-4045" aria-hidden="true" tabindex="-1"></a>    game_ns_cb,</span>
<span id="cb59-4046"><a href="#cb59-4046" aria-hidden="true" tabindex="-1"></a>    global_nf_cw,</span>
<span id="cb59-4047"><a href="#cb59-4047" aria-hidden="true" tabindex="-1"></a>    global_nf_cb</span>
<span id="cb59-4048"><a href="#cb59-4048" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-4049"><a href="#cb59-4049" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">complete.cases</span>(<span class="fu">pick</span>(<span class="fu">everything</span>())))</span>
<span id="cb59-4050"><a href="#cb59-4050" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4051"><a href="#cb59-4051" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching</span></span>
<span id="cb59-4052"><a href="#cb59-4052" aria-hidden="true" tabindex="-1"></a>sens7_linear_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens7_linear.rds"</span></span>
<span id="cb59-4053"><a href="#cb59-4053" aria-hidden="true" tabindex="-1"></a>sens7_spline_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens7_spline.rds"</span></span>
<span id="cb59-4054"><a href="#cb59-4054" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4055"><a href="#cb59-4055" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens7_linear_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(sens7_spline_file)) {</span>
<span id="cb59-4056"><a href="#cb59-4056" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S7 models"</span>)</span>
<span id="cb59-4057"><a href="#cb59-4057" aria-hidden="true" tabindex="-1"></a>  sens7_linear <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens7_linear_file)</span>
<span id="cb59-4058"><a href="#cb59-4058" aria-hidden="true" tabindex="-1"></a>  sens7_spline <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens7_spline_file)</span>
<span id="cb59-4059"><a href="#cb59-4059" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-4060"><a href="#cb59-4060" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S7 models (linear vs spline)..."</span>)</span>
<span id="cb59-4061"><a href="#cb59-4061" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4062"><a href="#cb59-4062" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Linear model (for comparison)</span></span>
<span id="cb59-4063"><a href="#cb59-4063" aria-hidden="true" tabindex="-1"></a>  sens7_linear <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(</span>
<span id="cb59-4064"><a href="#cb59-4064" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb59-4065"><a href="#cb59-4065" aria-hidden="true" tabindex="-1"></a>      game_ns_cw <span class="sc">+</span></span>
<span id="cb59-4066"><a href="#cb59-4066" aria-hidden="true" tabindex="-1"></a>      game_ns_cb <span class="sc">+</span></span>
<span id="cb59-4067"><a href="#cb59-4067" aria-hidden="true" tabindex="-1"></a>      global_nf_cw <span class="sc">+</span></span>
<span id="cb59-4068"><a href="#cb59-4068" aria-hidden="true" tabindex="-1"></a>      global_nf_cb <span class="sc">+</span></span>
<span id="cb59-4069"><a href="#cb59-4069" aria-hidden="true" tabindex="-1"></a>      (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-4070"><a href="#cb59-4070" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ar1</span>(<span class="fu">factor</span>(wave) <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-4071"><a href="#cb59-4071" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> dat_complete,</span>
<span id="cb59-4072"><a href="#cb59-4072" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>)</span>
<span id="cb59-4073"><a href="#cb59-4073" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-4074"><a href="#cb59-4074" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4075"><a href="#cb59-4075" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Spline model with natural splines (3 df) on within-person predictors</span></span>
<span id="cb59-4076"><a href="#cb59-4076" aria-hidden="true" tabindex="-1"></a>  sens7_spline <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(</span>
<span id="cb59-4077"><a href="#cb59-4077" aria-hidden="true" tabindex="-1"></a>    telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb59-4078"><a href="#cb59-4078" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ns</span>(game_ns_cw, <span class="at">df =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb59-4079"><a href="#cb59-4079" aria-hidden="true" tabindex="-1"></a>      game_ns_cb <span class="sc">+</span></span>
<span id="cb59-4080"><a href="#cb59-4080" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ns</span>(global_nf_cw, <span class="at">df =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb59-4081"><a href="#cb59-4081" aria-hidden="true" tabindex="-1"></a>      global_nf_cb <span class="sc">+</span></span>
<span id="cb59-4082"><a href="#cb59-4082" aria-hidden="true" tabindex="-1"></a>      (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-4083"><a href="#cb59-4083" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ar1</span>(<span class="fu">factor</span>(wave) <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-4084"><a href="#cb59-4084" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> dat_complete,</span>
<span id="cb59-4085"><a href="#cb59-4085" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>)</span>
<span id="cb59-4086"><a href="#cb59-4086" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-4087"><a href="#cb59-4087" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4088"><a href="#cb59-4088" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Cache results</span></span>
<span id="cb59-4089"><a href="#cb59-4089" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="st">"data/models"</span>, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-4090"><a href="#cb59-4090" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens7_linear, sens7_linear_file)</span>
<span id="cb59-4091"><a href="#cb59-4091" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens7_spline, sens7_spline_file)</span>
<span id="cb59-4092"><a href="#cb59-4092" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-4093"><a href="#cb59-4093" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-4094"><a href="#cb59-4094" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4097"><a href="#cb59-4097" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-4098"><a href="#cb59-4098" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-s7-results</span></span>
<span id="cb59-4099"><a href="#cb59-4099" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "S7: Model comparison between linear and spline specifications"</span></span>
<span id="cb59-4100"><a href="#cb59-4100" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Create S8 comparison table)"</span></span>
<span id="cb59-4101"><a href="#cb59-4101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4102"><a href="#cb59-4102" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare model fit</span></span>
<span id="cb59-4103"><a href="#cb59-4103" aria-hidden="true" tabindex="-1"></a>comparison <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb59-4104"><a href="#cb59-4104" aria-hidden="true" tabindex="-1"></a>  <span class="at">Model =</span> <span class="fu">c</span>(<span class="st">"Linear"</span>, <span class="st">"Spline (3 df)"</span>),</span>
<span id="cb59-4105"><a href="#cb59-4105" aria-hidden="true" tabindex="-1"></a>  <span class="at">AIC =</span> <span class="fu">c</span>(<span class="fu">AIC</span>(sens7_linear), <span class="fu">AIC</span>(sens7_spline)),</span>
<span id="cb59-4106"><a href="#cb59-4106" aria-hidden="true" tabindex="-1"></a>  <span class="at">BIC =</span> <span class="fu">c</span>(<span class="fu">BIC</span>(sens7_linear), <span class="fu">BIC</span>(sens7_spline)),</span>
<span id="cb59-4107"><a href="#cb59-4107" aria-hidden="true" tabindex="-1"></a>  <span class="at">LogLik =</span> <span class="fu">c</span>(<span class="fu">logLik</span>(sens7_linear), <span class="fu">logLik</span>(sens7_spline)),</span>
<span id="cb59-4108"><a href="#cb59-4108" aria-hidden="true" tabindex="-1"></a>  <span class="at">N =</span> <span class="fu">c</span>(<span class="fu">nobs</span>(sens7_linear), <span class="fu">nobs</span>(sens7_spline))</span>
<span id="cb59-4109"><a href="#cb59-4109" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-4110"><a href="#cb59-4110" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-4111"><a href="#cb59-4111" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">ΔAic</span><span class="st">`</span> <span class="ot">=</span> AIC <span class="sc">-</span> <span class="fu">min</span>(AIC),</span>
<span id="cb59-4112"><a href="#cb59-4112" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(AIC, BIC, LogLik), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">1</span>))</span>
<span id="cb59-4113"><a href="#cb59-4113" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-4114"><a href="#cb59-4114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4115"><a href="#cb59-4115" aria-hidden="true" tabindex="-1"></a>comparison <span class="sc">|&gt;</span></span>
<span id="cb59-4116"><a href="#cb59-4116" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4117"><a href="#cb59-4117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-4118"><a href="#cb59-4118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-4119"><a href="#cb59-4119" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-4120"><a href="#cb59-4120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4123"><a href="#cb59-4123" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-4124"><a href="#cb59-4124" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-s7-spline-predictions</span></span>
<span id="cb59-4125"><a href="#cb59-4125" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "S7: Comparison of linear vs spline predictions for H2 predictors. Points show observed data (aggregated), solid lines show linear model predictions, dashed lines show spline model predictions with 95% confidence ribbons."</span></span>
<span id="cb59-4126"><a href="#cb59-4126" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Plot S8 spline vs linear predictions)"</span></span>
<span id="cb59-4127"><a href="#cb59-4127" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 6</span></span>
<span id="cb59-4128"><a href="#cb59-4128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4129"><a href="#cb59-4129" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate predictions across the range of predictors</span></span>
<span id="cb59-4130"><a href="#cb59-4130" aria-hidden="true" tabindex="-1"></a>pred_data <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(</span>
<span id="cb59-4131"><a href="#cb59-4131" aria-hidden="true" tabindex="-1"></a>  <span class="at">game_ns_cw =</span> <span class="fu">seq</span>(</span>
<span id="cb59-4132"><a href="#cb59-4132" aria-hidden="true" tabindex="-1"></a>    <span class="fu">min</span>(dat_complete<span class="sc">$</span>game_ns_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-4133"><a href="#cb59-4133" aria-hidden="true" tabindex="-1"></a>    <span class="fu">max</span>(dat_complete<span class="sc">$</span>game_ns_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-4134"><a href="#cb59-4134" aria-hidden="true" tabindex="-1"></a>    <span class="at">length.out =</span> <span class="dv">100</span></span>
<span id="cb59-4135"><a href="#cb59-4135" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-4136"><a href="#cb59-4136" aria-hidden="true" tabindex="-1"></a>  <span class="at">global_nf_cw =</span> <span class="fu">seq</span>(</span>
<span id="cb59-4137"><a href="#cb59-4137" aria-hidden="true" tabindex="-1"></a>    <span class="fu">min</span>(dat_complete<span class="sc">$</span>global_nf_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-4138"><a href="#cb59-4138" aria-hidden="true" tabindex="-1"></a>    <span class="fu">max</span>(dat_complete<span class="sc">$</span>global_nf_cw, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-4139"><a href="#cb59-4139" aria-hidden="true" tabindex="-1"></a>    <span class="at">length.out =</span> <span class="dv">100</span></span>
<span id="cb59-4140"><a href="#cb59-4140" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-4141"><a href="#cb59-4141" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-4142"><a href="#cb59-4142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4143"><a href="#cb59-4143" aria-hidden="true" tabindex="-1"></a><span class="co"># Predictions for game NS (holding global NF at mean)</span></span>
<span id="cb59-4144"><a href="#cb59-4144" aria-hidden="true" tabindex="-1"></a>pred_game_linear <span class="ot">&lt;-</span> marginaleffects<span class="sc">::</span><span class="fu">predictions</span>(</span>
<span id="cb59-4145"><a href="#cb59-4145" aria-hidden="true" tabindex="-1"></a>  sens7_linear,</span>
<span id="cb59-4146"><a href="#cb59-4146" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb59-4147"><a href="#cb59-4147" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> <span class="fu">unique</span>(pred_data<span class="sc">$</span>game_ns_cw),</span>
<span id="cb59-4148"><a href="#cb59-4148" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cw =</span> <span class="dv">0</span>,</span>
<span id="cb59-4149"><a href="#cb59-4149" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> <span class="dv">0</span>,</span>
<span id="cb59-4150"><a href="#cb59-4150" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cb =</span> <span class="dv">0</span></span>
<span id="cb59-4151"><a href="#cb59-4151" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-4152"><a href="#cb59-4152" aria-hidden="true" tabindex="-1"></a>  <span class="at">re.form =</span> <span class="cn">NA</span>,</span>
<span id="cb59-4153"><a href="#cb59-4153" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"response"</span></span>
<span id="cb59-4154"><a href="#cb59-4154" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-4155"><a href="#cb59-4155" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4156"><a href="#cb59-4156" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">"Linear"</span>)</span>
<span id="cb59-4157"><a href="#cb59-4157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4158"><a href="#cb59-4158" aria-hidden="true" tabindex="-1"></a>pred_game_spline <span class="ot">&lt;-</span> marginaleffects<span class="sc">::</span><span class="fu">predictions</span>(</span>
<span id="cb59-4159"><a href="#cb59-4159" aria-hidden="true" tabindex="-1"></a>  sens7_spline,</span>
<span id="cb59-4160"><a href="#cb59-4160" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb59-4161"><a href="#cb59-4161" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> <span class="fu">unique</span>(pred_data<span class="sc">$</span>game_ns_cw),</span>
<span id="cb59-4162"><a href="#cb59-4162" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cw =</span> <span class="dv">0</span>,</span>
<span id="cb59-4163"><a href="#cb59-4163" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> <span class="dv">0</span>,</span>
<span id="cb59-4164"><a href="#cb59-4164" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cb =</span> <span class="dv">0</span></span>
<span id="cb59-4165"><a href="#cb59-4165" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-4166"><a href="#cb59-4166" aria-hidden="true" tabindex="-1"></a>  <span class="at">re.form =</span> <span class="cn">NA</span>,</span>
<span id="cb59-4167"><a href="#cb59-4167" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"response"</span></span>
<span id="cb59-4168"><a href="#cb59-4168" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-4169"><a href="#cb59-4169" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4170"><a href="#cb59-4170" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">"Spline"</span>)</span>
<span id="cb59-4171"><a href="#cb59-4171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4172"><a href="#cb59-4172" aria-hidden="true" tabindex="-1"></a>panel_a <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(pred_game_linear, pred_game_spline) <span class="sc">|&gt;</span></span>
<span id="cb59-4173"><a href="#cb59-4173" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> game_ns_cw, <span class="at">y =</span> estimate, <span class="at">color =</span> model, <span class="at">fill =</span> model)) <span class="sc">+</span></span>
<span id="cb59-4174"><a href="#cb59-4174" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> conf.low, <span class="at">ymax =</span> conf.high), <span class="at">alpha =</span> <span class="fl">0.2</span>, <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb59-4175"><a href="#cb59-4175" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">linetype =</span> model), <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb59-4176"><a href="#cb59-4176" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Linear"</span> <span class="ot">=</span> <span class="st">"#4477AA"</span>, <span class="st">"Spline"</span> <span class="ot">=</span> <span class="st">"#EE6677"</span>)) <span class="sc">+</span></span>
<span id="cb59-4177"><a href="#cb59-4177" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Linear"</span> <span class="ot">=</span> <span class="st">"#4477AA"</span>, <span class="st">"Spline"</span> <span class="ot">=</span> <span class="st">"#EE6677"</span>)) <span class="sc">+</span></span>
<span id="cb59-4178"><a href="#cb59-4178" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Linear"</span> <span class="ot">=</span> <span class="st">"solid"</span>, <span class="st">"Spline"</span> <span class="ot">=</span> <span class="st">"dashed"</span>)) <span class="sc">+</span></span>
<span id="cb59-4179"><a href="#cb59-4179" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb59-4180"><a href="#cb59-4180" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> labels[<span class="st">"game_ns (within-person)"</span>],</span>
<span id="cb59-4181"><a href="#cb59-4181" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"P(Play in next 24h)"</span>,</span>
<span id="cb59-4182"><a href="#cb59-4182" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb59-4183"><a href="#cb59-4183" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="cn">NULL</span>,</span>
<span id="cb59-4184"><a href="#cb59-4184" aria-hidden="true" tabindex="-1"></a>    <span class="at">linetype =</span> <span class="cn">NULL</span></span>
<span id="cb59-4185"><a href="#cb59-4185" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-4186"><a href="#cb59-4186" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb59-4187"><a href="#cb59-4187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4188"><a href="#cb59-4188" aria-hidden="true" tabindex="-1"></a><span class="co"># Predictions for global NF (holding game NS at mean)</span></span>
<span id="cb59-4189"><a href="#cb59-4189" aria-hidden="true" tabindex="-1"></a>pred_nf_linear <span class="ot">&lt;-</span> marginaleffects<span class="sc">::</span><span class="fu">predictions</span>(</span>
<span id="cb59-4190"><a href="#cb59-4190" aria-hidden="true" tabindex="-1"></a>  sens7_linear,</span>
<span id="cb59-4191"><a href="#cb59-4191" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb59-4192"><a href="#cb59-4192" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> <span class="dv">0</span>,</span>
<span id="cb59-4193"><a href="#cb59-4193" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cw =</span> <span class="fu">unique</span>(pred_data<span class="sc">$</span>global_nf_cw),</span>
<span id="cb59-4194"><a href="#cb59-4194" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> <span class="dv">0</span>,</span>
<span id="cb59-4195"><a href="#cb59-4195" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cb =</span> <span class="dv">0</span></span>
<span id="cb59-4196"><a href="#cb59-4196" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-4197"><a href="#cb59-4197" aria-hidden="true" tabindex="-1"></a>  <span class="at">re.form =</span> <span class="cn">NA</span>,</span>
<span id="cb59-4198"><a href="#cb59-4198" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"response"</span></span>
<span id="cb59-4199"><a href="#cb59-4199" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-4200"><a href="#cb59-4200" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4201"><a href="#cb59-4201" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">"Linear"</span>)</span>
<span id="cb59-4202"><a href="#cb59-4202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4203"><a href="#cb59-4203" aria-hidden="true" tabindex="-1"></a>pred_nf_spline <span class="ot">&lt;-</span> marginaleffects<span class="sc">::</span><span class="fu">predictions</span>(</span>
<span id="cb59-4204"><a href="#cb59-4204" aria-hidden="true" tabindex="-1"></a>  sens7_spline,</span>
<span id="cb59-4205"><a href="#cb59-4205" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb59-4206"><a href="#cb59-4206" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cw =</span> <span class="dv">0</span>,</span>
<span id="cb59-4207"><a href="#cb59-4207" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cw =</span> <span class="fu">unique</span>(pred_data<span class="sc">$</span>global_nf_cw),</span>
<span id="cb59-4208"><a href="#cb59-4208" aria-hidden="true" tabindex="-1"></a>    <span class="at">game_ns_cb =</span> <span class="dv">0</span>,</span>
<span id="cb59-4209"><a href="#cb59-4209" aria-hidden="true" tabindex="-1"></a>    <span class="at">global_nf_cb =</span> <span class="dv">0</span></span>
<span id="cb59-4210"><a href="#cb59-4210" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb59-4211"><a href="#cb59-4211" aria-hidden="true" tabindex="-1"></a>  <span class="at">re.form =</span> <span class="cn">NA</span>,</span>
<span id="cb59-4212"><a href="#cb59-4212" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"response"</span></span>
<span id="cb59-4213"><a href="#cb59-4213" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-4214"><a href="#cb59-4214" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4215"><a href="#cb59-4215" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">"Spline"</span>)</span>
<span id="cb59-4216"><a href="#cb59-4216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4217"><a href="#cb59-4217" aria-hidden="true" tabindex="-1"></a>panel_b <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(pred_nf_linear, pred_nf_spline) <span class="sc">|&gt;</span></span>
<span id="cb59-4218"><a href="#cb59-4218" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> global_nf_cw, <span class="at">y =</span> estimate, <span class="at">color =</span> model, <span class="at">fill =</span> model)) <span class="sc">+</span></span>
<span id="cb59-4219"><a href="#cb59-4219" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> conf.low, <span class="at">ymax =</span> conf.high), <span class="at">alpha =</span> <span class="fl">0.2</span>, <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb59-4220"><a href="#cb59-4220" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">linetype =</span> model), <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb59-4221"><a href="#cb59-4221" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Linear"</span> <span class="ot">=</span> <span class="st">"#4477AA"</span>, <span class="st">"Spline"</span> <span class="ot">=</span> <span class="st">"#EE6677"</span>)) <span class="sc">+</span></span>
<span id="cb59-4222"><a href="#cb59-4222" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Linear"</span> <span class="ot">=</span> <span class="st">"#4477AA"</span>, <span class="st">"Spline"</span> <span class="ot">=</span> <span class="st">"#EE6677"</span>)) <span class="sc">+</span></span>
<span id="cb59-4223"><a href="#cb59-4223" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Linear"</span> <span class="ot">=</span> <span class="st">"solid"</span>, <span class="st">"Spline"</span> <span class="ot">=</span> <span class="st">"dashed"</span>)) <span class="sc">+</span></span>
<span id="cb59-4224"><a href="#cb59-4224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb59-4225"><a href="#cb59-4225" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> labels[<span class="st">"global_nf (within-person)"</span>],</span>
<span id="cb59-4226"><a href="#cb59-4226" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"P(Play in next 24h)"</span>,</span>
<span id="cb59-4227"><a href="#cb59-4227" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb59-4228"><a href="#cb59-4228" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="cn">NULL</span>,</span>
<span id="cb59-4229"><a href="#cb59-4229" aria-hidden="true" tabindex="-1"></a>    <span class="at">linetype =</span> <span class="cn">NULL</span></span>
<span id="cb59-4230"><a href="#cb59-4230" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-4231"><a href="#cb59-4231" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb59-4232"><a href="#cb59-4232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4233"><a href="#cb59-4233" aria-hidden="true" tabindex="-1"></a>panel_a <span class="sc">+</span></span>
<span id="cb59-4234"><a href="#cb59-4234" aria-hidden="true" tabindex="-1"></a>  panel_b <span class="sc">+</span></span>
<span id="cb59-4235"><a href="#cb59-4235" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">"A"</span>) <span class="sc">+</span></span>
<span id="cb59-4236"><a href="#cb59-4236" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">guides =</span> <span class="st">"collect"</span>) <span class="sc">&amp;</span></span>
<span id="cb59-4237"><a href="#cb59-4237" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb59-4238"><a href="#cb59-4238" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"top"</span>,</span>
<span id="cb59-4239"><a href="#cb59-4239" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb59-4240"><a href="#cb59-4240" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="cn">NA</span>)</span>
<span id="cb59-4241"><a href="#cb59-4241" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-4242"><a href="#cb59-4242" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-4243"><a href="#cb59-4243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4244"><a href="#cb59-4244" aria-hidden="true" tabindex="-1"></a>The spline model <span class="in">`r if(exists("comparison") &amp;&amp; comparison$ΔAic[2] &lt; -2) "shows substantially better fit (ΔAIC &lt; -2)" else if(exists("comparison") &amp;&amp; comparison$ΔAic[2] &gt; 2) "does not improve fit over the linear model (ΔAIC &gt; 2)" else "shows similar fit to the linear model"`</span>, suggesting that the relationships between need satisfaction/frustration and play behavior <span class="in">`r if(exists("comparison") &amp;&amp; comparison$ΔAic[2] &lt; -2) "exhibit non-linear patterns" else "are adequately captured by linear terms"`</span>.</span>
<span id="cb59-4245"><a href="#cb59-4245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4246"><a href="#cb59-4246" aria-hidden="true" tabindex="-1"></a><span class="fu">### S8: Separate needs components</span></span>
<span id="cb59-4247"><a href="#cb59-4247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4248"><a href="#cb59-4248" aria-hidden="true" tabindex="-1"></a>Testing whether associations with play differ across the three basic psychological needs (autonomy, competence, relatedness) rather than using composite need satisfaction scores. We test H2 separately for each need component.</span>
<span id="cb59-4249"><a href="#cb59-4249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4252"><a href="#cb59-4252" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-4253"><a href="#cb59-4253" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: s8-components-prep</span></span>
<span id="cb59-4254"><a href="#cb59-4254" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Prepare data with separate needs components)"</span></span>
<span id="cb59-4255"><a href="#cb59-4255" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-4256"><a href="#cb59-4256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4257"><a href="#cb59-4257" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching to avoid re-running across multiple output formats</span></span>
<span id="cb59-4258"><a href="#cb59-4258" aria-hidden="true" tabindex="-1"></a>sens8_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens8_models.rds"</span></span>
<span id="cb59-4259"><a href="#cb59-4259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4260"><a href="#cb59-4260" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens8_cache_file)) {</span>
<span id="cb59-4261"><a href="#cb59-4261" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S8 model fits"</span>)</span>
<span id="cb59-4262"><a href="#cb59-4262" aria-hidden="true" tabindex="-1"></a>  sens8_cached <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens8_cache_file)</span>
<span id="cb59-4263"><a href="#cb59-4263" aria-hidden="true" tabindex="-1"></a>  sens8_h2_aut <span class="ot">&lt;-</span> sens8_cached<span class="sc">$</span>h2_aut</span>
<span id="cb59-4264"><a href="#cb59-4264" aria-hidden="true" tabindex="-1"></a>  sens8_h2_com <span class="ot">&lt;-</span> sens8_cached<span class="sc">$</span>h2_com</span>
<span id="cb59-4265"><a href="#cb59-4265" aria-hidden="true" tabindex="-1"></a>  sens8_h2_rel <span class="ot">&lt;-</span> sens8_cached<span class="sc">$</span>h2_rel</span>
<span id="cb59-4266"><a href="#cb59-4266" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-4267"><a href="#cb59-4267" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S8 models..."</span>)</span>
<span id="cb59-4268"><a href="#cb59-4268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4269"><a href="#cb59-4269" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Prepare component-level data for each imputation</span></span>
<span id="cb59-4270"><a href="#cb59-4270" aria-hidden="true" tabindex="-1"></a>  sens8_data <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb59-4271"><a href="#cb59-4271" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Preparing S6 data for imputation {i} of {m_imputations}"</span>))</span>
<span id="cb59-4272"><a href="#cb59-4272" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb59-4273"><a href="#cb59-4273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4274"><a href="#cb59-4274" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate person means for each component (game and global)</span></span>
<span id="cb59-4275"><a href="#cb59-4275" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat_i <span class="sc">|&gt;</span></span>
<span id="cb59-4276"><a href="#cb59-4276" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(pid) <span class="sc">|&gt;</span></span>
<span id="cb59-4277"><a href="#cb59-4277" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb59-4278"><a href="#cb59-4278" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Game needs</span></span>
<span id="cb59-4279"><a href="#cb59-4279" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_aut_pm =</span> <span class="fu">mean</span>(bangs_1, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-4280"><a href="#cb59-4280" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_com_pm =</span> <span class="fu">mean</span>(bangs_3, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-4281"><a href="#cb59-4281" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_rel_pm =</span> <span class="fu">mean</span>(bangs_5, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-4282"><a href="#cb59-4282" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Global need frustration</span></span>
<span id="cb59-4283"><a href="#cb59-4283" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_aut_nf_pm =</span> <span class="fu">mean</span>(bpnsfs_2, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-4284"><a href="#cb59-4284" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_com_nf_pm =</span> <span class="fu">mean</span>(bpnsfs_4, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-4285"><a href="#cb59-4285" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_rel_nf_pm =</span> <span class="fu">mean</span>(bpnsfs_6, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-4286"><a href="#cb59-4286" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb59-4287"><a href="#cb59-4287" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4288"><a href="#cb59-4288" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Calculate grand means</span></span>
<span id="cb59-4289"><a href="#cb59-4289" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb59-4290"><a href="#cb59-4290" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Game needs</span></span>
<span id="cb59-4291"><a href="#cb59-4291" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_aut_gm =</span> <span class="fu">mean</span>(game_aut_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-4292"><a href="#cb59-4292" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_com_gm =</span> <span class="fu">mean</span>(game_com_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-4293"><a href="#cb59-4293" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_rel_gm =</span> <span class="fu">mean</span>(game_rel_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-4294"><a href="#cb59-4294" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Global need frustration</span></span>
<span id="cb59-4295"><a href="#cb59-4295" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_aut_nf_gm =</span> <span class="fu">mean</span>(global_aut_nf_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-4296"><a href="#cb59-4296" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_com_nf_gm =</span> <span class="fu">mean</span>(global_com_nf_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-4297"><a href="#cb59-4297" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_rel_nf_gm =</span> <span class="fu">mean</span>(global_rel_nf_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-4298"><a href="#cb59-4298" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb59-4299"><a href="#cb59-4299" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Within/between centering</span></span>
<span id="cb59-4300"><a href="#cb59-4300" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb59-4301"><a href="#cb59-4301" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Game needs</span></span>
<span id="cb59-4302"><a href="#cb59-4302" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_aut_cw =</span> bangs_1 <span class="sc">-</span> game_aut_pm,</span>
<span id="cb59-4303"><a href="#cb59-4303" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_aut_cb =</span> game_aut_pm <span class="sc">-</span> game_aut_gm,</span>
<span id="cb59-4304"><a href="#cb59-4304" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_com_cw =</span> bangs_3 <span class="sc">-</span> game_com_pm,</span>
<span id="cb59-4305"><a href="#cb59-4305" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_com_cb =</span> game_com_pm <span class="sc">-</span> game_com_gm,</span>
<span id="cb59-4306"><a href="#cb59-4306" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_rel_cw =</span> bangs_5 <span class="sc">-</span> game_rel_pm,</span>
<span id="cb59-4307"><a href="#cb59-4307" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_rel_cb =</span> game_rel_pm <span class="sc">-</span> game_rel_gm,</span>
<span id="cb59-4308"><a href="#cb59-4308" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Global need frustration</span></span>
<span id="cb59-4309"><a href="#cb59-4309" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_aut_nf_cw =</span> bpnsfs_2 <span class="sc">-</span> global_aut_nf_pm,</span>
<span id="cb59-4310"><a href="#cb59-4310" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_aut_nf_cb =</span> global_aut_nf_pm <span class="sc">-</span> global_aut_nf_gm,</span>
<span id="cb59-4311"><a href="#cb59-4311" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_com_nf_cw =</span> bpnsfs_4 <span class="sc">-</span> global_com_nf_pm,</span>
<span id="cb59-4312"><a href="#cb59-4312" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_com_nf_cb =</span> global_com_nf_pm <span class="sc">-</span> global_com_nf_gm,</span>
<span id="cb59-4313"><a href="#cb59-4313" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_rel_nf_cw =</span> bpnsfs_6 <span class="sc">-</span> global_rel_nf_pm,</span>
<span id="cb59-4314"><a href="#cb59-4314" aria-hidden="true" tabindex="-1"></a>        <span class="at">global_rel_nf_cb =</span> global_rel_nf_pm <span class="sc">-</span> global_rel_nf_gm</span>
<span id="cb59-4315"><a href="#cb59-4315" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb59-4316"><a href="#cb59-4316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4317"><a href="#cb59-4317" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(dat_i)</span>
<span id="cb59-4318"><a href="#cb59-4318" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb59-4319"><a href="#cb59-4319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4320"><a href="#cb59-4320" aria-hidden="true" tabindex="-1"></a>  <span class="co"># H2 models: game component + matching global NF component → play</span></span>
<span id="cb59-4321"><a href="#cb59-4321" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S8 H2 autonomy models..."</span>)</span>
<span id="cb59-4322"><a href="#cb59-4322" aria-hidden="true" tabindex="-1"></a>  sens8_h2_aut <span class="ot">&lt;-</span> <span class="fu">pool</span>(<span class="fu">lapply</span>(sens8_data, <span class="cf">function</span>(dat) {</span>
<span id="cb59-4323"><a href="#cb59-4323" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb59-4324"><a href="#cb59-4324" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span> game_aut_cw <span class="sc">+</span></span>
<span id="cb59-4325"><a href="#cb59-4325" aria-hidden="true" tabindex="-1"></a>        global_aut_nf_cw <span class="sc">+</span></span>
<span id="cb59-4326"><a href="#cb59-4326" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-4327"><a href="#cb59-4327" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-4328"><a href="#cb59-4328" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat,</span>
<span id="cb59-4329"><a href="#cb59-4329" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb59-4330"><a href="#cb59-4330" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb59-4331"><a href="#cb59-4331" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-4332"><a href="#cb59-4332" aria-hidden="true" tabindex="-1"></a>  }))</span>
<span id="cb59-4333"><a href="#cb59-4333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4334"><a href="#cb59-4334" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S8 H2 competence models..."</span>)</span>
<span id="cb59-4335"><a href="#cb59-4335" aria-hidden="true" tabindex="-1"></a>  sens8_h2_com <span class="ot">&lt;-</span> <span class="fu">pool</span>(<span class="fu">lapply</span>(sens8_data, <span class="cf">function</span>(dat) {</span>
<span id="cb59-4336"><a href="#cb59-4336" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb59-4337"><a href="#cb59-4337" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span> game_com_cw <span class="sc">+</span></span>
<span id="cb59-4338"><a href="#cb59-4338" aria-hidden="true" tabindex="-1"></a>        global_com_nf_cw <span class="sc">+</span></span>
<span id="cb59-4339"><a href="#cb59-4339" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-4340"><a href="#cb59-4340" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-4341"><a href="#cb59-4341" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat,</span>
<span id="cb59-4342"><a href="#cb59-4342" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb59-4343"><a href="#cb59-4343" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb59-4344"><a href="#cb59-4344" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-4345"><a href="#cb59-4345" aria-hidden="true" tabindex="-1"></a>  }))</span>
<span id="cb59-4346"><a href="#cb59-4346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4347"><a href="#cb59-4347" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S8 H2 relatedness models..."</span>)</span>
<span id="cb59-4348"><a href="#cb59-4348" aria-hidden="true" tabindex="-1"></a>  sens8_h2_rel <span class="ot">&lt;-</span> <span class="fu">pool</span>(<span class="fu">lapply</span>(sens8_data, <span class="cf">function</span>(dat) {</span>
<span id="cb59-4349"><a href="#cb59-4349" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glmmTMB</span>(</span>
<span id="cb59-4350"><a href="#cb59-4350" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span> game_rel_cw <span class="sc">+</span></span>
<span id="cb59-4351"><a href="#cb59-4351" aria-hidden="true" tabindex="-1"></a>        global_rel_nf_cw <span class="sc">+</span></span>
<span id="cb59-4352"><a href="#cb59-4352" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid) <span class="sc">+</span></span>
<span id="cb59-4353"><a href="#cb59-4353" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ar1</span>(wave <span class="sc">+</span> <span class="dv">0</span> <span class="sc">|</span> pid),</span>
<span id="cb59-4354"><a href="#cb59-4354" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat,</span>
<span id="cb59-4355"><a href="#cb59-4355" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb59-4356"><a href="#cb59-4356" aria-hidden="true" tabindex="-1"></a>      <span class="at">ziformula =</span> <span class="sc">~</span><span class="dv">0</span></span>
<span id="cb59-4357"><a href="#cb59-4357" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-4358"><a href="#cb59-4358" aria-hidden="true" tabindex="-1"></a>  }))</span>
<span id="cb59-4359"><a href="#cb59-4359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4360"><a href="#cb59-4360" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb59-4361"><a href="#cb59-4361" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(</span>
<span id="cb59-4362"><a href="#cb59-4362" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb59-4363"><a href="#cb59-4363" aria-hidden="true" tabindex="-1"></a>      <span class="at">h2_aut =</span> sens8_h2_aut,</span>
<span id="cb59-4364"><a href="#cb59-4364" aria-hidden="true" tabindex="-1"></a>      <span class="at">h2_com =</span> sens8_h2_com,</span>
<span id="cb59-4365"><a href="#cb59-4365" aria-hidden="true" tabindex="-1"></a>      <span class="at">h2_rel =</span> sens8_h2_rel</span>
<span id="cb59-4366"><a href="#cb59-4366" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-4367"><a href="#cb59-4367" aria-hidden="true" tabindex="-1"></a>    sens8_cache_file</span>
<span id="cb59-4368"><a href="#cb59-4368" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-4369"><a href="#cb59-4369" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S8 models saved to cache"</span>)</span>
<span id="cb59-4370"><a href="#cb59-4370" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-4371"><a href="#cb59-4371" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-4372"><a href="#cb59-4372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4375"><a href="#cb59-4375" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-4376"><a href="#cb59-4376" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-s8-h2-results</span></span>
<span id="cb59-4377"><a href="#cb59-4377" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "S8: Within-person associations between need components and probability of subsequent play"</span></span>
<span id="cb59-4378"><a href="#cb59-4378" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Create S8 results table)"</span></span>
<span id="cb59-4379"><a href="#cb59-4379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4380"><a href="#cb59-4380" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract within-person effects for both game and global needs from each model</span></span>
<span id="cb59-4381"><a href="#cb59-4381" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(</span>
<span id="cb59-4382"><a href="#cb59-4382" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(sens8_h2_aut) <span class="sc">|&gt;</span></span>
<span id="cb59-4383"><a href="#cb59-4383" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4384"><a href="#cb59-4384" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"game_aut_cw"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-4385"><a href="#cb59-4385" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">predictor =</span> <span class="st">"Game autonomy"</span>),</span>
<span id="cb59-4386"><a href="#cb59-4386" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(sens8_h2_aut) <span class="sc">|&gt;</span></span>
<span id="cb59-4387"><a href="#cb59-4387" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4388"><a href="#cb59-4388" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"global_aut_nf_cw"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-4389"><a href="#cb59-4389" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">predictor =</span> <span class="st">"Global autonomy frustration"</span>),</span>
<span id="cb59-4390"><a href="#cb59-4390" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(sens8_h2_com) <span class="sc">|&gt;</span></span>
<span id="cb59-4391"><a href="#cb59-4391" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4392"><a href="#cb59-4392" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"game_com_cw"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-4393"><a href="#cb59-4393" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">predictor =</span> <span class="st">"Game competence"</span>),</span>
<span id="cb59-4394"><a href="#cb59-4394" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(sens8_h2_com) <span class="sc">|&gt;</span></span>
<span id="cb59-4395"><a href="#cb59-4395" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4396"><a href="#cb59-4396" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"global_com_nf_cw"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-4397"><a href="#cb59-4397" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">predictor =</span> <span class="st">"Global competence frustration"</span>),</span>
<span id="cb59-4398"><a href="#cb59-4398" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(sens8_h2_rel) <span class="sc">|&gt;</span></span>
<span id="cb59-4399"><a href="#cb59-4399" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4400"><a href="#cb59-4400" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"game_rel_cw"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-4401"><a href="#cb59-4401" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">predictor =</span> <span class="st">"Game relatedness"</span>),</span>
<span id="cb59-4402"><a href="#cb59-4402" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(sens8_h2_rel) <span class="sc">|&gt;</span></span>
<span id="cb59-4403"><a href="#cb59-4403" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4404"><a href="#cb59-4404" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"global_rel_nf_cw"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-4405"><a href="#cb59-4405" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">predictor =</span> <span class="st">"Global relatedness frustration"</span>)</span>
<span id="cb59-4406"><a href="#cb59-4406" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb59-4407"><a href="#cb59-4407" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-4408"><a href="#cb59-4408" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(estimate, std.error, statistic), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>)),</span>
<span id="cb59-4409"><a href="#cb59-4409" aria-hidden="true" tabindex="-1"></a>    <span class="at">p.value =</span> <span class="fu">case_when</span>(</span>
<span id="cb59-4410"><a href="#cb59-4410" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;.001"</span>,</span>
<span id="cb59-4411"><a href="#cb59-4411" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(<span class="fu">round</span>(p.value, <span class="dv">3</span>))</span>
<span id="cb59-4412"><a href="#cb59-4412" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-4413"><a href="#cb59-4413" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-4414"><a href="#cb59-4414" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb59-4415"><a href="#cb59-4415" aria-hidden="true" tabindex="-1"></a>    <span class="at">Predictor =</span> predictor,</span>
<span id="cb59-4416"><a href="#cb59-4416" aria-hidden="true" tabindex="-1"></a>    <span class="at">Estimate =</span> estimate,</span>
<span id="cb59-4417"><a href="#cb59-4417" aria-hidden="true" tabindex="-1"></a>    <span class="at">SE =</span> std.error,</span>
<span id="cb59-4418"><a href="#cb59-4418" aria-hidden="true" tabindex="-1"></a>    <span class="at">z =</span> statistic,</span>
<span id="cb59-4419"><a href="#cb59-4419" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> p.value</span>
<span id="cb59-4420"><a href="#cb59-4420" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-4421"><a href="#cb59-4421" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>(</span>
<span id="cb59-4422"><a href="#cb59-4422" aria-hidden="true" tabindex="-1"></a>    <span class="at">notes =</span> <span class="st">"All predictors are within-person effects. Outcome: Probability of playing in subsequent 24 hours."</span></span>
<span id="cb59-4423"><a href="#cb59-4423" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-4424"><a href="#cb59-4424" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-4425"><a href="#cb59-4425" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-4426"><a href="#cb59-4426" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-4427"><a href="#cb59-4427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4428"><a href="#cb59-4428" aria-hidden="true" tabindex="-1"></a><span class="fu">### S9: Game need frustration predicting play</span></span>
<span id="cb59-4429"><a href="#cb59-4429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4430"><a href="#cb59-4430" aria-hidden="true" tabindex="-1"></a>Testing whether game need frustration (rather than satisfaction) predicts subsequent play behavior. This mirrors the H2a hypothesis but uses frustration instead of satisfaction.</span>
<span id="cb59-4431"><a href="#cb59-4431" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4434"><a href="#cb59-4434" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-4435"><a href="#cb59-4435" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: s9-game-nf-model</span></span>
<span id="cb59-4436"><a href="#cb59-4436" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-4437"><a href="#cb59-4437" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (S9: Fit model with game NF predicting play)"</span></span>
<span id="cb59-4438"><a href="#cb59-4438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4439"><a href="#cb59-4439" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching</span></span>
<span id="cb59-4440"><a href="#cb59-4440" aria-hidden="true" tabindex="-1"></a>sens9_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens9_fits.rds"</span></span>
<span id="cb59-4441"><a href="#cb59-4441" aria-hidden="true" tabindex="-1"></a>sens9_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/sens9_pooled.rds"</span></span>
<span id="cb59-4442"><a href="#cb59-4442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4443"><a href="#cb59-4443" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(sens9_pooled_file)) {</span>
<span id="cb59-4444"><a href="#cb59-4444" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S9 pooled results"</span>)</span>
<span id="cb59-4445"><a href="#cb59-4445" aria-hidden="true" tabindex="-1"></a>  sens9_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(sens9_pooled_file)</span>
<span id="cb59-4446"><a href="#cb59-4446" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-4447"><a href="#cb59-4447" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S9 models..."</span>)</span>
<span id="cb59-4448"><a href="#cb59-4448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4449"><a href="#cb59-4449" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Prepare data with game_nf centered</span></span>
<span id="cb59-4450"><a href="#cb59-4450" aria-hidden="true" tabindex="-1"></a>  sens9_data <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb59-4451"><a href="#cb59-4451" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">filter</span>(.imp <span class="sc">==</span> i)</span>
<span id="cb59-4452"><a href="#cb59-4452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4453"><a href="#cb59-4453" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="sc">|&gt;</span></span>
<span id="cb59-4454"><a href="#cb59-4454" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(pid) <span class="sc">|&gt;</span></span>
<span id="cb59-4455"><a href="#cb59-4455" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb59-4456"><a href="#cb59-4456" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_nf_pm =</span> <span class="fu">mean</span>(game_nf, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-4457"><a href="#cb59-4457" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb59-4458"><a href="#cb59-4458" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4459"><a href="#cb59-4459" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb59-4460"><a href="#cb59-4460" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_nf_gm =</span> <span class="fu">mean</span>(game_nf_pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb59-4461"><a href="#cb59-4461" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_nf_cw =</span> game_nf <span class="sc">-</span> game_nf_pm,</span>
<span id="cb59-4462"><a href="#cb59-4462" aria-hidden="true" tabindex="-1"></a>        <span class="at">game_nf_cb =</span> game_nf_pm <span class="sc">-</span> game_nf_gm</span>
<span id="cb59-4463"><a href="#cb59-4463" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb59-4464"><a href="#cb59-4464" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb59-4465"><a href="#cb59-4465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4466"><a href="#cb59-4466" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit models</span></span>
<span id="cb59-4467"><a href="#cb59-4467" aria-hidden="true" tabindex="-1"></a>  sens9_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(sens9_data, <span class="cf">function</span>(dat_i) {</span>
<span id="cb59-4468"><a href="#cb59-4468" aria-hidden="true" tabindex="-1"></a>    glmmTMB<span class="sc">::</span><span class="fu">glmmTMB</span>(</span>
<span id="cb59-4469"><a href="#cb59-4469" aria-hidden="true" tabindex="-1"></a>      telemetry_played_any_24h <span class="sc">~</span></span>
<span id="cb59-4470"><a href="#cb59-4470" aria-hidden="true" tabindex="-1"></a>        game_nf_cw <span class="sc">+</span></span>
<span id="cb59-4471"><a href="#cb59-4471" aria-hidden="true" tabindex="-1"></a>        game_nf_cb <span class="sc">+</span></span>
<span id="cb59-4472"><a href="#cb59-4472" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> pid),</span>
<span id="cb59-4473"><a href="#cb59-4473" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb59-4474"><a href="#cb59-4474" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_i,</span>
<span id="cb59-4475"><a href="#cb59-4475" aria-hidden="true" tabindex="-1"></a>      <span class="at">control =</span> <span class="fu">glmmTMBControl</span>(</span>
<span id="cb59-4476"><a href="#cb59-4476" aria-hidden="true" tabindex="-1"></a>        <span class="at">optimizer =</span> optim,</span>
<span id="cb59-4477"><a href="#cb59-4477" aria-hidden="true" tabindex="-1"></a>        <span class="at">optArgs =</span> <span class="fu">list</span>(<span class="at">method =</span> <span class="st">"BFGS"</span>)</span>
<span id="cb59-4478"><a href="#cb59-4478" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb59-4479"><a href="#cb59-4479" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-4480"><a href="#cb59-4480" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb59-4481"><a href="#cb59-4481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4482"><a href="#cb59-4482" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pool results</span></span>
<span id="cb59-4483"><a href="#cb59-4483" aria-hidden="true" tabindex="-1"></a>  sens9_pooled <span class="ot">&lt;-</span> <span class="fu">pool</span>(sens9_fits)</span>
<span id="cb59-4484"><a href="#cb59-4484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4485"><a href="#cb59-4485" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb59-4486"><a href="#cb59-4486" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens9_fits, sens9_cache_file)</span>
<span id="cb59-4487"><a href="#cb59-4487" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(sens9_pooled, sens9_pooled_file)</span>
<span id="cb59-4488"><a href="#cb59-4488" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S9 models saved to cache"</span>)</span>
<span id="cb59-4489"><a href="#cb59-4489" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-4490"><a href="#cb59-4490" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-4491"><a href="#cb59-4491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4494"><a href="#cb59-4494" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-4495"><a href="#cb59-4495" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-s9-results</span></span>
<span id="cb59-4496"><a href="#cb59-4496" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "S9: Game need frustration predicting subsequent play"</span></span>
<span id="cb59-4497"><a href="#cb59-4497" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Create S10 results table)"</span></span>
<span id="cb59-4498"><a href="#cb59-4498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4499"><a href="#cb59-4499" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sens9_pooled) <span class="sc">|&gt;</span></span>
<span id="cb59-4500"><a href="#cb59-4500" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4501"><a href="#cb59-4501" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>, <span class="sc">!</span><span class="fu">str_detect</span>(term, <span class="st">"_cb"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-4502"><a href="#cb59-4502" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, estimate, std.error, statistic, p.value) <span class="sc">|&gt;</span></span>
<span id="cb59-4503"><a href="#cb59-4503" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-4504"><a href="#cb59-4504" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">ifelse</span>(term <span class="sc">%in%</span> <span class="fu">names</span>(labels), labels[term], term),</span>
<span id="cb59-4505"><a href="#cb59-4505" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(estimate, std.error, statistic), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>)),</span>
<span id="cb59-4506"><a href="#cb59-4506" aria-hidden="true" tabindex="-1"></a>    <span class="at">p.value =</span> <span class="fu">case_when</span>(</span>
<span id="cb59-4507"><a href="#cb59-4507" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;.001"</span>,</span>
<span id="cb59-4508"><a href="#cb59-4508" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(<span class="fu">round</span>(p.value, <span class="dv">3</span>))</span>
<span id="cb59-4509"><a href="#cb59-4509" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-4510"><a href="#cb59-4510" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-4511"><a href="#cb59-4511" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb59-4512"><a href="#cb59-4512" aria-hidden="true" tabindex="-1"></a>    <span class="at">Parameter =</span> term,</span>
<span id="cb59-4513"><a href="#cb59-4513" aria-hidden="true" tabindex="-1"></a>    <span class="at">Estimate =</span> estimate,</span>
<span id="cb59-4514"><a href="#cb59-4514" aria-hidden="true" tabindex="-1"></a>    <span class="at">SE =</span> std.error,</span>
<span id="cb59-4515"><a href="#cb59-4515" aria-hidden="true" tabindex="-1"></a>    <span class="at">z =</span> statistic,</span>
<span id="cb59-4516"><a href="#cb59-4516" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> p.value</span>
<span id="cb59-4517"><a href="#cb59-4517" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-4518"><a href="#cb59-4518" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4519"><a href="#cb59-4519" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.7</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-4520"><a href="#cb59-4520" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-4521"><a href="#cb59-4521" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-4522"><a href="#cb59-4522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4523"><a href="#cb59-4523" aria-hidden="true" tabindex="-1"></a>Results show that when people experience higher than usual in-game need frustration, they are less likely to play on the following day---but that this relationship is very small. Nonetheless, in contrast to the robust null results for game need satisfaction across various specifications, this provides some initial evidence that need frustration may be more salient for day-to-day change in gaming behavior than need satisfaction.</span>
<span id="cb59-4524"><a href="#cb59-4524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4525"><a href="#cb59-4525" aria-hidden="true" tabindex="-1"></a><span class="fu">### S10: H3 displacement by specific core life domain</span></span>
<span id="cb59-4526"><a href="#cb59-4526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4527"><a href="#cb59-4527" aria-hidden="true" tabindex="-1"></a>The main H3 analysis aggregated all core life domains (work/school, social engagements, sleep/eating/fitness, caretaking) into a single binary indicator. Here we test whether specific domains show differential relationships with global need satisfaction.</span>
<span id="cb59-4528"><a href="#cb59-4528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4531"><a href="#cb59-4531" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-4532"><a href="#cb59-4532" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: s10-h3-by-domain-prep</span></span>
<span id="cb59-4533"><a href="#cb59-4533" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (S10: Prepare domain-specific displacement indicators)"</span></span>
<span id="cb59-4534"><a href="#cb59-4534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4535"><a href="#cb59-4535" aria-hidden="true" tabindex="-1"></a><span class="co"># Create domain-specific displacement indicators</span></span>
<span id="cb59-4536"><a href="#cb59-4536" aria-hidden="true" tabindex="-1"></a>dat_domains <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span></span>
<span id="cb59-4537"><a href="#cb59-4537" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb59-4538"><a href="#cb59-4538" aria-hidden="true" tabindex="-1"></a>    activity_categories <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, wave, activity_label),</span>
<span id="cb59-4539"><a href="#cb59-4539" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"wave"</span>)</span>
<span id="cb59-4540"><a href="#cb59-4540" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-4541"><a href="#cb59-4541" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-4542"><a href="#cb59-4542" aria-hidden="true" tabindex="-1"></a>    <span class="at">displaced_work_school =</span> activity_label <span class="sc">==</span> <span class="st">"work_school"</span>,</span>
<span id="cb59-4543"><a href="#cb59-4543" aria-hidden="true" tabindex="-1"></a>    <span class="at">displaced_social =</span> activity_label <span class="sc">==</span> <span class="st">"social_engagement"</span>,</span>
<span id="cb59-4544"><a href="#cb59-4544" aria-hidden="true" tabindex="-1"></a>    <span class="at">displaced_health_sleep =</span> activity_label <span class="sc">==</span> <span class="st">"sleep_eat_fitness"</span>,</span>
<span id="cb59-4545"><a href="#cb59-4545" aria-hidden="true" tabindex="-1"></a>    <span class="at">displaced_caretaking =</span> activity_label <span class="sc">==</span> <span class="st">"caretaking"</span></span>
<span id="cb59-4546"><a href="#cb59-4546" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-4547"><a href="#cb59-4547" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-4548"><a href="#cb59-4548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4551"><a href="#cb59-4551" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-4552"><a href="#cb59-4552" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: s10-h3-by-domain-models</span></span>
<span id="cb59-4553"><a href="#cb59-4553" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb59-4554"><a href="#cb59-4554" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (S10: Fit H3 models for each core life domain)"</span></span>
<span id="cb59-4555"><a href="#cb59-4555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4556"><a href="#cb59-4556" aria-hidden="true" tabindex="-1"></a><span class="co"># File-based caching</span></span>
<span id="cb59-4557"><a href="#cb59-4557" aria-hidden="true" tabindex="-1"></a>s10_cache_file <span class="ot">&lt;-</span> <span class="st">"data/models/s10_fits.rds"</span></span>
<span id="cb59-4558"><a href="#cb59-4558" aria-hidden="true" tabindex="-1"></a>s10_pooled_file <span class="ot">&lt;-</span> <span class="st">"data/models/s10_pooled.rds"</span></span>
<span id="cb59-4559"><a href="#cb59-4559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4560"><a href="#cb59-4560" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(s10_cache_file) <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(s10_pooled_file)) {</span>
<span id="cb59-4561"><a href="#cb59-4561" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Loading cached S10 model fits"</span>)</span>
<span id="cb59-4562"><a href="#cb59-4562" aria-hidden="true" tabindex="-1"></a>  s10_fits <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(s10_cache_file)</span>
<span id="cb59-4563"><a href="#cb59-4563" aria-hidden="true" tabindex="-1"></a>  s10_pooled <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(s10_pooled_file)</span>
<span id="cb59-4564"><a href="#cb59-4564" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb59-4565"><a href="#cb59-4565" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Fitting S10 models..."</span>)</span>
<span id="cb59-4566"><a href="#cb59-4566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4567"><a href="#cb59-4567" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit separate model for each domain</span></span>
<span id="cb59-4568"><a href="#cb59-4568" aria-hidden="true" tabindex="-1"></a>  domains <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb59-4569"><a href="#cb59-4569" aria-hidden="true" tabindex="-1"></a>    <span class="st">"displaced_work_school"</span>,</span>
<span id="cb59-4570"><a href="#cb59-4570" aria-hidden="true" tabindex="-1"></a>    <span class="st">"displaced_social"</span>,</span>
<span id="cb59-4571"><a href="#cb59-4571" aria-hidden="true" tabindex="-1"></a>    <span class="st">"displaced_health_sleep"</span>,</span>
<span id="cb59-4572"><a href="#cb59-4572" aria-hidden="true" tabindex="-1"></a>    <span class="st">"displaced_caretaking"</span></span>
<span id="cb59-4573"><a href="#cb59-4573" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-4574"><a href="#cb59-4574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4575"><a href="#cb59-4575" aria-hidden="true" tabindex="-1"></a>  s10_fits <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb59-4576"><a href="#cb59-4576" aria-hidden="true" tabindex="-1"></a>  s10_pooled <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb59-4577"><a href="#cb59-4577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4578"><a href="#cb59-4578" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (domain <span class="cf">in</span> domains) {</span>
<span id="cb59-4579"><a href="#cb59-4579" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="fu">glue</span>(<span class="st">"Fitting model for {domain}"</span>))</span>
<span id="cb59-4580"><a href="#cb59-4580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4581"><a href="#cb59-4581" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Filter to only observations where this specific domain could be displaced</span></span>
<span id="cb59-4582"><a href="#cb59-4582" aria-hidden="true" tabindex="-1"></a>    <span class="co"># (i.e., where the activity_label indicates this domain or other)</span></span>
<span id="cb59-4583"><a href="#cb59-4583" aria-hidden="true" tabindex="-1"></a>    domain_fits <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m_imputations, <span class="cf">function</span>(i) {</span>
<span id="cb59-4584"><a href="#cb59-4584" aria-hidden="true" tabindex="-1"></a>      dat_i <span class="ot">&lt;-</span> dat_domains <span class="sc">|&gt;</span></span>
<span id="cb59-4585"><a href="#cb59-4585" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(.imp <span class="sc">==</span> i, <span class="sc">!</span><span class="fu">is.na</span>(<span class="sc">!!</span><span class="fu">sym</span>(domain)))</span>
<span id="cb59-4586"><a href="#cb59-4586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4587"><a href="#cb59-4587" aria-hidden="true" tabindex="-1"></a>      <span class="fu">glmmTMB</span>(</span>
<span id="cb59-4588"><a href="#cb59-4588" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as.formula</span>(<span class="fu">glue</span>(</span>
<span id="cb59-4589"><a href="#cb59-4589" aria-hidden="true" tabindex="-1"></a>          <span class="st">"global_ns ~ {domain} + (1 + {domain} | pid) + ar1(wave + 0 | pid)"</span></span>
<span id="cb59-4590"><a href="#cb59-4590" aria-hidden="true" tabindex="-1"></a>        )),</span>
<span id="cb59-4591"><a href="#cb59-4591" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> dat_i</span>
<span id="cb59-4592"><a href="#cb59-4592" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb59-4593"><a href="#cb59-4593" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb59-4594"><a href="#cb59-4594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4595"><a href="#cb59-4595" aria-hidden="true" tabindex="-1"></a>    s10_fits[[domain]] <span class="ot">&lt;-</span> domain_fits</span>
<span id="cb59-4596"><a href="#cb59-4596" aria-hidden="true" tabindex="-1"></a>    s10_pooled[[domain]] <span class="ot">&lt;-</span> <span class="fu">pool</span>(domain_fits)</span>
<span id="cb59-4597"><a href="#cb59-4597" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb59-4598"><a href="#cb59-4598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4599"><a href="#cb59-4599" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save to cache</span></span>
<span id="cb59-4600"><a href="#cb59-4600" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="st">"data/models"</span>, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-4601"><a href="#cb59-4601" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(s10_fits, s10_cache_file)</span>
<span id="cb59-4602"><a href="#cb59-4602" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(s10_pooled, s10_pooled_file)</span>
<span id="cb59-4603"><a href="#cb59-4603" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"S10 models saved to cache"</span>)</span>
<span id="cb59-4604"><a href="#cb59-4604" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-4605"><a href="#cb59-4605" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-4606"><a href="#cb59-4606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4609"><a href="#cb59-4609" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-4610"><a href="#cb59-4610" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-s10-domain-results</span></span>
<span id="cb59-4611"><a href="#cb59-4611" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "H3 sensitivity analysis: Effect of displacing specific core life domains on global need satisfaction"</span></span>
<span id="cb59-4612"><a href="#cb59-4612" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show code (Create S10 results table)"</span></span>
<span id="cb59-4613"><a href="#cb59-4613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4614"><a href="#cb59-4614" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract results for each domain</span></span>
<span id="cb59-4615"><a href="#cb59-4615" aria-hidden="true" tabindex="-1"></a>s10_results <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb59-4616"><a href="#cb59-4616" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lapply</span>(<span class="fu">names</span>(s10_pooled), <span class="cf">function</span>(domain) {</span>
<span id="cb59-4617"><a href="#cb59-4617" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summary</span>(s10_pooled[[domain]]) <span class="sc">|&gt;</span></span>
<span id="cb59-4618"><a href="#cb59-4618" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-4619"><a href="#cb59-4619" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">str_detect</span>(term, <span class="st">"TRUE"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-4620"><a href="#cb59-4620" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(term, estimate, std.error, statistic, p.value) <span class="sc">|&gt;</span></span>
<span id="cb59-4621"><a href="#cb59-4621" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb59-4622"><a href="#cb59-4622" aria-hidden="true" tabindex="-1"></a>        <span class="at">Domain =</span> <span class="fu">case_when</span>(</span>
<span id="cb59-4623"><a href="#cb59-4623" aria-hidden="true" tabindex="-1"></a>          domain <span class="sc">==</span> <span class="st">"displaced_work_school"</span> <span class="sc">~</span> <span class="st">"Work/School"</span>,</span>
<span id="cb59-4624"><a href="#cb59-4624" aria-hidden="true" tabindex="-1"></a>          domain <span class="sc">==</span> <span class="st">"displaced_social"</span> <span class="sc">~</span> <span class="st">"Social Engagement"</span>,</span>
<span id="cb59-4625"><a href="#cb59-4625" aria-hidden="true" tabindex="-1"></a>          domain <span class="sc">==</span> <span class="st">"displaced_health_sleep"</span> <span class="sc">~</span> <span class="st">"Sleep/Eating/Fitness"</span>,</span>
<span id="cb59-4626"><a href="#cb59-4626" aria-hidden="true" tabindex="-1"></a>          domain <span class="sc">==</span> <span class="st">"displaced_caretaking"</span> <span class="sc">~</span> <span class="st">"Caretaking"</span>,</span>
<span id="cb59-4627"><a href="#cb59-4627" aria-hidden="true" tabindex="-1"></a>          <span class="cn">TRUE</span> <span class="sc">~</span> domain</span>
<span id="cb59-4628"><a href="#cb59-4628" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb59-4629"><a href="#cb59-4629" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb59-4630"><a href="#cb59-4630" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(Domain, estimate, std.error, statistic, p.value)</span>
<span id="cb59-4631"><a href="#cb59-4631" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb59-4632"><a href="#cb59-4632" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-4633"><a href="#cb59-4633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4634"><a href="#cb59-4634" aria-hidden="true" tabindex="-1"></a>s10_results <span class="sc">|&gt;</span></span>
<span id="cb59-4635"><a href="#cb59-4635" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-4636"><a href="#cb59-4636" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(estimate, std.error, statistic), <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>)),</span>
<span id="cb59-4637"><a href="#cb59-4637" aria-hidden="true" tabindex="-1"></a>    <span class="at">p.value =</span> <span class="fu">case_when</span>(</span>
<span id="cb59-4638"><a href="#cb59-4638" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt;.001"</span>,</span>
<span id="cb59-4639"><a href="#cb59-4639" aria-hidden="true" tabindex="-1"></a>      p.value <span class="sc">&lt;</span> <span class="fl">0.01</span> <span class="sc">~</span> <span class="fu">sprintf</span>(<span class="st">"%.3f"</span>, p.value),</span>
<span id="cb59-4640"><a href="#cb59-4640" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">sprintf</span>(<span class="st">"%.2f"</span>, p.value)</span>
<span id="cb59-4641"><a href="#cb59-4641" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-4642"><a href="#cb59-4642" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-4643"><a href="#cb59-4643" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>(</span>
<span id="cb59-4644"><a href="#cb59-4644" aria-hidden="true" tabindex="-1"></a>    <span class="at">escape =</span> <span class="cn">TRUE</span>,</span>
<span id="cb59-4645"><a href="#cb59-4645" aria-hidden="true" tabindex="-1"></a>    <span class="at">notes =</span> <span class="st">"All models include random intercepts, random slopes, and AR(1) autocorrelation. Estimates represent the difference in global need satisfaction when the specific domain was displaced vs. not displaced."</span></span>
<span id="cb59-4646"><a href="#cb59-4646" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb59-4647"><a href="#cb59-4647" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">fontsize =</span> <span class="fl">0.8</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-4648"><a href="#cb59-4648" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">i =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-4649"><a href="#cb59-4649" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-4650"><a href="#cb59-4650" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4651"><a href="#cb59-4651" aria-hidden="true" tabindex="-1"></a>Results showed that global need satisfaction was lower when gaming displaced work/school responsibilities and sleep/eating/fitness, but---contrary to expectations---tended to be higher when gaming displaced social engagements or caretaking. We return to this in the discussion. </span>
</code></pre></div><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>